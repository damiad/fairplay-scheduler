(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function jE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function mS(){if(k_)return Hl;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=t,Hl.jsxs=t,Hl}var L_;function pS(){return L_||(L_=1,bm.exports=mS()),bm.exports}var M=pS(),wm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function gS(){if(U_)return Re;U_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,j={};function G(N,ne,oe){this.props=N,this.context=ne,this.refs=j,this.updater=oe||D}G.prototype.isReactComponent={},G.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=G.prototype;function $(N,ne,oe){this.props=N,this.context=ne,this.refs=j,this.updater=oe||D}var re=$.prototype=new H;re.constructor=$,x(re,G.prototype),re.isPureReactComponent=!0;var fe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function P(N,ne,oe,ie,ge,xe){return oe=xe.ref,{$$typeof:r,type:N,key:ne,ref:oe!==void 0?oe:null,props:xe}}function A(N,ne){return P(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return ne[oe]})}var k=/\/+/g;function U(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):ne.toString(36)}function C(){}function Ut(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function lt(N,ne,oe,ie,ge){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case r:case e:we=!0;break;case E:return we=N._init,lt(we(N._payload),ne,oe,ie,ge)}}if(we)return ge=ge(N),we=ie===""?"."+U(N,0):ie,fe(ge)?(oe="",we!=null&&(oe=we.replace(k,"$&/")+"/"),lt(ge,ne,oe,"",function(Jn){return Jn})):ge!=null&&(R(ge)&&(ge=A(ge,oe+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(k,"$&/")+"/")+we)),ne.push(ge)),1;we=0;var Dt=ie===""?".":ie+":";if(fe(N))for(var et=0;et<N.length;et++)ie=N[et],xe=Dt+U(ie,et),we+=lt(ie,ne,oe,xe,ge);else if(et=b(N),typeof et=="function")for(N=et.call(N),et=0;!(ie=N.next()).done;)ie=ie.value,xe=Dt+U(ie,et++),we+=lt(ie,ne,oe,xe,ge);else if(xe==="object"){if(typeof N.then=="function")return lt(Ut(N),ne,oe,ie,ge);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(N,ne,oe){if(N==null)return N;var ie=[],ge=0;return lt(N,ie,"","",function(xe){return ne.call(oe,xe,ge++)}),ie}function ae(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Be(){}return Re.Children={map:X,forEach:function(N,ne,oe){X(N,function(){ne.apply(this,arguments)},oe)},count:function(N){var ne=0;return X(N,function(){ne++}),ne},toArray:function(N){return X(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=G,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=$,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,ne,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=x({},N.props),ge=N.key,xe=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(xe=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ve.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(ie[we]=ne[we]);var we=arguments.length-2;if(we===1)ie.children=oe;else if(1<we){for(var Dt=Array(we),et=0;et<we;et++)Dt[et]=arguments[et+2];ie.children=Dt}return P(N.type,ge,void 0,void 0,xe,ie)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,ne,oe){var ie,ge={},xe=null;if(ne!=null)for(ie in ne.key!==void 0&&(xe=""+ne.key),ne)ve.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ne[ie]);var we=arguments.length-2;if(we===1)ge.children=oe;else if(1<we){for(var Dt=Array(we),et=0;et<we;et++)Dt[et]=arguments[et+2];ge.children=Dt}if(N&&N.defaultProps)for(ie in we=N.defaultProps,we)ge[ie]===void 0&&(ge[ie]=we[ie]);return P(N,xe,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=R,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ae}},Re.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},Re.startTransition=function(N){var ne=he.T,oe={};he.T=oe;try{var ie=N(),ge=he.S;ge!==null&&ge(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,me)}catch(xe){me(xe)}finally{he.T=ne}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(N){return he.H.use(N)},Re.useActionState=function(N,ne,oe){return he.H.useActionState(N,ne,oe)},Re.useCallback=function(N,ne){return he.H.useCallback(N,ne)},Re.useContext=function(N){return he.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,ne){return he.H.useDeferredValue(N,ne)},Re.useEffect=function(N,ne,oe){var ie=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,ne)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(N,ne,oe){return he.H.useImperativeHandle(N,ne,oe)},Re.useInsertionEffect=function(N,ne){return he.H.useInsertionEffect(N,ne)},Re.useLayoutEffect=function(N,ne){return he.H.useLayoutEffect(N,ne)},Re.useMemo=function(N,ne){return he.H.useMemo(N,ne)},Re.useOptimistic=function(N,ne){return he.H.useOptimistic(N,ne)},Re.useReducer=function(N,ne,oe){return he.H.useReducer(N,ne,oe)},Re.useRef=function(N){return he.H.useRef(N)},Re.useState=function(N){return he.H.useState(N)},Re.useSyncExternalStore=function(N,ne,oe){return he.H.useSyncExternalStore(N,ne,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.0",Re}var j_;function Tp(){return j_||(j_=1,wm.exports=gS()),wm.exports}var z=Tp();const yS=jE(z);var Sm={exports:{}},Fl={},Am={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function vS(){return z_||(z_=1,function(r){function e(X,ae){var me=X.length;X.push(ae);e:for(;0<me;){var Be=me-1>>>1,N=X[Be];if(0<o(N,ae))X[Be]=ae,X[me]=N,me=Be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],me=X.pop();if(me!==ae){X[0]=me;e:for(var Be=0,N=X.length,ne=N>>>1;Be<ne;){var oe=2*(Be+1)-1,ie=X[oe],ge=oe+1,xe=X[ge];if(0>o(ie,me))ge<N&&0>o(xe,ie)?(X[Be]=xe,X[ge]=me,Be=ge):(X[Be]=ie,X[oe]=me,Be=oe);else if(ge<N&&0>o(xe,me))X[Be]=xe,X[ge]=me,Be=ge;else break e}}return ae}function o(X,ae){var me=X.sortIndex-ae.sortIndex;return me!==0?me:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,b=3,D=!1,x=!1,j=!1,G=!1,H=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=X)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function he(X){if(j=!1,fe(X),!x)if(t(p)!==null)x=!0,ve||(ve=!0,U());else{var ae=t(g);ae!==null&&lt(he,ae.startTime-X)}}var ve=!1,P=-1,A=5,R=-1;function O(){return G?!0:!(r.unstable_now()-R<A)}function k(){if(G=!1,ve){var X=r.unstable_now();R=X;var ae=!0;try{e:{x=!1,j&&(j=!1,$(P),P=-1),D=!0;var me=b;try{t:{for(fe(X),w=t(p);w!==null&&!(w.expirationTime>X&&O());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,b=w.priorityLevel;var N=Be(w.expirationTime<=X);if(X=r.unstable_now(),typeof N=="function"){w.callback=N,fe(X),ae=!0;break t}w===t(p)&&s(p),fe(X)}else s(p);w=t(p)}if(w!==null)ae=!0;else{var ne=t(g);ne!==null&&lt(he,ne.startTime-X),ae=!1}}break e}finally{w=null,b=me,D=!1}ae=void 0}}finally{ae?U():ve=!1}}}var U;if(typeof re=="function")U=function(){re(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ut=C.port2;C.port1.onmessage=k,U=function(){Ut.postMessage(null)}}else U=function(){H(k,0)};function lt(X,ae){P=H(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var me=b;b=ae;try{return X()}finally{b=me}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=b;b=X;try{return ae()}finally{b=me}},r.unstable_scheduleCallback=function(X,ae,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,X={id:E++,callback:ae,priorityLevel:X,startTime:me,expirationTime:N,sortIndex:-1},me>Be?(X.sortIndex=me,e(g,X),t(p)===null&&X===t(g)&&(j?($(P),P=-1):j=!0,lt(he,me-Be))):(X.sortIndex=N,e(p,X),x||D||(x=!0,ve||(ve=!0,U()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var ae=b;return function(){var me=b;b=ae;try{return X.apply(this,arguments)}finally{b=me}}}}(Rm)),Rm}var B_;function _S(){return B_||(B_=1,Am.exports=vS()),Am.exports}var Im={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function ES(){if(q_)return $t;q_=1;var r=Tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},$t.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var H_;function TS(){if(H_)return Im.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=ES(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function bS(){if(F_)return Fl;F_=1;var r=_S(),e=Tp(),t=TS();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),re=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Ut(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case G:return"Profiler";case j:return"StrictMode";case he:return"Suspense";case ve:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case re:return(n.displayName||"Context")+".Provider";case $:return(n._context.displayName||"Context")+".Consumer";case fe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return i=n.displayName||null,i!==null?i:Ut(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return Ut(n(i))}catch{}}return null}var lt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],N=-1;function ne(n){return{current:n}}function oe(n){0>N||(n.current=Be[N],Be[N]=null,N--)}function ie(n,i){N++,Be[N]=n.current,n.current=i}var ge=ne(null),xe=ne(null),we=ne(null),Dt=ne(null);function et(n,i){switch(ie(we,i),ie(xe,n),ie(ge,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?c_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=c_(i),n=h_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(ge),ie(ge,n)}function Jn(){oe(ge),oe(xe),oe(we)}function hi(n){n.memoizedState!==null&&ie(Dt,n);var i=ge.current,a=h_(i,n.type);i!==a&&(ie(xe,n),ie(ge,a))}function Sr(n){xe.current===n&&(oe(ge),oe(xe)),Dt.current===n&&(oe(Dt),Ul._currentValue=me)}var us=Object.prototype.hasOwnProperty,cs=r.unstable_scheduleCallback,hs=r.unstable_cancelCallback,Po=r.unstable_shouldYield,Vu=r.unstable_requestPaint,wn=r.unstable_now,bf=r.unstable_getCurrentPriorityLevel,ko=r.unstable_ImmediatePriority,fa=r.unstable_UserBlockingPriority,fs=r.unstable_NormalPriority,wf=r.unstable_LowPriority,da=r.unstable_IdlePriority,Lo=r.log,Pu=r.unstable_setDisableYieldValue,ut=null,Ge=null;function dn(n){if(typeof Lo=="function"&&Pu(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,n)}catch{}}var Qt=Math.clz32?Math.clz32:ds,ku=Math.log,Sf=Math.LN2;function ds(n){return n>>>=0,n===0?32:31-(ku(n)/Sf|0)|0}var ms=256,ps=4194304;function jn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ma(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=jn(l):(_&=T,_!==0?h=jn(_):a||(a=T&~n,a!==0&&(h=jn(a))))):(T=l&~d,T!==0?h=jn(T):_!==0?h=jn(_):a||(a=l&~n,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function gs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Uo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var n=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),n}function zo(){var n=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),n}function Ar(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Rr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bo(n,i,a,l,h,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,F=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Qt(a),ee=1<<W;T[W]=0,I[W]=-1;var Y=F[W];if(Y!==null)for(F[W]=null,W=0;W<Y.length;W++){var Q=Y[W];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&er(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function er(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Qt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function qo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function fi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function di(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:D_(n.type))}function Lu(n,i){var a=ae.p;try{return ae.p=n,i()}finally{ae.p=a}}var rt=Math.random().toString(36).slice(2),St="__reactFiber$"+rt,yt="__reactProps$"+rt,Sn="__reactContainer$"+rt,Ho="__reactEvents$"+rt,Af="__reactListeners$"+rt,mi="__reactHandles$"+rt,Uu="__reactResources$"+rt,ys="__reactMarker$"+rt;function pi(n){delete n[St],delete n[yt],delete n[Ho],delete n[Af],delete n[mi]}function Ir(n){var i=n[St];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Sn]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=p_(n);n!==null;){if(a=n[St])return a;n=p_(n)}return i}n=a,a=n.parentNode}return null}function tr(n){if(n=n[St]||n[Sn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function nr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function en(n){var i=n[Uu];return i||(i=n[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(n){n[ys]=!0}var Fo=new Set,ga={};function zn(n,i){Cr(n,i),Cr(n+"Capture",i)}function Cr(n,i){for(ga[n]=i,n=0;n<i.length;n++)Fo.add(i[n])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},vs={};function Bu(n){return us.call(vs,n)?!0:us.call(zu,n)?!1:ju.test(n)?vs[n]=!0:(zu[n]=!0,!1)}function gi(n,i,a){if(Bu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function rr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function jt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var _s,qu;function xr(n){if(_s===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_s=i&&i[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+n+qu}var ya=!1;function va(n,i){if(!n||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var Y=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){Y=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),F=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var W=`
`+I[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=h);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?xr(a):""}function Go(n){switch(n.tag){case 26:case 27:case 5:return xr(n.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return va(n.type,!1);case 11:return va(n.type.render,!1);case 1:return va(n.type,!0);case 31:return xr("Activity");default:return""}}function _a(n){try{var i="";do i+=Go(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rf(n){var i=Yo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ea(n){n._valueTracker||(n._valueTracker=Rf(n))}function Qo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Yo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Es(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var If=/[\n"\\]/g;function vt(n){return n.replace(If,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(n,i,a,l,h,d,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+tn(i)):n.value!==""+tn(i)&&(n.value=""+tn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?yi(n,_,tn(i)):a!=null?yi(n,_,tn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function Ts(n,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function yi(n,i,a){i==="number"&&Es(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Dr(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function $e(n,i,a){if(i!=null&&(i=""+tn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+tn(a):""}function bs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function An(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||ws.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Ko(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Hu(n,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(n,d,i[d])}function $o(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return xf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Nr=null;function Rn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Or=null,Mr=null;function Xo(n){var i=tr(n);if(i&&(n=i.stateNode)){var a=n[yt]||null;e:switch(n=i.stateNode,i.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[yt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Qo(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Dr(n,!!a.multiple,i,!1)}}}var ir=!1;function Fu(n,i,a){if(ir)return n(i,a);ir=!0;try{var l=n(i);return l}finally{if(ir=!1,(Or!==null||Mr!==null)&&(Lc(),Or&&(i=Or,n=Mr,Mr=Or=null,Xo(i),n)))for(i=0;i<n.length;i++)Xo(n[i])}}function Ss(n,i){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Bn)try{var As={};Object.defineProperty(As,"passive",{get:function(){In=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{In=!1}var sr=null,vi=null,Vr=null;function Wo(){if(Vr)return Vr;var n,i=vi,a=i.length,l,h="value"in sr?sr.value:sr.textContent,d=h.length;for(n=0;n<a&&i[n]===h[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Vr=h.slice(n,1<l?1-l:void 0)}function ar(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function or(){return!0}function Zo(){return!1}function Nt(n){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Zo,this.isPropagationStopped=Zo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Nt(He),Rs=E({},He,{view:0,detail:0}),Gu=Nt(Rs),wa,Sa,lr,Is=E({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lr&&(lr&&n.type==="mousemove"?(wa=n.screenX-lr.screenX,Sa=n.screenY-lr.screenY):Sa=wa=0,lr=n),wa)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),Cn=Nt(Is),Yu=E({},Is,{dataTransfer:0}),Df=Nt(Yu),Cs=E({},Rs,{relatedTarget:0}),Aa=Nt(Cs),Jo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Nt(Jo),Qu=E({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ia=Nt(Qu),Nf=E({},He,{data:0}),el=Nt(Nf),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$u[n])?!!i[n]:!1}function Ds(){return tl}var Xu=E({},Rs,{key:function(n){if(n.key){var i=xs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ar(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ku[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(n){return n.type==="keypress"?ar(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ar(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ca=Nt(Xu),Wu=E({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Nt(Wu),Pr=E({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Zu=Nt(Pr),Ju=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Nt(Ju),tc=E({},Is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Nt(tc),nn=E({},He,{newState:0,oldState:0}),nc=Nt(nn),rc=[9,13,27,32],ur=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,v=Bn&&(!ur||c&&8<c&&11>=c),S=" ",B=!1;function K(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function At(n,i){switch(n){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return n=i.data,n===S&&B?null:n;default:return null}}function ke(n,i){if(Pe)return n==="compositionend"||!ur&&K(n,i)?(n=Wo(),Vr=vi=sr=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ot[n.type]:i==="textarea"}function kr(n,i,a,l){Or?Mr?Mr.push(l):Mr=[l]:Or=l,i=Hc(i,"onChange"),0<i.length&&(a=new ba("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var zt=null,cr=null;function rl(n){s_(n,0)}function ic(n){var i=nr(n);if(Qo(i))return n}function Rg(n,i){if(n==="change")return i}var Ig=!1;if(Bn){var Of;if(Bn){var Mf="oninput"in document;if(!Mf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Mf=typeof Cg.oninput=="function"}Of=Mf}else Of=!1;Ig=Of&&(!document.documentMode||9<document.documentMode)}function xg(){zt&&(zt.detachEvent("onpropertychange",Dg),cr=zt=null)}function Dg(n){if(n.propertyName==="value"&&ic(cr)){var i=[];kr(i,cr,n,Rn(n)),Fu(rl,i)}}function Fw(n,i,a){n==="focusin"?(xg(),zt=i,cr=a,zt.attachEvent("onpropertychange",Dg)):n==="focusout"&&xg()}function Gw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(cr)}function Yw(n,i){if(n==="click")return ic(i)}function Qw(n,i){if(n==="input"||n==="change")return ic(i)}function Kw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var pn=typeof Object.is=="function"?Object.is:Kw;function il(n,i){if(pn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!us.call(i,h)||!pn(n[h],i[h]))return!1}return!0}function Ng(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Og(n,i){var a=Ng(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Mg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Mg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Vg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Es(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Es(n.document)}return i}function Vf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var $w=Bn&&"documentMode"in document&&11>=document.documentMode,Da=null,Pf=null,sl=null,kf=!1;function Pg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||Da==null||Da!==Es(l)||(l=Da,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Hc(Pf,"onSelect"),0<l.length&&(i=new ba("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Da)))}function Ns(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Na={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Lf={},kg={};Bn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Os(n){if(Lf[n])return Lf[n];if(!Na[n])return n;var i=Na[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in kg)return Lf[n]=i[a];return n}var Lg=Os("animationend"),Ug=Os("animationiteration"),jg=Os("animationstart"),Xw=Os("transitionrun"),Ww=Os("transitionstart"),Zw=Os("transitioncancel"),zg=Os("transitionend"),Bg=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function qn(n,i){Bg.set(n,i),zn(i,[n])}var qg=new WeakMap;function xn(n,i){if(typeof n=="object"&&n!==null){var a=qg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:_a(i)},qg.set(n,i),i)}return{value:n,source:i,stack:_a(i)}}var Dn=[],Oa=0,jf=0;function sc(){for(var n=Oa,i=jf=Oa=0;i<n;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function ac(n,i,a,l){Dn[Oa++]=n,Dn[Oa++]=i,Dn[Oa++]=a,Dn[Oa++]=l,jf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function zf(n,i,a,l){return ac(n,i,a,l),oc(n)}function Ma(n,i){return ac(n,null,null,i),oc(n)}function Hg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&i!==null&&(h=31-Qt(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(n){if(50<Dl)throw Dl=0,Yd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Va={};function Jw(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,i,a,l){return new Jw(n,i,a,l)}function Bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Lr(n,i){var a=n.alternate;return a===null?(a=gn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Fg(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lc(n,i,a,l,h,d){var _=0;if(l=n,typeof n=="function")Bf(n)&&(_=1);else if(typeof n=="string")_=tS(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=gn(31,a,i,h),n.elementType=R,n.lanes=d,n;case x:return Ms(a.children,h,d,i);case j:_=8,h|=24;break;case G:return n=gn(12,a,i,h|2),n.elementType=G,n.lanes=d,n;case he:return n=gn(13,a,i,h),n.elementType=he,n.lanes=d,n;case ve:return n=gn(19,a,i,h),n.elementType=ve,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case re:_=10;break e;case $:_=9;break e;case fe:_=11;break e;case P:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=gn(_,a,i,h),i.elementType=n,i.type=l,i.lanes=d,i}function Ms(n,i,a,l){return n=gn(7,n,l,i),n.lanes=a,n}function qf(n,i,a){return n=gn(6,n,null,i),n.lanes=a,n}function Hf(n,i,a){return i=gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Pa=[],ka=0,uc=null,cc=0,Nn=[],On=0,Vs=null,Ur=1,jr="";function Ps(n,i){Pa[ka++]=cc,Pa[ka++]=uc,uc=n,cc=i}function Gg(n,i,a){Nn[On++]=Ur,Nn[On++]=jr,Nn[On++]=Vs,Vs=n;var l=Ur;n=jr;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ur=1<<32-Qt(i)+h|a<<h|l,jr=d+n}else Ur=1<<d|a<<h|l,jr=n}function Ff(n){n.return!==null&&(Ps(n,1),Gg(n,1,0))}function Gf(n){for(;n===uc;)uc=Pa[--ka],Pa[ka]=null,cc=Pa[--ka],Pa[ka]=null;for(;n===Vs;)Vs=Nn[--On],Nn[On]=null,jr=Nn[--On],Nn[On]=null,Ur=Nn[--On],Nn[On]=null}var rn=null,ct=null,qe=!1,ks=null,hr=!1,Yf=Error(s(519));function Ls(n){var i=Error(s(418,""));throw ll(xn(i,n)),Yf}function Yg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[St]=n,i[yt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Oe(Ol[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Ts(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),bs(i,l.value,l.defaultValue,l.children),Ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||u_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||Ls(n)}function Qg(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:rn=rn.return}}function al(n){if(n!==rn)return!1;if(!qe)return Qg(n),qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||lm(n.type,n.memoizedProps)),a=!a),a&&ct&&Ls(n),Qg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ct=Fn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ct=null}}else i===27?(i=ct,Vi(n.type)?(n=fm,fm=null,ct=n):ct=i):ct=rn?Fn(n.stateNode.nextSibling):null;return!0}function ol(){ct=rn=null,qe=!1}function Kg(){var n=ks;return n!==null&&(un===null?un=n:un.push.apply(un,n),ks=null),n}function ll(n){ks===null?ks=[n]:ks.push(n)}var Qf=ne(null),Us=null,zr=null;function _i(n,i,a){ie(Qf,i._currentValue),i._currentValue=a}function Br(n){n._currentValue=Qf.current,oe(Qf)}function Kf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function $f(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Kf(d.return,a,n),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Kf(_,a,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ul(n,i,a,l){n=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(h===Dt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ul):n=[Ul])}h=h.return}n!==null&&$f(i,n,a,l),i.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function js(n){Us=n,zr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return $g(Us,n)}function fc(n,i){return Us===null&&js(n),$g(n,i)}function $g(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zr===null){if(n===null)throw Error(s(308));zr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else zr=zr.next=i;return a}var e1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},t1=r.unstable_scheduleCallback,n1=r.unstable_NormalPriority,It={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new e1,data:new Map,refCount:0}}function cl(n){n.refCount--,n.refCount===0&&t1(n1,function(){n.controller.abort()})}var hl=null,Wf=0,La=0,Ua=null;function r1(n,i){if(hl===null){var a=hl=[];Wf=0,La=Jd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,i.then(Xg,Xg),i}function Xg(){if(--Wf===0&&hl!==null){Ua!==null&&(Ua.status="fulfilled");var n=hl;hl=null,La=0,Ua=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function i1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&r1(n,i),Wg!==null&&Wg(n,i)};var zs=ne(null);function Zf(){var n=zs.current;return n!==null?n:tt.pooledCache}function dc(n,i){i===null?ie(zs,zs.current):ie(zs,i.pool)}function Zg(){var n=Zf();return n===null?null:{parent:It._currentValue,pool:n}}var fl=Error(s(460)),Jg=Error(s(474)),mc=Error(s(542)),Jf={then:function(){}};function ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function ty(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(pc,pc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ry(n),n;default:if(typeof i.status=="string")i.then(pc,pc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ry(n),n}throw dl=i,fl}}var dl=null;function ny(){if(dl===null)throw Error(s(459));var n=dl;return dl=null,n}function ry(n){if(n===fl||n===mc)throw Error(s(483))}var Ei=!1;function ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function bi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=oc(n),Hg(n,null,a),i}return ac(n,l,i,a),oc(n)}function ml(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,qo(n,a)}}function nd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var rd=!1;function pl(){if(rd){var n=Ua;if(n!==null)throw n}}function gl(n,i,a,l){rd=!1;var h=n.updateQueue;Ei=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,F=I.next;I.next=null,_===null?d=F:_.next=F,_=I;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;_=0,W=F=I=null,T=d;do{var Y=T.lane&-536870913,Q=Y!==T.lane;if(Q?(Le&Y)===Y:(l&Y)===Y){Y!==0&&Y===La&&(rd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=n,ye=T;Y=i;var Ze=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){ee=Te.call(Ze,ee,Y);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,Y=typeof Te=="function"?Te.call(Ze,ee,Y):Te,Y==null)break e;ee=E({},ee,Y);break e;case 2:Ei=!0}}Y=T.callback,Y!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=Q,I=ee):W=W.next=Q,_|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Di|=_,n.lanes=_,n.memoizedState=ee}}function iy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function sy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)iy(a[n],i)}var ja=ne(null),gc=ne(0);function ay(n,i){n=Kr,ie(gc,n),ie(ja,i),Kr=n|i.baseLanes}function id(){ie(gc,Kr),ie(ja,ja.current)}function sd(){Kr=gc.current,oe(ja),oe(gc)}var wi=0,Ie=null,Xe=null,_t=null,yc=!1,za=!1,Bs=!1,vc=0,yl=0,Ba=null,s1=0;function mt(){throw Error(s(321))}function ad(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!pn(n[a],i[a]))return!1;return!0}function od(n,i,a,l,h,d){return wi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?Hy:Fy,Bs=!1,d=a(l,h),Bs=!1,za&&(d=ly(i,a,l,h)),oy(n),d}function oy(n){X.H=Sc;var i=Xe!==null&&Xe.next!==null;if(wi=0,_t=Xe=Ie=null,yc=!1,yl=0,Ba=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&hc(n)&&(Mt=!0))}function ly(n,i,a,l){Ie=n;var h=0;do{if(za&&(Ba=null),yl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,_t=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=f1,d=i(a,l)}while(za);return d}function a1(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?vl(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),i}function ld(){var n=vc!==0;return vc=0,n}function ud(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function cd(n){if(yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yc=!1}wi=0,_t=Xe=Ie=null,za=!1,yl=vc=0,Ba=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=n:_t=_t.next=n,_t}function Et(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=_t===null?Ie.memoizedState:_t.next;if(i!==null)_t=i,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?Ie.memoizedState=_t=n:_t=_t.next=n}return _t}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(n){var i=yl;return yl+=1,Ba===null&&(Ba=[]),n=ty(Ba,n,i),i=Ie,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Hy:Fy),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===re)return Kt(n)}throw Error(s(438,String(n)))}function fd(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=O;return i.index++,a}function qr(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=Et();return dd(i,Xe,n)}function dd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{i=h.next;var T=_=null,I=null,F=i,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Le&ee)===ee:(wi&ee)===ee){var Y=F.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===La&&(W=!0);else if((wi&Y)===Y){F=F.next,Y===La&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=ee,_=d):I=I.next=ee,Ie.lanes|=Y,Di|=Y;ee=F.action,Bs&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else Y={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=Y,_=d):I=I.next=Y,Ie.lanes|=ee,Di|=ee;F=F.next}while(F!==null&&F!==i);if(I===null?_=d:I.next=T,!pn(d,n.memoizedState)&&(Mt=!0,W&&(a=Ua,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function md(n){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=n(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(n,i,a){var l=Ie,h=Et(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Xe||h).memoizedState,a);_&&(h.memoizedState=a,Mt=!0),h=h.queue;var T=fy.bind(null,l,h,n);if(_l(2048,8,T,[n]),h.getSnapshot!==i||_||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,qa(9,Tc(),hy.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(wi&124)!==0||cy(l,i,a)}return a}function cy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=hd(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function hy(n,i,a,l){i.value=a,i.getSnapshot=l,dy(i)&&my(n)}function fy(n,i,a){return a(function(){dy(i)&&my(n)})}function dy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!pn(n,a)}catch{return!0}}function my(n){var i=Ma(n,2);i!==null&&Tn(i,n,2)}function pd(n){var i=on();if(typeof n=="function"){var a=n;if(n=a(),Bs){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:n},i}function py(n,i,a,l){return n.baseState=a,dd(n,Xe,typeof l=="function"?l:qr)}function o1(n,i,a,l,h){if(wc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gy(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=a(h,l),I=X.S;I!==null&&I(_,T),yy(n,i,T)}catch(F){gd(n,i,F)}finally{X.T=d}}else try{d=a(h,l),yy(n,i,d)}catch(F){gd(n,i,F)}}function yy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(n,i,l)},function(l){return gd(n,i,l)}):vy(n,i,a)}function vy(n,i,a){i.status="fulfilled",i.value=a,_y(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,gy(n,a)))}function gd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,_y(i),i=i.next;while(i!==l)}n.action=null}function _y(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ey(n,i){return i}function Ty(n,i){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(qe){if(ct){t:{for(var h=ct,d=hr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Fn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=l,a=zy.bind(null,Ie,l),l.dispatch=a,l=pd(!1),d=Td.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=o1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function by(n){var i=Et();return wy(i,Xe,n)}function wy(n,i,a){if(i=dd(n,i,Ey)[0],n=Ec(qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(_){throw _===fl?mc:_}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,qa(9,Tc(),l1.bind(null,h,a),null)),[l,d,n]}function l1(n,i){n.action=i}function Sy(n){var i=Et(),a=Xe;if(a!==null)return wy(i,a,n);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function qa(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=hd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function Ay(){return Et().memoizedState}function bc(n,i,a,l){var h=on();l=l===void 0?null:l,Ie.flags|=n,h.memoizedState=qa(1|i,Tc(),a,l)}function _l(n,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&ad(l,Xe.memoizedState.deps)?h.memoizedState=qa(i,d,a,l):(Ie.flags|=n,h.memoizedState=qa(1|i,d,a,l))}function Ry(n,i){bc(8390656,8,n,i)}function Iy(n,i){_l(2048,8,n,i)}function Cy(n,i){return _l(4,2,n,i)}function xy(n,i){return _l(4,4,n,i)}function Dy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ny(n,i,a){a=a!=null?a.concat([n]):null,_l(4,4,Dy.bind(null,i,n),a)}function yd(){}function Oy(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ad(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function My(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ad(i,l[1]))return l[0];if(l=n(),Bs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function vd(n,i,a){return a===void 0||(wi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=kv(),Ie.lanes|=n,Di|=n,a)}function Vy(n,i,a,l){return pn(a,i)?a:ja.current!==null?(n=vd(n,a,l),pn(n,i)||(Mt=!0),n):(wi&42)===0?(Mt=!0,n.memoizedState=a):(n=kv(),Ie.lanes|=n,Di|=n,i)}function Py(n,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,Td(n,!1,i,a);try{var I=h(),F=X.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=i1(I,l);El(n,i,W,En(n))}else El(n,i,l,En(n))}catch(ee){El(n,i,{then:function(){},status:"rejected",reason:ee},En())}finally{ae.p=d,X.T=_}}function u1(){}function _d(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=ky(n).queue;Py(n,h,i,me,a===null?u1:function(){return Ly(n),a(l)})}function ky(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ly(n){var i=ky(n).next.queue;El(n,i,{},En())}function Ed(){return Kt(Ul)}function Uy(){return Et().memoizedState}function jy(){return Et().memoizedState}function c1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();n=Ti(a);var l=bi(i,n,a);l!==null&&(Tn(l,i,a),ml(l,i,a)),i={cache:Xf()},n.payload=i;return}i=i.return}}function h1(n,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?By(i,a):(a=zf(n,i,a,l),a!==null&&(Tn(a,n,l),qy(a,i,l)))}function zy(n,i,a){var l=En();El(n,i,a,l)}function El(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))By(i,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return ac(n,i,h,0),tt===null&&sc(),!1}catch{}finally{}if(a=zf(n,i,h,l),a!==null)return Tn(a,n,l),qy(a,i,l),!0}return!1}function Td(n,i,a,l){if(l={lane:2,revertLane:Jd(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(s(479))}else i=zf(n,a,l,2),i!==null&&Tn(i,n,2)}function wc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function By(n,i){za=yc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function qy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,qo(n,a)}}var Sc={readContext:Kt,use:_c,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},Hy={readContext:Kt,use:_c,useCallback:function(n,i){return on().memoizedState=[n,i===void 0?null:i],n},useContext:Kt,useEffect:Ry,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,bc(4194308,4,Dy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return bc(4194308,4,n,i)},useInsertionEffect:function(n,i){bc(4,2,n,i)},useMemo:function(n,i){var a=on();i=i===void 0?null:i;var l=n();if(Bs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=on();if(a!==void 0){var h=a(i);if(Bs){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=h1.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=on();return n={current:n},i.memoizedState=n},useState:function(n){n=pd(n);var i=n.queue,a=zy.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(n,i){var a=on();return vd(a,n,i)},useTransition:function(){var n=pd(!1);return n=Py.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,h=on();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Le&124)!==0||cy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ry(fy.bind(null,l,d,n),[n]),l.flags|=2048,qa(9,Tc(),hy.bind(null,l,d,a,i),null),a},useId:function(){var n=on(),i=tt.identifierPrefix;if(qe){var a=jr,l=Ur;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=s1++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Ed,useFormState:Ty,useActionState:Ty,useOptimistic:function(n){var i=on();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Td.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:fd,useCacheRefresh:function(){return on().memoizedState=c1.bind(null,Ie)}},Fy={readContext:Kt,use:_c,useCallback:Oy,useContext:Kt,useEffect:Iy,useImperativeHandle:Ny,useInsertionEffect:Cy,useLayoutEffect:xy,useMemo:My,useReducer:Ec,useRef:Ay,useState:function(){return Ec(qr)},useDebugValue:yd,useDeferredValue:function(n,i){var a=Et();return Vy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Ec(qr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:Ed,useFormState:by,useActionState:by,useOptimistic:function(n,i){var a=Et();return py(a,Xe,n,i)},useMemoCache:fd,useCacheRefresh:jy},f1={readContext:Kt,use:_c,useCallback:Oy,useContext:Kt,useEffect:Iy,useImperativeHandle:Ny,useInsertionEffect:Cy,useLayoutEffect:xy,useMemo:My,useReducer:md,useRef:Ay,useState:function(){return md(qr)},useDebugValue:yd,useDeferredValue:function(n,i){var a=Et();return Xe===null?vd(a,n,i):Vy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=md(qr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:Ed,useFormState:Sy,useActionState:Sy,useOptimistic:function(n,i){var a=Et();return Xe!==null?py(a,Xe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:jy},Ha=null,Tl=0;function Ac(n){var i=Tl;return Tl+=1,Ha===null&&(Ha=[]),ty(Ha,n,i)}function bl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rc(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Gy(n){var i=n._init;return i(n._payload)}function Yy(n){function i(L,V){if(n){var q=L.deletions;q===null?(L.deletions=[V],L.flags|=16):q.push(V)}}function a(L,V){if(!n)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Lr(L,V),L.index=0,L.sibling=null,L}function d(L,V,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<V?(L.flags|=67108866,V):q):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,q,Z){return V===null||V.tag!==6?(V=qf(q,L.mode,Z),V.return=L,V):(V=h(V,q),V.return=L,V)}function I(L,V,q,Z){var ce=q.type;return ce===x?W(L,V,q.props.children,Z,q.key):V!==null&&(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&Gy(ce)===V.type)?(V=h(V,q.props),bl(V,q),V.return=L,V):(V=lc(q.type,q.key,q.props,null,L.mode,Z),bl(V,q),V.return=L,V)}function F(L,V,q,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Hf(q,L.mode,Z),V.return=L,V):(V=h(V,q.children||[]),V.return=L,V)}function W(L,V,q,Z,ce){return V===null||V.tag!==7?(V=Ms(q,L.mode,Z,ce),V.return=L,V):(V=h(V,q),V.return=L,V)}function ee(L,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=qf(""+V,L.mode,q),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return q=lc(V.type,V.key,V.props,null,L.mode,q),bl(q,V),q.return=L,q;case D:return V=Hf(V,L.mode,q),V.return=L,V;case A:var Z=V._init;return V=Z(V._payload),ee(L,V,q)}if(lt(V)||U(V))return V=Ms(V,L.mode,q,null),V.return=L,V;if(typeof V.then=="function")return ee(L,Ac(V),q);if(V.$$typeof===re)return ee(L,fc(L,V),q);Rc(L,V)}return null}function Y(L,V,q,Z){var ce=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ce!==null?null:T(L,V,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===ce?I(L,V,q,Z):null;case D:return q.key===ce?F(L,V,q,Z):null;case A:return ce=q._init,q=ce(q._payload),Y(L,V,q,Z)}if(lt(q)||U(q))return ce!==null?null:W(L,V,q,Z,null);if(typeof q.then=="function")return Y(L,V,Ac(q),Z);if(q.$$typeof===re)return Y(L,V,fc(L,q),Z);Rc(L,q)}return null}function Q(L,V,q,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,T(V,L,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return L=L.get(Z.key===null?q:Z.key)||null,I(V,L,Z,ce);case D:return L=L.get(Z.key===null?q:Z.key)||null,F(V,L,Z,ce);case A:var De=Z._init;return Z=De(Z._payload),Q(L,V,q,Z,ce)}if(lt(Z)||U(Z))return L=L.get(q)||null,W(V,L,Z,ce,null);if(typeof Z.then=="function")return Q(L,V,q,Ac(Z),ce);if(Z.$$typeof===re)return Q(L,V,q,fc(V,Z),ce);Rc(V,Z)}return null}function Te(L,V,q,Z){for(var ce=null,De=null,de=V,_e=V=0,Pt=null;de!==null&&_e<q.length;_e++){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var ze=Y(L,de,q[_e],Z);if(ze===null){de===null&&(de=Pt);break}n&&de&&ze.alternate===null&&i(L,de),V=d(ze,V,_e),De===null?ce=ze:De.sibling=ze,De=ze,de=Pt}if(_e===q.length)return a(L,de),qe&&Ps(L,_e),ce;if(de===null){for(;_e<q.length;_e++)de=ee(L,q[_e],Z),de!==null&&(V=d(de,V,_e),De===null?ce=de:De.sibling=de,De=de);return qe&&Ps(L,_e),ce}for(de=l(de);_e<q.length;_e++)Pt=Q(de,L,_e,q[_e],Z),Pt!==null&&(n&&Pt.alternate!==null&&de.delete(Pt.key===null?_e:Pt.key),V=d(Pt,V,_e),De===null?ce=Pt:De.sibling=Pt,De=Pt);return n&&de.forEach(function(ji){return i(L,ji)}),qe&&Ps(L,_e),ce}function ye(L,V,q,Z){if(q==null)throw Error(s(151));for(var ce=null,De=null,de=V,_e=V=0,Pt=null,ze=q.next();de!==null&&!ze.done;_e++,ze=q.next()){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var ji=Y(L,de,ze.value,Z);if(ji===null){de===null&&(de=Pt);break}n&&de&&ji.alternate===null&&i(L,de),V=d(ji,V,_e),De===null?ce=ji:De.sibling=ji,De=ji,de=Pt}if(ze.done)return a(L,de),qe&&Ps(L,_e),ce;if(de===null){for(;!ze.done;_e++,ze=q.next())ze=ee(L,ze.value,Z),ze!==null&&(V=d(ze,V,_e),De===null?ce=ze:De.sibling=ze,De=ze);return qe&&Ps(L,_e),ce}for(de=l(de);!ze.done;_e++,ze=q.next())ze=Q(de,L,_e,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),V=d(ze,V,_e),De===null?ce=ze:De.sibling=ze,De=ze);return n&&de.forEach(function(dS){return i(L,dS)}),qe&&Ps(L,_e),ce}function Ze(L,V,q,Z){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var ce=q.key;V!==null;){if(V.key===ce){if(ce=q.type,ce===x){if(V.tag===7){a(L,V.sibling),Z=h(V,q.props.children),Z.return=L,L=Z;break e}}else if(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&Gy(ce)===V.type){a(L,V.sibling),Z=h(V,q.props),bl(Z,q),Z.return=L,L=Z;break e}a(L,V);break}else i(L,V);V=V.sibling}q.type===x?(Z=Ms(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=lc(q.type,q.key,q.props,null,L.mode,Z),bl(Z,q),Z.return=L,L=Z)}return _(L);case D:e:{for(ce=q.key;V!==null;){if(V.key===ce)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(L,V.sibling),Z=h(V,q.children||[]),Z.return=L,L=Z;break e}else{a(L,V);break}else i(L,V);V=V.sibling}Z=Hf(q,L.mode,Z),Z.return=L,L=Z}return _(L);case A:return ce=q._init,q=ce(q._payload),Ze(L,V,q,Z)}if(lt(q))return Te(L,V,q,Z);if(U(q)){if(ce=U(q),typeof ce!="function")throw Error(s(150));return q=ce.call(q),ye(L,V,q,Z)}if(typeof q.then=="function")return Ze(L,V,Ac(q),Z);if(q.$$typeof===re)return Ze(L,V,fc(L,q),Z);Rc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(L,V.sibling),Z=h(V,q),Z.return=L,L=Z):(a(L,V),Z=qf(q,L.mode,Z),Z.return=L,L=Z),_(L)):a(L,V)}return function(L,V,q,Z){try{Tl=0;var ce=Ze(L,V,q,Z);return Ha=null,ce}catch(de){if(de===fl||de===mc)throw de;var De=gn(29,de,null,L.mode);return De.lanes=Z,De.return=L,De}finally{}}}var Fa=Yy(!0),Qy=Yy(!1),Mn=ne(null),fr=null;function Si(n){var i=n.alternate;ie(Ct,Ct.current&1),ie(Mn,n),fr===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(fr=n)}function Ky(n){if(n.tag===22){if(ie(Ct,Ct.current),ie(Mn,n),fr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fr=n)}}else Ai()}function Ai(){ie(Ct,Ct.current),ie(Mn,Mn.current)}function Hr(n){oe(Mn),fr===n&&(fr=null),oe(Ct)}var Ct=ne(0);function Ic(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var wd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=En(),h=Ti(l);h.payload=i,a!=null&&(h.callback=a),i=bi(n,h,l),i!==null&&(Tn(i,n,l),ml(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=En(),h=Ti(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=bi(n,h,l),i!==null&&(Tn(i,n,l),ml(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=En(),l=Ti(a);l.tag=2,i!=null&&(l.callback=i),i=bi(n,l,a),i!==null&&(Tn(i,n,a),ml(i,n,a))}};function $y(n,i,a,l,h,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Xy(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&wd.enqueueReplaceState(i,i.state,null)}function qs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wy(n){Cc(n)}function Zy(n){console.error(n)}function Jy(n){Cc(n)}function xc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ev(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sd(n,i,a){return a=Ti(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,i)},a}function tv(n){return n=Ti(n),n.tag=3,n}function nv(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){ev(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){ev(i,a,l),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function d1(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ul(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return fr===null?Kd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Jf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Xd(n,l,h)),!1;case 22:return a.flags|=65536,l===Jf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Xd(n,l,h)),!1}throw Error(s(435,a.tag))}return Xd(n,l,h),Kd(),!1}if(qe)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Yf&&(n=Error(s(422),{cause:l}),ll(xn(n,a)))):(l!==Yf&&(i=Error(s(423),{cause:l}),ll(xn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=xn(l,a),h=Sd(n.stateNode,l,h),nd(n,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),xl===null?xl=[d]:xl.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Sd(a.stateNode,l,n),nd(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=tv(h),nv(h,n,a,l),nd(a,h),!1}a=a.return}while(a!==null);return!1}var rv=Error(s(461)),Mt=!1;function Bt(n,i,a,l){i.child=n===null?Qy(i,null,a,l):Fa(i,n.child,a,l)}function iv(n,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return js(i),l=od(n,i,a,_,d,h),T=ld(),n!==null&&!Mt?(ud(n,i,h),Fr(n,i,h)):(qe&&T&&Ff(i),i.flags|=1,Bt(n,i,l,h),i.child)}function sv(n,i,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,av(n,i,d,l,h)):(n=lc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Od(n,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&n.ref===i.ref)return Fr(n,i,h)}return i.flags|=1,n=Lr(d,l),n.ref=i.ref,n.return=i,i.child=n}function av(n,i,a,l,h){if(n!==null){var d=n.memoizedProps;if(il(d,l)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Od(n,h))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,Fr(n,i,h)}return Ad(n,i,a,l,h)}function ov(n,i,a){var l=i.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=i.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return lv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,d!==null?d.cachePool:null),d!==null?ay(i,d):id(),Ky(i);else return i.lanes=i.childLanes=536870912,lv(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(i,d.cachePool),ay(i,d),Ai(),i.memoizedState=null):(n!==null&&dc(i,null),id(),Ai());return Bt(n,i,h,a),i.child}function lv(n,i,a,l){var h=Zf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&dc(i,null),id(),Ky(i),n!==null&&ul(n,i,l,!0),null}function Dc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Ad(n,i,a,l,h){return js(i),a=od(n,i,a,l,void 0,h),l=ld(),n!==null&&!Mt?(ud(n,i,h),Fr(n,i,h)):(qe&&l&&Ff(i),i.flags|=1,Bt(n,i,a,h),i.child)}function uv(n,i,a,l,h,d){return js(i),i.updateQueue=null,a=ly(i,l,a,h),oy(n),l=ld(),n!==null&&!Mt?(ud(n,i,d),Fr(n,i,d)):(qe&&l&&Ff(i),i.flags|=1,Bt(n,i,a,d),i.child)}function cv(n,i,a,l,h){if(js(i),i.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ed(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(bd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var T=i.memoizedProps,I=qs(a,T);d.props=I;var F=d.context,W=a.contextType;_=Va,typeof W=="object"&&W!==null&&(_=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==_)&&Xy(i,d,l,_),Ei=!1;var Y=i.memoizedState;d.state=Y,gl(i,l,d,h),pl(),F=i.memoizedState,T||Y!==F||Ei?(typeof ee=="function"&&(bd(i,a,ee,l),F=i.memoizedState),(I=Ei||$y(i,a,I,l,Y,F,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,td(n,i),_=i.memoizedProps,W=qs(a,_),d.props=W,ee=i.pendingProps,Y=d.context,F=a.contextType,I=Va,typeof F=="object"&&F!==null&&(I=Kt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||Y!==I)&&Xy(i,d,l,I),Ei=!1,Y=i.memoizedState,d.state=Y,gl(i,l,d,h),pl();var Q=i.memoizedState;_!==ee||Y!==Q||Ei||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof T=="function"&&(bd(i,a,T,l),Q=i.memoizedState),(W=Ei||$y(i,a,W,l,Y,Q,I)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Fa(i,n.child,null,h),i.child=Fa(i,null,a,h)):Bt(n,i,a,h),i.memoizedState=d.state,n=i.child):n=Fr(n,i,h),n}function hv(n,i,a,l){return ol(),i.flags|=256,Bt(n,i,a,l),i.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(n){return{baseLanes:n,cachePool:Zg()}}function Cd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Vn),n}function fv(n,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(qe){if(h?Si(i):Ai(),qe){var T=ct,I;if(I=T){e:{for(I=T,T=hr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Fn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:Ur,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,rn=i,ct=null,I=!0):I=!1}I||Ls(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return hm(T)?i.lanes=32:i.lanes=536870912,null;Hr(i)}return T=l.children,l=l.fallback,h?(Ai(),h=i.mode,T=Nc({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Id(a),h.childLanes=Cd(n,_,a),i.memoizedState=Rd,l):(Si(i),xd(i,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Si(i),i.flags&=-257,i=Dd(n,i,a)):i.memoizedState!==null?(Ai(),i.child=n.child,i.flags|=128,i=null):(Ai(),h=l.fallback,T=i.mode,l=Nc({mode:"visible",children:l.children},T),h=Ms(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Fa(i,n.child,null,a),l=i.child,l.memoizedState=Id(a),l.childLanes=Cd(n,_,a),i.memoizedState=Rd,i=h);else if(Si(i),hm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Dd(n,i,a)}else if(Mt||ul(n,i,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=tt,_!==null&&(l=a&-a,l=(l&42)!==0?1:fi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ma(n,l),Tn(_,n,l),rv;T.data==="$?"||Kd(),i=Dd(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ct=Fn(T.nextSibling),rn=i,qe=!0,ks=null,hr=!1,n!==null&&(Nn[On++]=Ur,Nn[On++]=jr,Nn[On++]=Vs,Ur=n.id,jr=n.overflow,Vs=i),i=xd(i,l.children),i.flags|=4096);return i}return h?(Ai(),h=l.fallback,T=i.mode,I=n.child,F=I.sibling,l=Lr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=Lr(F,h):(h=Ms(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=n.child.memoizedState,T===null?T=Id(a):(I=T.cachePool,I!==null?(F=It._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=Zg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Cd(n,_,a),i.memoizedState=Rd,l):(Si(i),a=n.child,n=a.sibling,a=Lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function xd(n,i){return i=Nc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nc(n,i){return n=gn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Dd(n,i,a){return Fa(i,n.child,null,a),n=xd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function dv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Kf(n.return,i,a)}function Nd(n,i,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function mv(n,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(n,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dv(n,a,i);else if(n.tag===19)dv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Ic(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Nd(i,!0,a,null,d);break;case"together":Nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Di|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ul(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Lr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Lr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Od(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function m1(n,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),_i(i,It,n.memoizedState.cache),ol();break;case 27:case 5:hi(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:_i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(i),i.flags|=128,null):(a&i.child.childLanes)!==0?fv(n,i,a):(Si(i),n=Fr(n,i,a),n!==null?n.sibling:null);Si(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ul(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return mv(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,ov(n,i,a);case 24:_i(i,It,n.memoizedState.cache)}return Fr(n,i,a)}function pv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Od(n,a)&&(i.flags&128)===0)return Mt=!1,m1(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,qe&&(i.flags&1048576)!==0&&Gg(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Bf(l)?(n=qs(l,n),i.tag=1,i=cv(null,i,l,n,a)):(i.tag=0,i=Ad(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=iv(null,i,l,n,a);break e}else if(h===P){i.tag=14,i=sv(null,i,l,n,a);break e}}throw i=Ut(l)||l,Error(s(306,i,""))}}return i;case 0:return Ad(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=qs(l,i.pendingProps),cv(n,i,l,h,a);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,td(n,i),gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,_i(i,It,l),l!==d.cache&&$f(i,[It],a,!0),pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=hv(n,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),ll(h),i=hv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=Fn(n.firstChild),rn=i,qe=!0,ks=null,hr=!0,a=Qy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ol(),l===h){i=Fr(n,i,a);break e}Bt(n,i,l,a)}i=i.child}return i;case 26:return Dc(n,i),n===null?(a=__(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,n=i.pendingProps,l=Gc(we.current).createElement(a),l[St]=i,l[yt]=n,Ht(l,a,n),dt(l),i.stateNode=l):i.memoizedState=__(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return hi(i),n===null&&qe&&(l=i.stateNode=g_(i.type,i.pendingProps,we.current),rn=i,hr=!0,h=ct,Vi(i.type)?(fm=h,ct=Fn(l.firstChild)):ct=h),Bt(n,i,i.pendingProps.children,a),Dc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&qe&&((h=l=ct)&&(l=q1(l,i.type,i.pendingProps,hr),l!==null?(i.stateNode=l,rn=i,ct=Fn(l.firstChild),hr=!1,h=!0):h=!1),h||Ls(i)),hi(i),h=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,lm(h,d)?l=null:_!==null&&lm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=od(n,i,a1,null,null,a),Ul._currentValue=h),Dc(n,i),Bt(n,i,l,a),i.child;case 6:return n===null&&qe&&((n=a=ct)&&(a=H1(a,i.pendingProps,hr),a!==null?(i.stateNode=a,rn=i,ct=null,n=!0):n=!1),n||Ls(i)),null;case 13:return fv(n,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Fa(i,null,l,a):Bt(n,i,l,a),i.child;case 11:return iv(n,i,i.type,i.pendingProps,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_i(i,i.type,l.value),Bt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Kt(h),l=l(h),i.flags|=1,Bt(n,i,l,a),i.child;case 14:return sv(n,i,i.type,i.pendingProps,a);case 15:return av(n,i,i.type,i.pendingProps,a);case 19:return mv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Lr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ov(n,i,a);case 24:return js(i),l=Kt(It),n===null?(h=Zf(),h===null&&(h=tt,d=Xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ed(i),_i(i,It,h)):((n.lanes&a)!==0&&(td(n,i),gl(i,null,null,a),pl()),h=n.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_i(i,It,l)):(l=d.cache,_i(i,It,l),l!==h.cache&&$f(i,[It],a,!0))),Bt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gr(n){n.flags|=4}function gv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!S_(i)){if(i=Mn.current,i!==null&&((Le&4194048)===Le?fr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==fr))throw dl=Jf,Jg;n.flags|=8192}}function Oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?zo():536870912,n.lanes|=i,Ka|=i)}function wl(n,i){if(!qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function p1(n,i,a){var l=i.pendingProps;switch(Gf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Br(It),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(al(i)?Gr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kg())),at(i),null;case 26:return a=i.memoizedState,n===null?(Gr(i),a!==null?(at(i),gv(i,a)):(at(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Gr(i),at(i),gv(i,a)):(at(i),i.flags&=-16777217):(n.memoizedProps!==l&&Gr(i),at(i),i.flags&=-16777217),null;case 27:Sr(i),a=we.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}n=ge.current,al(i)?Yg(i):(n=g_(h,l,a),i.stateNode=n,Gr(i))}return at(i),null;case 5:if(Sr(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(n=ge.current,al(i))Yg(i);else{switch(h=Gc(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[St]=i,n[yt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Gr(i)}}return at(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,al(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[St]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u_(n.nodeValue,a)),n||Ls(i)}else n=Gc(n).createTextNode(l),n[St]=i,i.stateNode=n}return at(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=al(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Kg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Hr(i),i):(Hr(i),null)}if(Hr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Oc(i,i.updateQueue),at(i),null;case 4:return Jn(),n===null&&rm(i.stateNode.containerInfo),at(i),null;case 10:return Br(i.type),at(i),null;case 19:if(oe(Ct),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ic(n),d!==null){for(i.flags|=128,wl(h,!1),n=d.updateQueue,i.updateQueue=n,Oc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Fg(a,n),a=a.sibling;return ie(Ct,Ct.current&1|2),i.child}n=n.sibling}h.tail!==null&&wn()>Pc&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Ic(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Oc(i,n),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return at(i),null}else 2*wn()-h.renderingStartTime>Pc&&a!==536870912&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(n=h.last,n!==null?n.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,n=Ct.current,ie(Ct,l?n&1|2:n&1),i):(at(i),null);case 22:case 23:return Hr(i),sd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Oc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&oe(zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Br(It),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function g1(n,i){switch(Gf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Br(It),Jn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Sr(i),null;case 13:if(Hr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ol()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return oe(Ct),null;case 4:return Jn(),null;case 10:return Br(i.type),null;case 22:case 23:return Hr(i),sd(),n!==null&&oe(zs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Br(It),null;case 25:return null;default:return null}}function yv(n,i){switch(Gf(i),i.tag){case 3:Br(It),Jn();break;case 26:case 27:case 5:Sr(i);break;case 4:Jn();break;case 13:Hr(i);break;case 19:oe(Ct);break;case 10:Br(i.type);break;case 22:case 23:Hr(i),sd(),n!==null&&oe(zs);break;case 24:Br(It)}}function Sl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function Ri(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,F=T;try{F()}catch(W){Je(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){Je(i,i.return,W)}}function vv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{sy(i,a)}catch(l){Je(n,n.return,l)}}}function _v(n,i,a){a.props=qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,i,l)}}function Al(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){Je(n,i,h)}}function dr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(n,i,h)}else a.current=null}function Ev(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(n,n.return,h)}}function Md(n,i,a){try{var l=n.stateNode;L1(l,n.type,a,i),l[yt]=i}catch(h){Je(n,n.return,h)}}function Tv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vi(n.type)||n.tag===4}function Vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Pd(n,i,a),n=n.sibling;n!==null;)Pd(n,i,a),n=n.sibling}function Mc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Mc(n,i,a),n=n.sibling;n!==null;)Mc(n,i,a),n=n.sibling}function bv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,a),i[St]=n,i[yt]=a}catch(d){Je(n,n.return,d)}}var Yr=!1,pt=!1,kd=!1,wv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function y1(n,i){if(n=n.containerInfo,am=Wc,n=Vg(n),Vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,F=0,W=0,ee=n,Y=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(I=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)Y=ee,ee=Q;for(;;){if(ee===n)break t;if(Y===a&&++F===h&&(T=_),Y===d&&++W===l&&(I=_),(Q=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:n,selectionRange:a},Wc=!1,Vt=i;Vt!==null;)if(i=Vt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Vt=n;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=qs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Je(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Vt=n;break}Vt=i.return}}function Sv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(n,a),l&4&&Sl(5,a);break;case 1:if(Ii(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=qs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&vv(a),l&512&&Al(a,a.return);break;case 3:if(Ii(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(n,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&bv(a);case 26:case 5:Ii(n,a),i===null&&l&4&&Ev(a),l&512&&Al(a,a.return);break;case 12:Ii(n,a);break;case 13:Ii(n,a),l&4&&Iv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=R1.bind(null,a),F1(n,a))));break;case 22:if(l=a.memoizedState!==null||Yr,!l){i=i!==null&&i.memoizedState!==null||pt,h=Yr;var d=pt;Yr=l,(pt=i)&&!d?Ci(n,a,(a.subtreeFlags&8772)!==0):Ii(n,a),Yr=h,pt=d}break;case 30:break;default:Ii(n,a)}}function Av(n){var i=n.alternate;i!==null&&(n.alternate=null,Av(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&pi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,ln=!1;function Qr(n,i,a){for(a=a.child;a!==null;)Rv(n,i,a),a=a.sibling}function Rv(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:pt||dr(a,i),Qr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||dr(a,i);var l=it,h=ln;Vi(a.type)&&(it=a.stateNode,ln=!1),Qr(n,i,a),Vl(a.stateNode),it=l,ln=h;break;case 5:pt||dr(a,i);case 6:if(l=it,h=ln,it=null,Qr(n,i,a),it=l,ln=h,it!==null)if(ln)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:it!==null&&(ln?(n=it,m_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ql(n)):m_(it,a.stateNode));break;case 4:l=it,h=ln,it=a.stateNode.containerInfo,ln=!0,Qr(n,i,a),it=l,ln=h;break;case 0:case 11:case 14:case 15:pt||Ri(2,a,i),pt||Ri(4,a,i),Qr(n,i,a);break;case 1:pt||(dr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_v(a,i,l)),Qr(n,i,a);break;case 21:Qr(n,i,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Qr(n,i,a),pt=l;break;default:Qr(n,i,a)}}function Iv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ql(n)}catch(a){Je(i,i.return,a)}}function v1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new wv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new wv),i;default:throw Error(s(435,n.tag))}}function Ld(n,i){var a=v1(n);i.forEach(function(l){var h=I1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){it=T.stateNode,ln=!1;break e}break;case 5:it=T.stateNode,ln=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(it===null)throw Error(s(160));Rv(d,_,h),it=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Cv(i,n),i=i.sibling}var Hn=null;function Cv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(i,n),vn(n),l&4&&(Ri(3,n,n.return),Sl(3,n),Ri(5,n,n.return));break;case 1:yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),l&64&&Yr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ys]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ht(d,l,a),d[St]=n,dt(d),l=d;break e;case"link":var _=b_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;case"meta":if(_=b_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=n,dt(d),l=d}n.stateNode=l}else w_(h,n.type,n.stateNode);else n.stateNode=T_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?w_(h,n.type,n.stateNode):T_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Md(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),a!==null&&l&4&&Md(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),n.flags&32){h=n.stateNode;try{An(h,"")}catch(Q){Je(n,n.return,Q)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Md(n,h,a!==null?a.memoizedProps:h)),l&1024&&(kd=!0);break;case 6:if(yn(i,n),vn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Q){Je(n,n.return,Q)}}break;case 3:if(Kc=null,h=Hn,Hn=Yc(i.containerInfo),yn(i,n),Hn=h,vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(i.containerInfo)}catch(Q){Je(n,n.return,Q)}kd&&(kd=!1,xv(n));break;case 4:l=Hn,Hn=Yc(n.stateNode.containerInfo),yn(i,n),vn(n),Hn=l;break;case 12:yn(i,n),vn(n);break;case 13:yn(i,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hd=wn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ld(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=Yr,W=pt;if(Yr=F||h,pt=W||I,yn(i,n),pt=W,Yr=F,vn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Yr||pt||Hs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){Je(I,I.return,Q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Q){Je(I,I.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ld(n,a))));break;case 19:yn(i,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ld(n,l)));break;case 30:break;case 21:break;default:yn(i,n),vn(n)}}function vn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Tv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Vd(n);Mc(n,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(An(_,""),a.flags&=-33);var T=Vd(n);Mc(n,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Vd(n);Pd(n,F,I);break;default:throw Error(s(161))}}catch(W){Je(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function xv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ii(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(n,i.alternate,i),i=i.sibling}function Hs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ri(4,i,i.return),Hs(i);break;case 1:dr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&_v(i,i.return,a),Hs(i);break;case 27:Vl(i.stateNode);case 26:case 5:dr(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}n=n.sibling}}function Ci(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ci(h,d,a),Sl(4,d);break;case 1:if(Ci(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)iy(I[h],T)}catch(F){Je(l,l.return,F)}}a&&_&64&&vv(d),Al(d,d.return);break;case 27:bv(d);case 26:case 5:Ci(h,d,a),a&&l===null&&_&4&&Ev(d),Al(d,d.return);break;case 12:Ci(h,d,a);break;case 13:Ci(h,d,a),a&&_&4&&Iv(h,d);break;case 22:d.memoizedState===null&&Ci(h,d,a),Al(d,d.return);break;case 30:break;default:Ci(h,d,a)}i=i.sibling}}function Ud(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&cl(a))}function jd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&cl(n))}function mr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dv(n,i,a,l),i=i.sibling}function Dv(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mr(n,i,a,l),h&2048&&Sl(9,i);break;case 1:mr(n,i,a,l);break;case 3:mr(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&cl(n)));break;case 12:if(h&2048){mr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else mr(n,i,a,l);break;case 13:mr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?mr(n,i,a,l):Rl(n,i):d._visibility&2?mr(n,i,a,l):(d._visibility|=2,Ga(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Ud(_,i);break;case 24:mr(n,i,a,l),h&2048&&jd(i.alternate,i);break;default:mr(n,i,a,l)}}function Ga(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,_=i,T=a,I=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,T,I,h),Sl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Ga(d,_,T,I,h):Rl(d,_):(W._visibility|=2,Ga(d,_,T,I,h)),h&&F&2048&&Ud(_.alternate,_);break;case 24:Ga(d,_,T,I,h),h&&F&2048&&jd(_.alternate,_);break;default:Ga(d,_,T,I,h)}i=i.sibling}}function Rl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&Ud(l.alternate,l);break;case 24:Rl(a,l),h&2048&&jd(l.alternate,l);break;default:Rl(a,l)}i=i.sibling}}var Il=8192;function Ya(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 26:Ya(n),n.flags&Il&&n.memoizedState!==null&&rS(Hn,n.memoizedState,n.memoizedProps);break;case 5:Ya(n);break;case 3:case 4:var i=Hn;Hn=Yc(n.stateNode.containerInfo),Ya(n),Hn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ya(n),Il=i):Ya(n));break;default:Ya(n)}}function Ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Cl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Vv(l,n)}Ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mv(n),n=n.sibling}function Mv(n){switch(n.tag){case 0:case 11:case 15:Cl(n),n.flags&2048&&Ri(9,n,n.return);break;case 3:Cl(n);break;case 12:Cl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Vc(n)):Cl(n);break;default:Cl(n)}}function Vc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Vv(l,n)}Ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ri(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}n=n.sibling}}function Vv(n,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ri(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(Av(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var _1={getCacheForType:function(n){var i=Kt(It),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},E1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,Ne=null,Le=0,Qe=0,_n=null,xi=!1,Qa=!1,zd=!1,Kr=0,ht=0,Di=0,Fs=0,Bd=0,Vn=0,Ka=0,xl=null,un=null,qd=!1,Hd=0,Pc=1/0,kc=null,Ni=null,qt=0,Oi=null,$a=null,Xa=0,Fd=0,Gd=null,Pv=null,Dl=0,Yd=null;function En(){if((Ye&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var n=La;return n!==0?n:Jd()}return di()}function kv(){Vn===0&&(Vn=(Le&536870912)===0||qe?jo():536870912);var n=Mn.current;return n!==null&&(n.flags|=32),Vn}function Tn(n,i,a){(n===tt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(Wa(n,0),Mi(n,Le,Vn,!1)),Rr(n,a),((Ye&2)===0||n!==tt)&&(n===tt&&((Ye&2)===0&&(Fs|=a),ht===4&&Mi(n,Le,Vn,!1)),pr(n))}function Lv(n,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||gs(n,i),h=l?w1(n,i):$d(n,i,!0),d=l;do{if(h===0){Qa&&!l&&Mi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!T1(a)){h=$d(n,i,!1),d=!1;continue}if(h===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;h=xl;var I=T.current.memoizedState.isDehydrated;if(I&&(Wa(T,_).flags|=256),_=$d(T,_,!1),_!==2){if(zd&&!I){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Wa(n,0),Mi(n,i,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mi(l,i,Vn,!xi);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Hd+300-wn(),10<h)){if(Mi(l,i,Vn,!xi),ma(l,0,!0)!==0)break e;l.timeoutHandle=f_(Uv.bind(null,l,a,un,kc,qd,i,Vn,Fs,Ka,xi,d,2,-0,0),h);break e}Uv(l,a,un,kc,qd,i,Vn,Fs,Ka,xi,d,0,-0,0)}}break}while(!0);pr(n)}function Uv(n,i,a,l,h,d,_,T,I,F,W,ee,Y,Q){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:nS},Nv(i),ee=iS(),ee!==null)){n.cancelPendingCommit=ee(Gv.bind(null,n,i,d,a,l,h,_,T,I,W,1,Y,Q)),Mi(n,d,_,!F);return}Gv(n,i,d,a,l,h,_,T,I)}function T1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mi(n,i,a,l){i&=~Bd,i&=~Fs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&er(n,a,i)}function Lc(){return(Ye&6)===0?(Nl(0),!1):!0}function Qd(){if(Ne!==null){if(Qe===0)var n=Ne.return;else n=Ne,zr=Us=null,cd(n),Ha=null,Tl=0,n=Ne;for(;n!==null;)yv(n.alternate,n),n=n.return;Ne=null}}function Wa(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,j1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qd(),tt=n,Ne=a=Lr(n.current,null),Le=i,Qe=0,_n=null,xi=!1,Qa=gs(n,i),zd=!1,Ka=Vn=Bd=Fs=Di=ht=0,un=xl=null,qd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=n[h],l&=~d}return Kr=i,sc(),a}function jv(n,i){Ie=null,X.H=Sc,i===fl||i===mc?(i=ny(),Qe=3):i===Jg?(i=ny(),Qe=4):Qe=i===rv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Ne===null&&(ht=1,xc(n,xn(i,n.current)))}function zv(){var n=X.H;return X.H=Sc,n===null?Sc:n}function Bv(){var n=X.A;return X.A=_1,n}function Kd(){ht=4,xi||(Le&4194048)!==Le&&Mn.current!==null||(Qa=!0),(Di&134217727)===0&&(Fs&134217727)===0||tt===null||Mi(tt,Le,Vn,!1)}function $d(n,i,a){var l=Ye;Ye|=2;var h=zv(),d=Bv();(tt!==n||Le!==i)&&(kc=null,Wa(n,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var T=Ne,I=_n;switch(Qe){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var F=Qe;if(Qe=0,_n=null,Za(n,T,I,F),a&&Qa){_=0;break e}break;default:F=Qe,Qe=0,_n=null,Za(n,T,I,F)}}b1(),_=ht;break}catch(W){jv(n,W)}while(!0);return i&&n.shellSuspendCounter++,zr=Us=null,Ye=l,X.H=h,X.A=d,Ne===null&&(tt=null,Le=0,sc()),_}function b1(){for(;Ne!==null;)qv(Ne)}function w1(n,i){var a=Ye;Ye|=2;var l=zv(),h=Bv();tt!==n||Le!==i?(kc=null,Pc=wn()+500,Wa(n,i)):Qa=gs(n,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=_n;t:switch(Qe){case 1:Qe=0,_n=null,Za(n,i,d,1);break;case 2:case 9:if(ey(d)){Qe=0,_n=null,Hv(i);break}i=function(){Qe!==2&&Qe!==9||tt!==n||(Qe=7),pr(n)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ey(d)?(Qe=0,_n=null,Hv(i)):(Qe=0,_n=null,Za(n,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var T=Ne;if(!_||S_(_)){Qe=0,_n=null;var I=T.sibling;if(I!==null)Ne=I;else{var F=T.return;F!==null?(Ne=F,Uc(F)):Ne=null}break t}}Qe=0,_n=null,Za(n,i,d,5);break;case 6:Qe=0,_n=null,Za(n,i,d,6);break;case 8:Qd(),ht=6;break e;default:throw Error(s(462))}}S1();break}catch(W){jv(n,W)}while(!0);return zr=Us=null,X.H=l,X.A=h,Ye=a,Ne!==null?0:(tt=null,Le=0,sc(),ht)}function S1(){for(;Ne!==null&&!Po();)qv(Ne)}function qv(n){var i=pv(n.alternate,n,Kr);n.memoizedProps=n.pendingProps,i===null?Uc(n):Ne=i}function Hv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=uv(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=uv(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:cd(i);default:yv(a,i),i=Ne=Fg(i,Kr),i=pv(a,i,Kr)}n.memoizedProps=n.pendingProps,i===null?Uc(n):Ne=i}function Za(n,i,a,l){zr=Us=null,cd(i),Ha=null,Tl=0;var h=i.return;try{if(d1(n,h,i,a,Le)){ht=1,xc(n,xn(a,n.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,xc(n,xn(a,n.current)),Ne=null;return}i.flags&32768?(qe||l===1?n=!0:Qa||(Le&536870912)!==0?n=!1:(xi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fv(i,n)):Uc(i)}function Uc(n){var i=n;do{if((i.flags&32768)!==0){Fv(i,xi);return}n=i.return;var a=p1(i.alternate,i,Kr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=n}while(i!==null);ht===0&&(ht=5)}function Fv(n,i){do{var a=g1(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ht=6,Ne=null}function Gv(n,i,a,l,h,d,_,T,I){n.cancelPendingCommit=null;do jc();while(qt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=jf,Bo(n,a,d,_,T,I),n===tt&&(Ne=tt=null,Le=0),$a=i,Oi=n,Xa=a,Fd=d,Gd=h,Pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,C1(fs,function(){return Xv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ae.p,ae.p=2,_=Ye,Ye|=4;try{y1(n,i,a)}finally{Ye=_,ae.p=h,X.T=l}}qt=1,Yv(),Qv(),Kv()}}function Yv(){if(qt===1){qt=0;var n=Oi,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Cv(i,n);var d=om,_=Vg(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Mg(T.ownerDocument.documentElement,T)){if(I!==null&&Vf(T)){var F=I.start,W=I.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Te=T.textContent.length,ye=Math.min(I.start,Te),Ze=I.end===void 0?ye:Math.min(I.end,Te);!Q.extend&&ye>Ze&&(_=Ze,Ze=ye,ye=_);var L=Og(T,ye),V=Og(T,Ze);if(L&&V&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=ee.createRange();q.setStart(L.node,L.offset),Q.removeAllRanges(),ye>Ze?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(ee=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wc=!!am,om=am=null}finally{Ye=h,ae.p=l,X.T=a}}n.current=i,qt=2}}function Qv(){if(qt===2){qt=0;var n=Oi,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Sv(n,i.alternate,i)}finally{Ye=h,ae.p=l,X.T=a}}qt=3}}function Kv(){if(qt===4||qt===3){qt=0,Vu();var n=Oi,i=$a,a=Xa,l=Pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,$a=Oi=null,$v(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Ni=null),pa(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ae.p,ae.p=2,X.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,ae.p=h}}(Xa&3)!==0&&jc(),pr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Yd?Dl++:(Dl=0,Yd=n):Dl=0,Nl(0)}}function $v(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,cl(i)))}function jc(n){return Yv(),Qv(),Kv(),Xv()}function Xv(){if(qt!==5)return!1;var n=Oi,i=Fd;Fd=0;var a=pa(Xa),l=X.T,h=ae.p;try{ae.p=32>a?32:a,X.T=null,a=Gd,Gd=null;var d=Oi,_=Xa;if(qt=0,$a=Oi=null,Xa=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,Mv(d.current),Dv(d,d.current,_,a),Ye=T,Nl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ae.p=h,X.T=l,$v(n,i)}}function Wv(n,i,a){i=xn(a,i),i=Sd(n.stateNode,i,2),n=bi(n,i,2),n!==null&&(Rr(n,2),pr(n))}function Je(n,i,a){if(n.tag===3)Wv(n,n,a);else for(;i!==null;){if(i.tag===3){Wv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))){n=xn(a,n),a=tv(2),l=bi(i,a,2),l!==null&&(nv(a,l,i,n),Rr(l,2),pr(l));break}}i=i.return}}function Xd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new E1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(zd=!0,h.add(a),n=A1.bind(null,n,i,a),i.then(n,n))}function A1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>wn()-Hd?(Ye&2)===0&&Wa(n,0):Bd|=a,Ka===Le&&(Ka=0)),pr(n)}function Zv(n,i){i===0&&(i=zo()),n=Ma(n,i),n!==null&&(Rr(n,i),pr(n))}function R1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Zv(n,a)}function I1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zv(n,a)}function C1(n,i){return cs(n,i)}var zc=null,Ja=null,Wd=!1,Bc=!1,Zd=!1,Gs=0;function pr(n){n!==Ja&&n.next===null&&(Ja===null?zc=Ja=n:Ja=Ja.next=n),Bc=!0,Wd||(Wd=!0,D1())}function Nl(n,i){if(!Zd&&Bc){Zd=!0;do for(var a=!1,l=zc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|n)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n_(l,d))}else d=Le,d=ma(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(a=!0,n_(l,d));l=l.next}while(a);Zd=!1}}function x1(){Jv()}function Jv(){Bc=Wd=!1;var n=0;Gs!==0&&(U1()&&(n=Gs),Gs=0);for(var i=wn(),a=null,l=zc;l!==null;){var h=l.next,d=e_(l,i);d===0?(l.next=null,a===null?zc=h:a.next=h,h===null&&(Ja=a)):(a=l,(n!==0||(d&3)!==0)&&(Bc=!0)),l=h}Nl(n)}function e_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-Qt(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Uo(T,i)):I<=i&&(n.expiredLanes|=T),d&=~T}if(i=tt,a=Le,a=ma(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&hs(l),pa(a)){case 2:case 8:a=fa;break;case 32:a=fs;break;case 268435456:a=da;break;default:a=fs}return l=t_.bind(null,n),a=cs(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&hs(l),n.callbackPriority=2,n.callbackNode=null,2}function t_(n,i){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(jc()&&n.callbackNode!==a)return null;var l=Le;return l=ma(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Lv(n,l,i),e_(n,wn()),n.callbackNode!=null&&n.callbackNode===a?t_.bind(null,n):null)}function n_(n,i){if(jc())return null;Lv(n,i,!0)}function D1(){z1(function(){(Ye&6)!==0?cs(ko,x1):Jv()})}function Jd(){return Gs===0&&(Gs=jo()),Gs}function r_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function i_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function N1(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=r_((h[yt]||null).action),_=l.submitter;_&&(i=(i=_[yt]||null)?r_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ba("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var I=_?i_(h,_):new FormData(h);_d(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?i_(h,_):new FormData(h),_d(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var em=0;em<Uf.length;em++){var tm=Uf[em],O1=tm.toLowerCase(),M1=tm[0].toUpperCase()+tm.slice(1);qn(O1,"on"+M1)}qn(Lg,"onAnimationEnd"),qn(Ug,"onAnimationIteration"),qn(jg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Xw,"onTransitionRun"),qn(Ww,"onTransitionStart"),qn(Zw,"onTransitionCancel"),qn(zg,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function s_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){Cc(W)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,F=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){Cc(W)}h.currentTarget=null,d=I}}}}function Oe(n,i){var a=i[Ho];a===void 0&&(a=i[Ho]=new Set);var l=n+"__bubble";a.has(l)||(a_(i,n,2,!1),a.add(l))}function nm(n,i,a){var l=0;i&&(l|=4),a_(a,n,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[qc]){n[qc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(V1.has(a)||nm(a,!1,n),nm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,nm("selectionchange",!1,i))}}function a_(n,i,a,l){switch(D_(i)){case 2:var h=oS;break;case 8:h=lS;break;default:h=ym}a=h.bind(null,i,a,n),h=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function im(n,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ir(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Fu(function(){var F=d,W=Rn(a),ee=[];e:{var Y=Bg.get(n);if(Y!==void 0){var Q=ba,Te=n;switch(n){case"keypress":if(ar(a)===0)break e;case"keydown":case"keyup":Q=Ca;break;case"focusin":Te="focus",Q=Aa;break;case"focusout":Te="blur",Q=Aa;break;case"beforeblur":case"afterblur":Q=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Zu;break;case Lg:case Ug:case jg:Q=Ra;break;case zg:Q=ec;break;case"scroll":case"scrollend":Q=Gu;break;case"wheel":Q=xa;break;case"copy":case"cut":case"paste":Q=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=nl;break;case"toggle":case"beforetoggle":Q=nc}var ye=(i&4)!==0,Ze=!ye&&(n==="scroll"||n==="scrollend"),L=ye?Y!==null?Y+"Capture":null:Y;ye=[];for(var V=F,q;V!==null;){var Z=V;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=Ss(V,L),Z!=null&&ye.push(Ml(V,Z,q))),Ze)break;V=V.return}0<ye.length&&(Y=new Q(Y,Te,null,a,W),ee.push({event:Y,listeners:ye}))}}if((i&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",Y&&a!==Nr&&(Te=a.relatedTarget||a.fromElement)&&(Ir(Te)||Te[Sn]))break e;if((Q||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Te=a.relatedTarget||a.toElement,Q=F,Te=Te?Ir(Te):null,Te!==null&&(Ze=u(Te),ye=Te.tag,Te!==Ze||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(Q=null,Te=F),Q!==Te)){if(ye=Cn,Z="onMouseLeave",L="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(ye=nl,Z="onPointerLeave",L="onPointerEnter",V="pointer"),Ze=Q==null?Y:nr(Q),q=Te==null?Y:nr(Te),Y=new ye(Z,V+"leave",Q,a,W),Y.target=Ze,Y.relatedTarget=q,Z=null,Ir(W)===F&&(ye=new ye(L,V+"enter",Te,a,W),ye.target=q,ye.relatedTarget=Ze,Z=ye),Ze=Z,Q&&Te)t:{for(ye=Q,L=Te,V=0,q=ye;q;q=eo(q))V++;for(q=0,Z=L;Z;Z=eo(Z))q++;for(;0<V-q;)ye=eo(ye),V--;for(;0<q-V;)L=eo(L),q--;for(;V--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=eo(ye),L=eo(L)}ye=null}else ye=null;Q!==null&&o_(ee,Y,Q,ye,!1),Te!==null&&Ze!==null&&o_(ee,Ze,Te,ye,!0)}}e:{if(Y=F?nr(F):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var ce=Rg;else if(Rt(Y))if(Ig)ce=Qw;else{ce=Gw;var De=Fw}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&$o(F.elementType)&&(ce=Rg):ce=Yw;if(ce&&(ce=ce(n,F))){kr(ee,ce,a,W);break e}De&&De(n,Y,F),n==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&yi(Y,"number",Y.value)}switch(De=F?nr(F):window,n){case"focusin":(Rt(De)||De.contentEditable==="true")&&(Da=De,Pf=F,sl=null);break;case"focusout":sl=Pf=Da=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Pg(ee,a,W);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Pg(ee,a,W)}var de;if(ur)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?K(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(de=Wo()):(sr=W,vi="value"in sr?sr.value:sr.textContent,Pe=!0)),De=Hc(F,_e),0<De.length&&(_e=new el(_e,n,null,a,W),ee.push({event:_e,listeners:De}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?At(n,a):ke(n,a))&&(_e=Hc(F,"onBeforeInput"),0<_e.length&&(De=new el("onBeforeInput","beforeinput",null,a,W),ee.push({event:De,listeners:_e}),De.data=de)),N1(ee,n,F,a,W)}s_(ee,i)})}function Ml(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Hc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ss(n,a),h!=null&&l.unshift(Ml(n,h,d)),h=Ss(n,i),h!=null&&l.push(Ml(n,h,d))),n.tag===3)return l;n=n.return}return[]}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function o_(n,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||F===null||(I=F,h?(F=Ss(a,d),F!=null&&_.unshift(Ml(a,F,I))):h||(F=Ss(a,d),F!=null&&_.push(Ml(a,F,I)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var P1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function l_(n){return(typeof n=="string"?n:""+n).replace(P1,`
`).replace(k1,"")}function u_(n,i){return i=l_(i),l_(n)===i}function Fc(){}function We(n,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(n,""+l);break;case"className":rr(n,"class",l);break;case"tabIndex":rr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(n,a,l);break;case"style":Ko(n,l,d);break;case"data":if(i!=="object"){rr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",h.name,h,null),We(n,i,"formEncType",h.formEncType,h,null),We(n,i,"formMethod",h.formMethod,h,null),We(n,i,"formTarget",h.formTarget,h,null)):(We(n,i,"encType",h.encType,h,null),We(n,i,"method",h.method,h,null),We(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ta(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),gi(n,"popover",l);break;case"xlinkActuate":jt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cf.get(a)||a,gi(n,a,l))}}function sm(n,i,a,l,h,d){switch(a){case"style":Ko(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?An(n,l):(typeof l=="number"||typeof l=="bigint")&&An(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):gi(n,a,l)}}}function Ht(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,d,_,a,null)}}h&&We(n,i,"srcSet",a.srcSet,a,null),l&&We(n,i,"src",a.src,a,null);return;case"input":Oe("invalid",n);var T=d=_=h=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":I=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:We(n,i,l,W,a,null)}}Ts(n,d,T,I,F,_,h,!1),Ea(n);return;case"select":Oe("invalid",n),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:We(n,i,h,T,a,null)}i=d,a=_,n.multiple=!!l,i!=null?Dr(n,!!l,i,!1):a!=null&&Dr(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,i,_,T,a,null)}bs(n,l,h,d),Ea(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,i,I,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Oe(Ol[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,F,l,a,null)}return;default:if($o(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&sm(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,i,T,l,a,null))}function L1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,F=null,W=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Q)||We(n,i,Q,null,l,ee)}}for(var Y in l){var Q=l[Y];if(ee=a[Y],l.hasOwnProperty(Y)&&(Q!=null||ee!=null))switch(Y){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&We(n,i,Y,Q,l,ee)}}mn(n,_,T,I,F,W,d,h);return;case"select":Q=_=T=Y=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||We(n,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&We(n,i,h,d,l,I)}i=T,a=_,l=Q,Y!=null?Dr(n,!!a,Y,!1):!!l!=!!a&&(i!=null?Dr(n,!!a,i,!0):Dr(n,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(n,i,_,h,l,d)}$e(n,Y,Q);return;case"option":for(var Te in a)if(Y=a[Te],a.hasOwnProperty(Te)&&Y!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:We(n,i,Te,null,l,Y)}for(I in l)if(Y=l[I],Q=a[I],l.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(n,i,I,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)Y=a[ye],a.hasOwnProperty(ye)&&Y!=null&&!l.hasOwnProperty(ye)&&We(n,i,ye,null,l,Y);for(F in l)if(Y=l[F],Q=a[F],l.hasOwnProperty(F)&&Y!==Q&&(Y!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:We(n,i,F,Y,l,Q)}return;default:if($o(i)){for(var Ze in a)Y=a[Ze],a.hasOwnProperty(Ze)&&Y!==void 0&&!l.hasOwnProperty(Ze)&&sm(n,i,Ze,void 0,l,Y);for(W in l)Y=l[W],Q=a[W],!l.hasOwnProperty(W)||Y===Q||Y===void 0&&Q===void 0||sm(n,i,W,Y,l,Q);return}}for(var L in a)Y=a[L],a.hasOwnProperty(L)&&Y!=null&&!l.hasOwnProperty(L)&&We(n,i,L,null,l,Y);for(ee in l)Y=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||Y===Q||Y==null&&Q==null||We(n,i,ee,Y,l,Q)}var am=null,om=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function c_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function lm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var um=null;function U1(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(n){return d_.resolve(null).then(n).catch(B1)}:f_;function B1(n){setTimeout(function(){throw n})}function Vi(n){return n==="head"}function m_(n,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=n.ownerDocument;if(a&1&&Vl(_.documentElement),a&2&&Vl(_.body),a&4)for(a=_.head,Vl(a),_=a.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[ys]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){n.removeChild(d),ql(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ql(i)}function cm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function q1(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ys])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function H1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function F1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Fn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var fm=null;function p_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function g_(n,i,a){switch(i=Gc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Vl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);pi(n)}var Pn=new Map,y_=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var $r=ae.d;ae.d={f:G1,r:Y1,D:Q1,C:K1,L:$1,m:X1,X:Z1,S:W1,M:J1};function G1(){var n=$r.f(),i=Lc();return n||i}function Y1(n){var i=tr(n);i!==null&&i.tag===5&&i.type==="form"?Ly(i):$r.r(n)}var to=typeof document>"u"?null:document;function v_(n,i,a){var l=to;if(l&&typeof i=="string"&&i){var h=vt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",n),dt(i),l.head.appendChild(i)))}}function Q1(n){$r.D(n),v_("dns-prefetch",n,null)}function K1(n,i){$r.C(n,i),v_("preconnect",n,i)}function $1(n,i,a){$r.L(n,i,a);var l=to;if(l&&n&&i){var h='link[rel="preload"][as="'+vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(n)+'"]';var d=h;switch(i){case"style":d=no(n);break;case"script":d=ro(n)}Pn.has(d)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Pn.set(d,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Ht(i,"link",n),dt(i),l.head.appendChild(i)))}}function X1(n,i){$r.m(n,i);var a=to;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(n)}if(!Pn.has(d)&&(n=E({rel:"modulepreload",href:n},i),Pn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Ht(l,"link",n),dt(l),a.head.appendChild(l)}}}function W1(n,i,a){$r.S(n,i,a);var l=to;if(l&&n){var h=en(l).hoistableStyles,d=no(n);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Pl(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Pn.get(d))&&dm(n,a);var I=_=l.createElement("link");dt(I),Ht(I,"link",n),I._p=new Promise(function(F,W){I.onload=F,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Z1(n,i){$r.X(n,i);var a=to;if(a&&n){var l=en(a).hoistableScripts,h=ro(n),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(n=E({src:n,async:!0},i),(i=Pn.get(h))&&mm(n,i),d=a.createElement("script"),dt(d),Ht(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function J1(n,i){$r.M(n,i);var a=to;if(a&&n){var l=en(a).hoistableScripts,h=ro(n),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(n=E({src:n,async:!0,type:"module"},i),(i=Pn.get(h))&&mm(n,i),d=a.createElement("script"),dt(d),Ht(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function __(n,i,a,l){var h=(h=we.current)?Yc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=no(a.href);var d=en(h).hoistableStyles,_=d.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=h.querySelector(Pl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(n,a),d||eS(h,n,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function no(n){return'href="'+vt(n)+'"'}function Pl(n){return'link[rel="stylesheet"]['+n+"]"}function E_(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function eS(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),dt(i),n.head.appendChild(i))}function ro(n){return'[src="'+vt(n)+'"]'}function kl(n){return"script[async]"+n}function T_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),Ht(l,"style",h),Qc(l,a.precedence,n),i.instance=l;case"stylesheet":h=no(a.href);var d=n.querySelector(Pl(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=E_(a),(h=Pn.get(h))&&dm(l,h),d=(n.ownerDocument||n).createElement("link"),dt(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ht(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,n),i.instance=d;case"script":return d=ro(a.src),(h=n.querySelector(kl(d)))?(i.instance=h,dt(h),h):(l=a,(h=Pn.get(d))&&(l=E({},a),mm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),dt(h),Ht(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,n));return i.instance}function Qc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function mm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Kc=null;function b_(n,i,a){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(a,l)}else h=Kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[ys]||d[St]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function w_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function tS(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function S_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ll=null;function nS(){}function rS(n,i,a){if(Ll===null)throw Error(s(475));var l=Ll;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=no(a.href),d=n.querySelector(Pl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=$c.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=n.ownerDocument||n,a=E_(a),(h=Pn.get(h))&&dm(a,h),d=d.createElement("link"),dt(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ht(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=$c.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function iS(){if(Ll===null)throw Error(s(475));var n=Ll;return n.stylesheets&&n.count===0&&pm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&pm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function pm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,i.forEach(sS,n),Xc=null,$c.call(n))}function sS(n,i){if(!(i.state.loading&4)){var a=Xc.get(n);if(a)var l=a.get(null);else{a=new Map,Xc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Ul={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function aS(n,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function A_(n,i,a,l,h,d,_,T,I,F,W,ee){return n=new aS(n,i,a,_,T,I,F,ee),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),n.current=d,d.stateNode=n,i=Xf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ed(d),n}function R_(n){return n?(n=Va,n):Va}function I_(n,i,a,l,h,d){h=R_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ti(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=bi(n,l,i),a!==null&&(Tn(a,n,i),ml(a,n,i))}function C_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function gm(n,i){C_(n,i),(n=n.alternate)&&C_(n,i)}function x_(n){if(n.tag===13){var i=Ma(n,67108864);i!==null&&Tn(i,n,67108864),gm(n,67108864)}}var Wc=!0;function oS(n,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=2,ym(n,i,a,l)}finally{ae.p=d,X.T=h}}function lS(n,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=8,ym(n,i,a,l)}finally{ae.p=d,X.T=h}}function ym(n,i,a,l){if(Wc){var h=vm(l);if(h===null)im(n,i,l,Zc,a),N_(n,l);else if(cS(h,n,i,a,l))l.stopPropagation();else if(N_(n,l),i&4&&-1<uS.indexOf(n)){for(;h!==null;){var d=tr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Qt(_);T.entanglements[1]|=I,_&=~I}pr(d),(Ye&6)===0&&(Pc=wn()+500,Nl(0))}}break;case 13:T=Ma(d,2),T!==null&&Tn(T,d,2),Lc(),gm(d,2)}if(d=vm(l),d===null&&im(n,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else im(n,i,l,null,a)}}function vm(n){return n=Rn(n),_m(n)}var Zc=null;function _m(n){if(Zc=null,n=Ir(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function D_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bf()){case ko:return 2;case fa:return 8;case fs:case wf:return 32;case da:return 268435456;default:return 32}default:return 32}}var Em=!1,Pi=null,ki=null,Li=null,jl=new Map,zl=new Map,Ui=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(n,i){switch(n){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(n,i,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=tr(i),i!==null&&x_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function cS(n,i,a,l,h){switch(i){case"focusin":return Pi=Bl(Pi,n,i,a,l,h),!0;case"dragenter":return ki=Bl(ki,n,i,a,l,h),!0;case"mouseover":return Li=Bl(Li,n,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return jl.set(d,Bl(jl.get(d)||null,n,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,zl.set(d,Bl(zl.get(d)||null,n,i,a,l,h)),!0}return!1}function O_(n){var i=Ir(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,Lu(n.priority,function(){if(a.tag===13){var l=En();l=fi(l);var h=Ma(a,l);h!==null&&Tn(h,a,l),gm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Nr=l,a.target.dispatchEvent(l),Nr=null}else return i=tr(a),i!==null&&x_(i),n.blockedOn=a,!1;i.shift()}return!0}function M_(n,i,a){Jc(n)&&a.delete(i)}function hS(){Em=!1,Pi!==null&&Jc(Pi)&&(Pi=null),ki!==null&&Jc(ki)&&(ki=null),Li!==null&&Jc(Li)&&(Li=null),jl.forEach(M_),zl.forEach(M_)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hS)))}var th=null;function V_(n){th!==n&&(th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(_m(l||a)===null)continue;break}var d=tr(a);d!==null&&(n.splice(i,3),i-=3,_d(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ql(n){function i(I){return eh(I,n)}Pi!==null&&eh(Pi,n),ki!==null&&eh(ki,n),Li!==null&&eh(Li,n),jl.forEach(i),zl.forEach(i);for(var a=0;a<Ui.length;a++){var l=Ui[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ui.length&&(a=Ui[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Ui.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[yt]||null;if(typeof d=="function")_||V_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[yt]||null)T=_.formAction;else if(_m(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),V_(a)}}}function Tm(n){this._internalRoot=n}nh.prototype.render=Tm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();I_(a,l,n,i,null,null)},nh.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;I_(n.current,2,null,n,null,null),Lc(),i[Sn]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=di();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ui.length&&i!==0&&i<Ui[a].priority;a++);Ui.splice(a,0,n),a===0&&O_(n)}};var P_=e.version;if(P_!=="19.1.0")throw Error(s(527,P_,"19.1.0"));ae.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var fS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ut=rh.inject(fS),Ge=rh}catch{}}return Fl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=Wy,d=Zy,_=Jy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=A_(n,1,!1,null,null,a,l,h,d,_,T,null),n[Sn]=i.current,rm(n),new Tm(i)},Fl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=Wy,_=Zy,T=Jy,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=A_(n,1,!0,i,a??null,l,h,d,_,T,I,F),i.context=R_(null),a=i.current,l=En(),l=fi(l),h=Ti(l),h.callback=null,bi(a,h,l),a=l,i.current.lanes=a,Rr(i,a),pr(i),n[Sn]=i.current,rm(n),new nh(i)},Fl.version="19.1.0",Fl}var G_;function wS(){if(G_)return Sm.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=bS(),Sm.exports}var SS=wS();const AS=jE(SS);var Gl={},Y_;function RS(){if(Y_)return Gl;Y_=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.parse=f,Gl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,D){const x=new u,j=b.length;if(j<2)return x;const G=(D==null?void 0:D.decode)||E;let H=0;do{const $=b.indexOf("=",H);if($===-1)break;const re=b.indexOf(";",H),fe=re===-1?j:re;if($>fe){H=b.lastIndexOf(";",$-1)+1;continue}const he=m(b,H,$),ve=p(b,$,he),P=b.slice(he,ve);if(x[P]===void 0){let A=m(b,$+1,fe),R=p(b,fe,A);const O=G(b.slice(A,R));x[P]=O}H=fe+1}while(H<j);return x}function m(b,D,x){do{const j=b.charCodeAt(D);if(j!==32&&j!==9)return D}while(++D<x);return x}function p(b,D,x){for(;D>x;){const j=b.charCodeAt(--D);if(j!==32&&j!==9)return D+1}return x}function g(b,D,x){const j=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const G=j(D);if(!e.test(G))throw new TypeError(`argument val is invalid: ${D}`);let H=b+"="+G;if(!x)return H;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);H+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);H+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);H+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);H+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(H+="; HttpOnly"),x.secure&&(H+="; Secure"),x.partitioned&&(H+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return H}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return Gl}RS();var Q_="popstate";function IS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=sa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Hm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:uu(u))}function s(o,u){Ln(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return xS(e,t,s,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ln(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CS(){return Math.random().toString(36).substring(2,10)}function K_(r,e){return{usr:r.state,key:r.key,idx:e}}function Hm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:t,key:e&&e.key||s||CS()}}function uu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function sa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xS(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let G=E(),H=G==null?null:G-g;g=G,p&&p({action:m,location:j.location,delta:H})}function b(G,H){m="PUSH";let $=Hm(j.location,G,H);t&&t($,G),g=E()+1;let re=K_($,g),fe=j.createHref($);try{f.pushState(re,"",fe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(fe)}u&&p&&p({action:m,location:j.location,delta:1})}function D(G,H){m="REPLACE";let $=Hm(j.location,G,H);t&&t($,G),g=E();let re=K_($,g),fe=j.createHref($);f.replaceState(re,"",fe),u&&p&&p({action:m,location:j.location,delta:0})}function x(G){return DS(G)}let j={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Q_,w),p=G,()=>{o.removeEventListener(Q_,w),p=null}},createHref(G){return e(o,G)},createURL:x,encodeLocation(G){let H=x(G);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:D,go(G){return f.go(G)}};return j}function DS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function zE(r,e,t="/"){return NS(r,e,t,!1)}function NS(r,e,t,s){let o=typeof e=="string"?sa(e):e,u=ri(o.pathname||"/",t);if(u==null)return null;let f=BE(r);OS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=HS(u);m=BS(f[p],g,s)}return m}function BE(r,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ti([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),BE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:jS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of qE(u.path))o(u,f,p)}),e}function qE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=qE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function OS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:zS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var MS=/^:[\w-]+$/,VS=3,PS=2,kS=1,LS=10,US=-2,$_=r=>r==="*";function jS(r,e){let t=r.split("/"),s=t.length;return t.some($_)&&(s+=US),e&&(s+=PS),t.filter(o=>!$_(o)).reduce((o,u)=>o+(MS.test(u)?VS:u===""?kS:LS),s)}function zS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function BS(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ti([u,w.pathname]),pathnameBase:QS(ti([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=ti([u,w.pathnameBase]))}return f}function Ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=qS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},b)=>{if(E==="*"){let x=m[b]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const D=m[b];return w&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function qS(r,e=!1,t=!0){Ln(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ri(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function FS(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?sa(r):r;return{pathname:t?t.startsWith("/")?t:GS(t,e):e,search:KS(s),hash:$S(o)}}function GS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bp(r){let e=YS(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function wp(r,e,t,s=!1){let o;typeof r=="string"?o=sa(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let w=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=FS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ti=r=>r.join("/").replace(/\/\/+/g,"/"),QS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$S=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function XS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var WS=["GET",...HE];new Set(WS);var So=z.createContext(null);So.displayName="DataRouter";var Yh=z.createContext(null);Yh.displayName="DataRouterState";var FE=z.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var ZS=z.createContext(new Map);ZS.displayName="Fetchers";var JS=z.createContext(null);JS.displayName="Await";var Wn=z.createContext(null);Wn.displayName="Navigation";var Eu=z.createContext(null);Eu.displayName="Location";var Zn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Sp=z.createContext(null);Sp.displayName="RouteError";function eA(r,{relative:e}={}){st(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(Wn),{hash:o,pathname:u,search:f}=bu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ti([t,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return z.useContext(Eu)!=null}function ss(){return st(Ao(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Eu).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(r){z.useContext(Wn).static||z.useLayoutEffect(r)}function Tu(){let{isDataRoute:r}=z.useContext(Zn);return r?mA():tA()}function tA(){st(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(So),{basename:e,navigator:t}=z.useContext(Wn),{matches:s}=z.useContext(Zn),{pathname:o}=ss(),u=JSON.stringify(bp(s)),f=z.useRef(!1);return YE(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Ln(f.current,GE),!f.current)return;if(typeof p=="number"){t.go(p);return}let E=wp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ti([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}z.createContext(null);function nA(){let{matches:r}=z.useContext(Zn),e=r[r.length-1];return e?e.params:{}}function bu(r,{relative:e}={}){let{matches:t}=z.useContext(Zn),{pathname:s}=ss(),o=JSON.stringify(bp(t));return z.useMemo(()=>wp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function rA(r,e){return QE(r,e)}function QE(r,e,t,s){var H;st(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Wn),{matches:u}=z.useContext(Zn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";KE(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=ss(),b;if(e){let $=typeof e=="string"?sa(e):e;st(g==="/"||((H=$.pathname)==null?void 0:H.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),b=$}else b=w;let D=b.pathname||"/",x=D;if(g!=="/"){let $=g.replace(/^\//,"").split("/");x="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let j=zE(r,{pathname:x});Ln(E||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ln(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=lA(j&&j.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:ti([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:ti([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,t,s);return e&&G?z.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},G):G}function iA(){let r=dA(),e=XS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,f)}var sA=z.createElement(iA,null),aA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Zn.Provider,{value:this.props.routeContext},z.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oA({routeContext:r,match:e,children:t}){let s=z.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Zn.Provider,{value:r},t)}function lA(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=t,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,b=!1,D=null,x=null;t&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||sA,f&&(m<0&&E===0?(KE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):m===E&&(b=!0,x=g.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,E+1)),G=()=>{let H;return w?H=D:b?H=x:g.route.Component?H=z.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,z.createElement(oA,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?z.createElement(aA,{location:t.location,revalidation:t.revalidation,component:D,error:w,children:G(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):G()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uA(r){let e=z.useContext(So);return st(e,Ap(r)),e}function cA(r){let e=z.useContext(Yh);return st(e,Ap(r)),e}function hA(r){let e=z.useContext(Zn);return st(e,Ap(r)),e}function Rp(r){let e=hA(r),t=e.matches[e.matches.length-1];return st(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function fA(){return Rp("useRouteId")}function dA(){var s;let r=z.useContext(Sp),e=cA("useRouteError"),t=Rp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function mA(){let{router:r}=uA("useNavigate"),e=Rp("useNavigate"),t=z.useRef(!1);return YE(()=>{t.current=!0}),z.useCallback(async(o,u={})=>{Ln(t.current,GE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var X_={};function KE(r,e,t){!e&&!X_[r]&&(X_[r]=!0,Ln(!1,t))}z.memo(pA);function pA({routes:r,future:e,state:t}){return QE(r,void 0,t,e)}function $E({to:r,replace:e,state:t,relative:s}){st(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Wn);Ln(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Zn),{pathname:f}=ss(),m=Tu(),p=wp(r,bp(u),f,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Xl(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){st(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=sa(t));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:b="default"}=t,D=z.useMemo(()=>{let x=ri(p,f);return x==null?null:{location:{pathname:x,search:g,hash:E,state:w,key:b},navigationType:s}},[f,p,g,E,w,b,s]);return Ln(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(Wn.Provider,{value:m},z.createElement(Eu.Provider,{children:e,value:D}))}function yA({children:r,location:e}){return rA(Fm(r),e)}function Fm(r,e=[]){let t=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){t.push.apply(t,Fm(s.props.children,u));return}st(s.type===Xl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),t.push(f)}),t}var fh="get",dh="application/x-www-form-urlencoded";function Qh(r){return r!=null&&typeof r.tagName=="string"}function vA(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function _A(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function EA(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function TA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function bA(r,e){return r.button===0&&(!e||e==="_self")&&!TA(r)}var ih=null;function wA(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var SA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(r){return r!=null&&!SA.has(r)?(Ln(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function AA(r,e){let t,s,o,u,f;if(_A(r)){let m=r.getAttribute("action");s=m?ri(m,e):null,t=r.getAttribute("method")||fh,o=xm(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(vA(r)||EA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ri(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=xm(r.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!wA()){let{name:g,type:E,value:w}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,w)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,s=null,o=dh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function RA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function CA(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await RA(u,t);return f.links?f.links():[]}return[]}));return OA(s.flat(1).filter(IA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(r,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xA(r,e,{includeHydrateFallback:t}={}){return DA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function DA(r){return[...new Set(r)]}function NA(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function OA(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(NA(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MA=new Set([100,101,204,205]);function VA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ri(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function XE(){let r=z.useContext(So);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PA(){let r=z.useContext(Yh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cp=z.createContext(void 0);Cp.displayName="FrameworkContext";function WE(){let r=z.useContext(Cp);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function kA(r,e){let t=z.useContext(Cp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,b=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let j=H=>{H.forEach($=>{f($.isIntersecting)})},G=new IntersectionObserver(j,{threshold:.5});return b.current&&G.observe(b.current),()=>{G.disconnect()}}},[r]),z.useEffect(()=>{if(s){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[s]);let D=()=>{o(!0)},x=()=>{o(!1),f(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Yl(m,D),onBlur:Yl(p,x),onMouseEnter:Yl(g,D),onMouseLeave:Yl(E,x),onTouchStart:Yl(w,D)}]:[!1,b,{}]}function Yl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function LA({page:r,...e}){let{router:t}=XE(),s=z.useMemo(()=>zE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?z.createElement(jA,{page:r,matches:s,...e}):null}function UA(r){let{manifest:e,routeModules:t}=WE(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return CA(r,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,t]),s}function jA({page:r,matches:e,...t}){let s=ss(),{manifest:o,routeModules:u}=WE(),{basename:f}=XE(),{loaderData:m,matches:p}=PA(),g=z.useMemo(()=>W_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=z.useMemo(()=>W_(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,j=!1;if(e.forEach(H=>{var re;let $=o.routes[H.route.id];!$||!$.hasLoader||(!g.some(fe=>fe.route.id===H.route.id)&&H.route.id in m&&((re=u[H.route.id])!=null&&re.shouldRevalidate)||$.hasClientLoader?j=!0:x.add(H.route.id))}),x.size===0)return[];let G=VA(r,f);return j&&x.size>0&&G.searchParams.set("_routes",e.filter(H=>x.has(H.route.id)).map(H=>H.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,g,e,r,u]),b=z.useMemo(()=>xA(E,o),[E,o]),D=UA(E);return z.createElement(z.Fragment,null,w.map(x=>z.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>z.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),D.map(({key:x,link:j})=>z.createElement("link",{key:x,...j})))}function zA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.6.3")}catch{}function BA({basename:r,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=IS({window:t,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(gA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kh=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...b},D){let{basename:x}=z.useContext(Wn),j=typeof g=="string"&&JE.test(g),G,H=!1;if(typeof g=="string"&&j&&(G=g,ZE))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),k=ri(O.pathname,x);O.origin===R.origin&&k!=null?g=k+O.search+O.hash:H=!0}catch{Ln(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=eA(g,{relative:o}),[re,fe,he]=kA(s,b),ve=GA(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function P(R){e&&e(R),R.defaultPrevented||ve(R)}let A=z.createElement("a",{...b,...he,href:G||$,onClick:H||u?e:P,ref:zA(D,fe),target:p,"data-discover":!j&&t==="render"?"true":void 0});return re&&!j?z.createElement(z.Fragment,null,A,z.createElement(LA,{page:$})):A});Kh.displayName="Link";var qA=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=bu(f,{relative:g.relative}),b=ss(),D=z.useContext(Yh),{navigator:x,basename:j}=z.useContext(Wn),G=D!=null&&XA(w)&&m===!0,H=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,$=b.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||($=$.toLowerCase(),re=re?re.toLowerCase():null,H=H.toLowerCase()),re&&j&&(re=ri(re,j)||re);const fe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let he=$===H||!o&&$.startsWith(H)&&$.charAt(fe)==="/",ve=re!=null&&(re===H||!o&&re.startsWith(H)&&re.charAt(H.length)==="/"),P={isActive:he,isPending:ve,isTransitioning:G},A=he?e:void 0,R;typeof s=="function"?R=s(P):R=[s,he?"active":null,ve?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(P):u;return z.createElement(Kh,{...g,"aria-current":A,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(P):p)});qA.displayName="NavLink";var HA=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...b},D)=>{let x=KA(),j=$A(m,{relative:g}),G=f.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&JE.test(m),$=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let fe=re.nativeEvent.submitter,he=(fe==null?void 0:fe.getAttribute("formmethod"))||f;x(fe||re.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return z.createElement("form",{ref:D,method:G,action:j,onSubmit:s?p:$,...b,"data-discover":!H&&r==="render"?"true":void 0})});HA.displayName="Form";function FA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eT(r){let e=z.useContext(So);return st(e,FA(r)),e}function GA(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Tu(),p=ss(),g=bu(r,{relative:u});return z.useCallback(E=>{if(bA(E,e)){E.preventDefault();let w=t!==void 0?t:uu(p)===uu(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,r,o,u,f])}var YA=0,QA=()=>`__${String(++YA)}__`;function KA(){let{router:r}=eT("useSubmit"),{basename:e}=z.useContext(Wn),t=fA();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=AA(s,e);if(o.navigate===!1){let E=o.fetcherKey||QA();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function $A(r,{relative:e}={}){let{basename:t}=z.useContext(Wn),s=z.useContext(Zn);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},f=ss();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ti([t,u.pathname])),uu(u)}function XA(r,e={}){let t=z.useContext(FE);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eT("useViewTransitionState"),o=bu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ri(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=ri(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}[...MA];const WA=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ZA=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],f=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},nT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(b=64)),s.push(t[E],t[w],t[b],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ZA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new JA;const b=u<<2|m>>4;if(s.push(b),g!==64){const D=m<<4&240|g>>2;if(s.push(D),w!==64){const x=g<<6&192|w;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eR=function(r){const e=tT(r);return nT.encodeByteArray(e,!0)},Rh=function(r){return eR(r).replace(/\./g,"")},rT=function(r){try{return nT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=()=>tR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof Z_>"u")return;const r=Z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&rT(r[1]);return e&&JSON.parse(e)},$h=()=>{try{return WA()||nR()||rR()||iR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},iT=r=>{var e,t;return(t=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},sR=r=>{const e=iT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},sT=()=>{var r;return(r=$h())===null||r===void 0?void 0:r.config},aT=r=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(f)),""].join(".")}const tu={};function lR(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function uR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let J_=!1;function lT(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||tu[r]===e||tu[r]||J_)return;tu[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=lR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{J_=!0,f()},b}function E(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=uR(s),D=t("text"),x=document.getElementById(D)||document.createElement("span"),j=t("learnmore"),G=document.getElementById(j)||document.createElement("a"),H=t("preprendIcon"),$=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),E(G,j);const fe=g();p($,H),re.append($,x,G,fe),document.body.appendChild(re)}u?(x.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function hR(){var r;const e=(r=$h())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gR(){return!hR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yR(){try{return typeof indexedDB=="object"}catch{return!1}}function vR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class ci extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=_R,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ER(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ci(o,m,s)}}function ER(r,e){return r.replace(TR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const TR=/\{\$([^}]+)}/g;function bR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ii(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(e0(u)&&e0(f)){if(!ii(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function e0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wR(r,e){const t=new SR(r,e);return t.subscribe.bind(t)}class SR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new aR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(r){return r===Ys?void 0:r}function CR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const DR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},NR=Me.INFO,OR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},MR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=OR[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const VR=(r,e)=>e.some(t=>r instanceof t);let t0,n0;function PR(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kR(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Gm=new WeakMap,cT=new WeakMap,Nm=new WeakMap,Dp=new WeakMap;function LR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(Qi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&uT.set(t,r)}).catch(()=>{}),Dp.set(e,r),e}function UR(r){if(Gm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Gm.set(r,e)}let Ym={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||cT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jR(r){Ym=r(Ym)}function zR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Om(this),e,...t);return cT.set(s,e.sort?e.sort():[e]),Qi(s)}:kR().includes(r)?function(...e){return r.apply(Om(this),e),Qi(uT.get(this))}:function(...e){return Qi(r.apply(Om(this),e))}}function BR(r){return typeof r=="function"?zR(r):(r instanceof IDBTransaction&&UR(r),VR(r,PR())?new Proxy(r,Ym):r)}function Qi(r){if(r instanceof IDBRequest)return LR(r);if(Nm.has(r))return Nm.get(r);const e=BR(r);return e!==r&&(Nm.set(r,e),Dp.set(e,r)),e}const Om=r=>Dp.get(r);function qR(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qi(f.result),p.oldVersion,p.newVersion,Qi(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const HR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],Mm=new Map;function r0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=FR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||HR.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Mm.set(e,u),u}jR(r=>({...r,get:(e,t,s)=>r0(e,t)||r.get(e,t,s),has:(e,t)=>!!r0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function YR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",i0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new xp("@firebase/app"),QR="@firebase/app-compat",KR="@firebase/analytics-compat",$R="@firebase/analytics",XR="@firebase/app-check-compat",WR="@firebase/app-check",ZR="@firebase/auth",JR="@firebase/auth-compat",eI="@firebase/database",tI="@firebase/data-connect",nI="@firebase/database-compat",rI="@firebase/functions",iI="@firebase/functions-compat",sI="@firebase/installations",aI="@firebase/installations-compat",oI="@firebase/messaging",lI="@firebase/messaging-compat",uI="@firebase/performance",cI="@firebase/performance-compat",hI="@firebase/remote-config",fI="@firebase/remote-config-compat",dI="@firebase/storage",mI="@firebase/storage-compat",pI="@firebase/firestore",gI="@firebase/ai",yI="@firebase/firestore-compat",vI="firebase",_I="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",EI={[Qm]:"fire-core",[QR]:"fire-core-compat",[$R]:"fire-analytics",[KR]:"fire-analytics-compat",[WR]:"fire-app-check",[XR]:"fire-app-check-compat",[ZR]:"fire-auth",[JR]:"fire-auth-compat",[eI]:"fire-rtdb",[tI]:"fire-data-connect",[nI]:"fire-rtdb-compat",[rI]:"fire-fn",[iI]:"fire-fn-compat",[sI]:"fire-iid",[aI]:"fire-iid-compat",[oI]:"fire-fcm",[lI]:"fire-fcm-compat",[uI]:"fire-perf",[cI]:"fire-perf-compat",[hI]:"fire-rc",[fI]:"fire-rc-compat",[dI]:"fire-gcs",[mI]:"fire-gcs-compat",[pI]:"fire-fst",[yI]:"fire-fst-compat",[gI]:"fire-vertex","fire-js":"fire-js",[vI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,TI=new Map,$m=new Map;function s0(r,e){try{r.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function po(r){const e=r.name;if($m.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const t of Ih.values())s0(t,r);for(const t of TI.values())s0(t,r);return!0}function Np(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new wu("app","Firebase",bI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=_I;function hT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Km,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ki.create("bad-app-name",{appName:String(o)});if(t||(t=sT()),!t)throw Ki.create("no-options");const u=Ih.get(o);if(u){if(ii(t,u.options)&&ii(s,u.config))return u;throw Ki.create("duplicate-app",{appName:o})}const f=new xR(o);for(const p of $m.values())f.addComponent(p);const m=new wI(t,s,f);return Ih.set(o,m),m}function fT(r=Km){const e=Ih.get(r);if(!e&&r===Km&&sT())return hT();if(!e)throw Ki.create("no-app",{appName:r});return e}function Ws(r,e,t){var s;let o=(s=EI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(m.join(" "));return}po(new ea(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firebase-heartbeat-database",AI=1,cu="firebase-heartbeat-store";let Vm=null;function dT(){return Vm||(Vm=qR(SI,AI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ki.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function RI(r){try{const t=(await dT()).transaction(cu),s=await t.objectStore(cu).get(mT(r));return await t.done,s}catch(e){if(e instanceof ci)si.warn(e.message);else{const t=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(t.message)}}}async function a0(r,e){try{const s=(await dT()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,mT(r)),await s.done}catch(t){if(t instanceof ci)si.warn(t.message);else{const s=Ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});si.warn(s.message)}}}function mT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=1024,CI=30;class xI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=o0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>CI){const f=OI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){si.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o0(),{heartbeatsToSend:s,unsentEntries:o}=DI(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return si.warn(t),""}}}function o0(){return new Date().toISOString().substring(0,10)}function DI(r,e=II){const t=[];let s=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),l0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),l0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class NI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yR()?vR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function l0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function OI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r){po(new ea("platform-logger",e=>new GR(e),"PRIVATE")),po(new ea("heartbeat",e=>new xI(e),"PRIVATE")),Ws(Qm,i0,r),Ws(Qm,i0,"esm2017"),Ws("fire-js","")}MI("");function Op(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VI=pT,gT=new wu("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new xp("@firebase/auth");function PI(r,...e){Ch.logLevel<=Me.WARN&&Ch.warn(`Auth (${Io}): ${r}`,...e)}function mh(r,...e){Ch.logLevel<=Me.ERROR&&Ch.error(`Auth (${Io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r,...e){throw Vp(r,...e)}function Qn(r,...e){return Vp(r,...e)}function Mp(r,e,t){const s=Object.assign(Object.assign({},VI()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function Zs(r){return Mp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&br(r,"argument-error"),Mp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return gT.create(r,...e)}function be(r,e,...t){if(!r)throw Vp(e,...t)}function Zr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function ai(r,e){r||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function LI(){return u0()==="http:"||u0()==="https:"}function u0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LI()||dR()||"connection"in navigator)?navigator.onLine:!0}function jI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=cR()||mR()}get(){return UI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){ai(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qI=new Au(3e4,6e4);function kp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Co(r,e,t,s,o={}){return vT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Su(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return fR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),yT.fetch()(await _T(r,r.config.apiHost,t,m),g)})}async function vT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},zI),e);try{const o=new FI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw sh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw sh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mp(r,E,g);br(r,E)}}catch(o){if(o instanceof ci)throw o;br(r,"network-request-failed",{message:String(o)})}}async function HI(r,e,t,s,o={}){const u=await Co(r,e,t,s,o);return"mfaPendingCredential"in u&&br(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function _T(r,e,t,s){const o=`${e}${t}?${s}`,u=r,f=u.config.emulator?Pp(r.config,o):`${r.config.apiScheme}://${o}`;return BI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),qI.get())})}}function sh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qn(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,e){return Co(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return Co(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YI(r,e=!1){const t=Lt(r),s=await t.getIdToken(e),o=Lp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:nu(Pm(o.auth_time)),issuedAtTime:nu(Pm(o.iat)),expirationTime:nu(Pm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pm(r){return Number(r)*1e3}function Lp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=rT(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function c0(r){const e=Lp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ci&&QI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function QI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await hu(r,xh(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ET(u.providerUserInfo):[],m=XI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function $I(r){const e=Lt(r);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ET(r){return r.map(e=>{var{providerId:t}=e,s=Op(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(r,e){const t=await vT(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await _T(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),yT.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZI(r,e){return Co(r,"POST","/v2/accounts:revokeToken",kp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=c0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await WI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new uo;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await hu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YI(this,e)}reload(){return $I(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await hu(this,GI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,E;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=t.photoURL)!==null&&f!==void 0?f:void 0,j=(m=t.tenantId)!==null&&m!==void 0?m:void 0,G=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,$=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:fe,isAnonymous:he,providerData:ve,stsTokenManager:P}=t;be(re&&P,e,"internal-error");const A=uo.fromJSON(this.name,P);be(typeof re=="string",e,"internal-error"),zi(w,e.name),zi(b,e.name),be(typeof fe=="boolean",e,"internal-error"),be(typeof he=="boolean",e,"internal-error"),zi(D,e.name),zi(x,e.name),zi(j,e.name),zi(G,e.name),zi(H,e.name),zi($,e.name);const R=new Yn({uid:re,auth:e,email:b,emailVerified:fe,displayName:w,isAnonymous:he,photoURL:x,phoneNumber:D,tenantId:j,stsTokenManager:A,createdAt:H,lastLoginAt:$});return ve&&Array.isArray(ve)&&(R.providerData=ve.map(O=>Object.assign({},O))),G&&(R._redirectEventId=G),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new uo;o.updateFromServerResponse(t);const u=new Yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ET(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function Jr(r){ai(r instanceof Function,"Expected a class definition");let e=h0.get(r);return e?(ai(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,h0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TT.type="NONE";const f0=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,e,t){return`firebase:${r}:${e}:${t}`}class co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xh(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new co(Jr(f0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Jr(f0);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const b=await xh(e,{idToken:E}).catch(()=>{});if(!b)break;w=await Yn._fromGetAccountInfoResponse(e,b,E)}else w=Yn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(CT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function bT(r=Jt()){return/firefox\//i.test(r)}function wT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(r=Jt()){return/crios\//i.test(r)}function AT(r=Jt()){return/iemobile/i.test(r)}function RT(r=Jt()){return/android/i.test(r)}function IT(r=Jt()){return/blackberry/i.test(r)}function CT(r=Jt()){return/webos/i.test(r)}function Up(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function JI(r=Jt()){var e;return Up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eC(){return pR()&&document.documentMode===10}function xT(r=Jt()){return Up(r)||RT(r)||CT(r)||IT(r)||/windows phone/i.test(r)||AT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,e=[]){let t;switch(r){case"Browser":t=d0(Jt());break;case"Worker":t=`${d0(Jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,e={}){return Co(r,"GET","/v2/passwordPolicy",kp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=6;class iC{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:rC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new tC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Zs(this));const t=e?Lt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nC(this),t=new iC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xh(r){return Lt(r)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(r){jp=r}function oC(r){return jp.loadJS(r)}function lC(){return jp.gapiScript}function uC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,e){const t=Np(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ii(u,e??{}))return o;br(o,"already-initialized")}return t.initialize({options:e})}function hC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Jr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function fC(r,e,t){const s=Xh(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=NT(e),{host:f,port:m}=dC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ii(g,s.config.emulator)&&ii(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ro(f)?(oT(`${u}//${f}${p}`),lT("Auth",!0)):mC()}function NT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function dC(r){const e=NT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:p0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:p0(f)}}}function p0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r,e){return HI(r,"POST","/v1/accounts:signInWithIdp",kp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="http://localhost";class ta extends OT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Op(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return ho(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ho(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ho(e,t)}buildRequest(){const e={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ru{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ru{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ru{constructor(){super("twitter.com")}static credential(e,t){return ta._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Fi.credential(t,s)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=g0(s);return new go({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=g0(s);return new go({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function g0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends ci{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nh(e,t,s,o)}}function MT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function gC(r,e,t=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return go._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,e,t=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(Zs(s));const o="reauthenticate";try{const u=await hu(r,MT(s,o,e,r),t);be(u.idToken,s,"internal-error");const f=Lp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),go._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&br(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e,t=!1){if(Gn(r.app))return Promise.reject(Zs(r));const s="signIn",o=await MT(r,s,e),u=await go._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function _C(r,e,t,s){return Lt(r).onIdTokenChanged(e,t,s)}function EC(r,e,t){return Lt(r).beforeAuthStateChanged(e,t)}function TC(r,e,t,s){return Lt(r).onAuthStateChanged(e,t,s)}function bC(r){return Lt(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1e3,SC=10;class PT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);eC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const AC=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kT.type="SESSION";const LT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await RC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Bp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function CC(r){yr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function xC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function NC(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebaseLocalStorageDb",OC=1,Mh="firebaseLocalStorage",zT="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zh(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function MC(){const r=indexedDB.deleteDatabase(jT);return new Iu(r).toPromise()}function Zm(){const r=indexedDB.open(jT,OC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:zT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await MC(),e(await Zm()))})})}async function y0(r,e,t){const s=Zh(r,!0).put({[zT]:e,value:t});return new Iu(s).toPromise()}async function VC(r,e){const t=Zh(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function v0(r,e){const t=Zh(r,!0).delete(e);return new Iu(t).toPromise()}const PC=800,kC=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>kC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(NC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new IC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await y0(e,Oh,"1"),await v0(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>y0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>VC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const LC=BT;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,e){return e?Jr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends OT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UC(r){return vC(r.auth,new qp(r),r.bypassAuthState)}function jC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),yC(t,new qp(r),r.bypassAuthState)}async function zC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),gC(t,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UC;case"linkViaPopup":case"linkViaRedirect":return zC;case"reauthViaPopup":case"reauthViaRedirect":return jC;default:br(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Au(2e3,1e4);async function qC(r,e,t){if(Gn(r.app))return Promise.reject(Qn(r,"operation-not-supported-in-this-environment"));const s=Xh(r);kI(r,e,zp);const o=qT(s,t);return new Ks(s,"signInViaPopup",e,o).executeNotNull()}class Ks extends HT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BC.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="pendingRedirect",gh=new Map;class FC extends HT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await GC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(r,e){const t=KC(e),s=QC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function YC(r,e){gh.set(r._key(),e)}function QC(r){return Jr(r._redirectPersistence)}function KC(r){return ph(HC,r.config.apiKey,r.name)}async function $C(r,e,t=!1){if(Gn(r.app))return Promise.reject(Zs(r));const s=Xh(r),o=qT(s,e),f=await new FC(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=10*60*1e3;class WC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!FT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XC&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function FT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r,e={}){return Co(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function n2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JC(r);for(const t of e)try{if(r2(t))return}catch{}br(r,"unauthorized-domain")}function r2(r){const e=Xm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!t2.test(t))return!1;if(e2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Au(3e4,6e4);function E0(){const r=yr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function s2(r){return new Promise((e,t)=>{var s,o,u;function f(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),t(Qn(r,"network-request-failed"))},timeout:i2.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yr().gapi)===null||u===void 0)&&u.load)f();else{const m=uC("iframefcb");return yr()[m]=()=>{gapi.load?f():t(Qn(r,"network-request-failed"))},oC(`${lC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function a2(r){return yh=yh||s2(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Au(5e3,15e3),l2="__/auth/iframe",u2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f2(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Pp(e,u2):`https://${r.config.authDomain}/${l2}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=h2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Su(s).slice(1)}`}async function d2(r){const e=await a2(r),t=yr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:f2(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(r,"network-request-failed"),m=yr().setTimeout(()=>{u(f)},o2.get());function p(){yr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p2=500,g2=600,y2="_blank",v2="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _2(r,e,t,s=p2,o=g2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},m2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jt().toLowerCase();t&&(m=ST(g)?y2:t),bT(g)&&(e=e||v2,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[D,x])=>`${b}${D}=${x},`,"");if(JI(g)&&m!=="_self")return E2(e||"",m),new T0(null);const w=window.open(e||"",m,E);be(w,r,"popup-blocked");try{w.focus()}catch{}return new T0(w)}function E2(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="__/auth/handler",b2="emulator/auth/handler",w2=encodeURIComponent("fac");async function b0(r,e,t,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Io,eventId:o};if(e instanceof zp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",bR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ru){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${w2}=${encodeURIComponent(p)}`:"";return`${S2(r)}?${Su(m).slice(1)}${g}`}function S2({config:r}){return r.emulator?Pp(r,b2):`https://${r.authDomain}/${T2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=$C,this._overrideRedirectResult=YC}async _openPopup(e,t,s,o){var u;ai((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await b0(e,t,s,Xm(),o);return _2(e,f,Bp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await b0(e,t,s,Xm(),o);return CC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ai(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await d2(e),s=new WC(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(km,{type:km},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[km];f!==void 0&&t(!!f),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=n2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xT()||wT()||Up()}}const R2=A2;var w0="@firebase/auth",S0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(r){po(new ea("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(r)},g=new sC(s,o,u,p);return hC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),po(new ea("auth-internal",e=>{const t=Xh(e.getProvider("auth").getImmediate());return(s=>new I2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(w0,S0,C2(r)),Ws(w0,S0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=5*60,N2=aT("authIdTokenMaxAge")||D2;let A0=null;const O2=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>N2)return;const o=t==null?void 0:t.token;A0!==o&&(A0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function M2(r=fT()){const e=Np(r,"auth");if(e.isInitialized())return e.getImmediate();const t=cC(r,{popupRedirectResolver:R2,persistence:[LC,AC,LT]}),s=aT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=O2(u.toString());EC(t,f,()=>f(t.currentUser)),_C(t,m=>f(m))}}const o=iT("auth");return o&&fC(t,`http://${o}`),t}function V2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}aC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",V2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,GT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function R(){}R.prototype=A.prototype,P.D=A.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(O,k,U){for(var C=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)C[Ut-2]=arguments[Ut];return A.prototype[k].apply(O,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)O[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;16>k;++k)O[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=P.g[0],R=P.g[1],k=P.g[2];var U=P.g[3],C=A+(U^R&(k^U))+O[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[2]+606105819&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+O[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[6]+2821735955&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+O[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[10]+4294925233&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+O[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[14]+2792965006&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(k^U&(R^k))+O[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[11]+643717713&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+O[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[15]+3634488961&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+O[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[3]+4107603335&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+O[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[7]+1735328473&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(R^k^U)+O[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[11]+1839030562&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+O[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[7]+4139469664&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+O[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[3]+3572445317&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+O[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[15]+530742520&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(k^(R|~U))+O[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[14]+2878612391&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+O[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[10]+4293915773&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+O[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[6]+2734768916&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+O[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[2]+718787259&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+U&4294967295}s.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var R=A-this.blockSize,O=this.B,k=this.h,U=0;U<A;){if(k==0)for(;U<=R;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<A;)if(O[k++]=P.charCodeAt(U++),k==this.blockSize){o(this,O),k=0;break}}else for(;U<A;)if(O[k++]=P[U++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=A},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var R=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=R&255,R/=256;for(this.u(P),P=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)P[R++]=this.g[A]>>>O&255;return P};function u(P,A){var R=m;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=A(P)}function f(P,A){this.h=A;for(var R=[],O=!0,k=P.length-1;0<=k;k--){var U=P[k]|0;O&&U==A||(R[k]=U,O=!1)}this.g=R}var m={};function p(P){return-128<=P&&128>P?u(P,function(A){return new f([A|0],0>A?-1:0)}):new f([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return G(g(-P));for(var A=[],R=1,O=0;P>=R;O++)A[O]=P/R|0,R*=4294967296;return new f(A,0)}function E(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return G(E(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),O=w,k=0;k<P.length;k+=8){var U=Math.min(8,P.length-k),C=parseInt(P.substring(k,k+U),A);8>U?(U=g(Math.pow(A,U)),O=O.j(U).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var w=p(0),b=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(j(this))return-G(this).m();for(var P=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);P+=(0<=O?O:4294967296+O)*A,A*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(j(this))return"-"+G(this).toString(P);for(var A=g(Math.pow(P,6)),R=this,O="";;){var k=fe(R,A).g;R=H(R,k.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=k,x(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function j(P){return P.h==-1}r.l=function(P){return P=H(this,P),j(P)?-1:x(P)?0:1};function G(P){for(var A=P.g.length,R=[],O=0;O<A;O++)R[O]=~P.g[O];return new f(R,~P.h).add(b)}r.abs=function(){return j(this)?G(this):this},r.add=function(P){for(var A=Math.max(this.g.length,P.g.length),R=[],O=0,k=0;k<=A;k++){var U=O+(this.i(k)&65535)+(P.i(k)&65535),C=(U>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);O=C>>>16,U&=65535,C&=65535,R[k]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function H(P,A){return P.add(G(A))}r.j=function(P){if(x(this)||x(P))return w;if(j(this))return j(P)?G(this).j(G(P)):G(G(this).j(P));if(j(P))return G(this.j(G(P)));if(0>this.l(D)&&0>P.l(D))return g(this.m()*P.m());for(var A=this.g.length+P.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<P.g.length;k++){var U=this.i(O)>>>16,C=this.i(O)&65535,Ut=P.i(k)>>>16,lt=P.i(k)&65535;R[2*O+2*k]+=C*lt,$(R,2*O+2*k),R[2*O+2*k+1]+=U*lt,$(R,2*O+2*k+1),R[2*O+2*k+1]+=C*Ut,$(R,2*O+2*k+1),R[2*O+2*k+2]+=U*Ut,$(R,2*O+2*k+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new f(R,0)};function $(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function re(P,A){this.g=P,this.h=A}function fe(P,A){if(x(A))throw Error("division by zero");if(x(P))return new re(w,w);if(j(P))return A=fe(G(P),A),new re(G(A.g),G(A.h));if(j(A))return A=fe(P,G(A)),new re(G(A.g),A.h);if(30<P.g.length){if(j(P)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=A;0>=O.l(P);)R=he(R),O=he(O);var k=ve(R,1),U=ve(O,1);for(O=ve(O,2),R=ve(R,2);!x(O);){var C=U.add(O);0>=C.l(P)&&(k=k.add(R),U=C),O=ve(O,1),R=ve(R,1)}return A=H(P,k.j(A)),new re(k,A)}for(k=w;0<=P.l(A);){for(R=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(R),C=U.j(A);j(C)||0<C.l(P);)R-=O,U=g(R),C=U.j(A);x(U)&&(U=b),k=k.add(U),P=H(P,C)}return new re(k,P)}r.A=function(P){return fe(this,P).h},r.and=function(P){for(var A=Math.max(this.g.length,P.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&P.i(O);return new f(R,this.h&P.h)},r.or=function(P){for(var A=Math.max(this.g.length,P.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|P.i(O);return new f(R,this.h|P.h)},r.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^P.i(O);return new f(R,this.h^P.h)};function he(P){for(var A=P.g.length+1,R=[],O=0;O<A;O++)R[O]=P.i(O)<<1|P.i(O-1)>>>31;return new f(R,P.h)}function ve(P,A){var R=A>>5;A%=32;for(var O=P.g.length-R,k=[],U=0;U<O;U++)k[U]=0<A?P.i(U+R)>>>A|P.i(U+R+1)<<32-A:P.i(U+R);return new f(k,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,GT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,$i=f}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,Wl,QT,vh,Jm,KT,$T,XT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,b.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,K){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[B].apply(S,se)}}function j(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function G(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,K=S.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=S[se]}else c.push(S)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var he=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ve(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function P(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ut{constructor(){this.h=this.g=null}add(y,v){const S=lt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var lt=new H(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Be=new Ut,N=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){U(v)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function xe(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{fe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}x(xe,ie);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Jn(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++et,this.da=this.fa=!1}function hi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,v,S,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=cs(c,y,S,B);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new Jn(y,this.src,K,!!S,B),y.fa=v,c.push(y)),y};function us(c,y){var v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(hi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function cs(c,y,v,S){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return B}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),Po={};function Vu(c,y,v,S,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Vu(c,y[K],v,S,B);return null}return v=Pu(v),c&&c[Dt]?c.K(y,v,g(S)?!!S.capture:!1,B):wn(c,y,v,!1,S,B)}function wn(c,y,v,S,B,K){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Pe=da(c);if(Pe||(c[hs]=Pe=new Sr(c)),v=Pe.add(y,v,S,se,K),v.proxy)return v;if(S=bf(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ge||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(fs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bf(){function c(v){return y.call(c.src,c.listener,v)}const y=wf;return c}function ko(c,y,v,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)ko(c,y[K],v,S,B);else S=g(S)?!!S.capture:!!S,v=Pu(v),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=cs(K,v,S,B),-1<v&&(hi(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=da(c))&&(y=c.g[y.toString()],c=-1,y&&(c=cs(y,v,S,B)),(v=-1<c?y[c]:null)&&fa(v))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])us(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(fs(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=da(y))?(us(v,c),v.h==0&&(v.src=null,y[hs]=null)):hi(c)}}}function fs(c){return c in Po?Po[c]:Po[c]="on"+c}function wf(c,y){if(c.da)c=!0;else{y=new xe(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&fa(c),c=v.call(S,y)}return c}function da(c){return c=c[hs],c instanceof Sr?c:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(y){return c.handleEvent(y)}),c[Lo])}function ut(){oe.call(this),this.i=new Sr(this),this.M=this,this.F=null}x(ut,oe),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(c,y,v,S){ko(this,c,y,v,S)};function Ge(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var B=y;y=new ie(S,c),O(y,B)}if(B=!0,v)for(var K=v.length-1;0<=K;K--){var se=y.g=v[K];B=dn(se,S,!0,y)&&B}if(se=y.g=c,B=dn(se,S,!0,y)&&B,B=dn(se,S,!1,y)&&B,v)for(K=0;K<v.length;K++)se=y.g=v[K],B=dn(se,S,!1,y)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)hi(v[S]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ut.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function dn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==v){var Pe=se.listener,At=se.ha||se.src;se.fa&&us(c.i,se),B=Pe.call(At,S)!==!1&&B}}return B&&!S.defaultPrevented}function Qt(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ku(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,ku(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sf extends oe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){oe.call(this),this.h=c,this.g={}}x(ds,oe);var ms=[];function ps(c){ve(c.g,function(y,v){this.g.hasOwnProperty(v)&&fa(y)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),ps(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,ma=m.JSON.parse,gs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Uo(){}Uo.prototype.h=null;function jo(c){return c.h||(c.h=c.i())}function zo(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){ie.call(this,"d")}x(Rr,ie);function Bo(){ie.call(this,"c")}x(Bo,ie);var er={},qo=null;function fi(){return qo=qo||new ut}er.La="serverreachability";function pa(c){ie.call(this,er.La,c)}x(pa,ie);function di(c){const y=fi();Ge(y,new pa(y))}er.STAT_EVENT="statevent";function Lu(c,y){ie.call(this,er.STAT_EVENT,c),this.stat=y}x(Lu,ie);function rt(c){const y=fi();Ge(y,new Lu(y,c))}er.Ma="timingevent";function St(c,y){ie.call(this,er.Ma,c),this.size=y}x(St,ie);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Ho(c,y,v,S,B,K){c.info(function(){if(c.g)if(K)for(var se="",Pe=K.split("&"),At=0;At<Pe.length;At++){var ke=Pe[At].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var Rt=Ot.split("_");se=2<=Rt.length&&Rt[1]=="type"?se+(Ot+"="+ke+"&"):se+(Ot+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function Af(c,y,v,S,B,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+K+" "+se})}function mi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ys(c,v)+(S?" "+S:"")})}function Uu(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function ys(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return jn(v)}catch{return y}}var pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function nr(){}x(nr,Uo),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},tr=new nr;function en(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Fo={},ga={};function zn(c,y,v){c.L=1,c.v=bs(mn(y)),c.m=v,c.P=!0,Cr(c,null)}function Cr(c,y){c.F=Date.now(),vs(c),c.A=mn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Xo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new dt,c.g=ec(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Sf(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ms[0]=B.toString()),B=ms);for(var K=0;K<B.length;K++){var se=Vu(v,B[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),di(),Ho(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Cn(this.g);var y=this.g.Ba();const kr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=kr?di(3):di(2)),gi(this);var v=this.g.Z();this.X=v;t:if(ju(this)){var S=Yu(this.g);c="";var B=S.length,K=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),rr(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,Af(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,At=this.g;if((Pe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pe)){var ke=Pe;break t}}ke=null}if(v=ke)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_s(this,v);else{this.o=!1,this.s=3,rt(12),jt(this),rr(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<se.length;)if(zt=zu(this,se),zt==ga){Rt==4&&(this.s=4,rt(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Fo){this.s=4,rt(15),mi(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,zt,null),_s(this,zt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||se.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,se,"[Invalid Chunked Response]"),jt(this),rr(this);else if(0<se.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ds(Ot),Ot.M=!0,rt(11))}}else mi(this.i,this.l,se,null),_s(this,se);Rt==4&&jt(this),this.o&&!this.J&&(Rt==4?Wu(this.j,this):(this.o=!1,vs(this)))}else Df(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),jt(this),rr(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ga:(v=Number(y.substring(v,S)),isNaN(v)?Fo:(S+=1,S+v>y.length?ga:(y=y.slice(S,S+v),c.C=S+v,y)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function vs(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(b(c.ba,c),y)}function gi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Uu(this.i,this.A),this.L!=2&&(di(),rt(17)),jt(this),this.s=2,rr(this)):Bu(this,this.S-c)};function rr(c){c.j.G==0||c.J||Wu(c.j,c)}function jt(c){gi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ps(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _s(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Go(v.h,c))){if(!c.K&&Go(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ca(v),Ra(v);else break e;tl(v),rt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(b(v.Za,v),6e3));if(1>=va(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Pr(v,11)}else if((c.K||v.g==c)&&Ca(v),!$(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let ke=B[y];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const Ot=ke[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const Rt=ke[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const kr=ke[5];kr!=null&&typeof kr=="number"&&0<kr&&(S=1.5*kr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const zt=c.g;if(zt){const cr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var K=S.h;K.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(_a(K,K.h),K.h=null))}if(S.D){const rl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(S.ya=rl,$e(S.I,S.D,rl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var se=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),se.K){tn(S.h,se);var Pe=se,At=S.L;At&&(Pe.I=At),Pe.B&&(gi(Pe),vs(Pe)),S.g=se}else $u(S);0<v.i.length&&Ia(v)}else ke[0]!="stop"&&ke[0]!="close"||Pr(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Pr(v,7):Jo(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}di(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function xr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function va(c){return c.h?1:c.g?c.g.size:0}function Go(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function _a(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xr.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return j(c.i)}function Rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ea(c),S=Rf(c),B=S.length,K=0;K<B;K++)y.call(void 0,S[K],v&&v[K],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var K=c[v].substring(0,S);B=c[v].substring(S+1)}else K=c[v];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.s),this.l=c.l;var y=c.i,v=new Nr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Dr(this,v),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,Ts(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),yi(this,y[4]),this.l=An(y[5]||"",!0),Dr(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ws(y,Ko,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ws(y,Ko,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?Cf:$o,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,Ta)),c.join("")};function mn(c){return new vt(c)}function Ts(c,y,v){c.j=v?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Dr(c,y,v){y instanceof Nr?(c.i=y,Fu(c.i,c.h)):(v||(y=ws(y,xf)),c.i=new Nr(y,c.h))}function $e(c,y,v){c.i.set(y,v)}function bs(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,$o=/[#\?:]/g,Cf=/[#\?]/g,xf=/[#\?@]/g,Ta=/#/g;function Nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&If(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Nr.prototype,r.add=function(c,y){Rn(this),this.i=null,c=ir(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Or(c,y){Rn(c),y=ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mr(c,y){return Rn(c),y=ir(c,y),c.g.has(y)}r.forEach=function(c,y){Rn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const B=c[S];for(let K=0;K<B.length;K++)v.push(y[S])}return v},r.V=function(c){Rn(this);let y=[];if(typeof c=="string")Mr(this,c)&&(y=y.concat(this.g.get(ir(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Rn(this),this.i=null,c=ir(this,c),Mr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Xo(c,y,v){Or(c,y),0<v.length&&(c.i=null,c.g.set(ir(c,y),j(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const K=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var B=K;se[S]!==""&&(B+="="+encodeURIComponent(String(se[S]))),c.push(B)}}return this.i=c.join("&")};function ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Or(this,S),Xo(this,B,v))},c)),c.j=y}function Ss(c,y){const v=new Sn;if(m.Image){const S=new Image;S.onload=D(In,v,"TestLoadImage: loaded",!0,y,S),S.onerror=D(In,v,"TestLoadImage: error",!1,y,S),S.onabort=D(In,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(In,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Bn(c,y){const v=new Sn,S=new AbortController,B=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function As(){this.g=new gs}function sr(c,y,v){const S=v||"";try{Qo(c,function(B,K){let se=B;g(B)&&(se=jn(B)),y.push(S+K+"="+encodeURIComponent(se))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function vi(c){this.l=c.Ub||null,this.j=c.eb||!1}x(vi,Uo),vi.prototype.g=function(){return new Vr(this.l,this.j)},vi.prototype.i=function(c){return function(){return c}}({});function Vr(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Vr,ut),r=Vr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,or(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ar(this):or(this),this.readyState==3&&Wo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ar(this))},r.Qa=function(c){this.g&&(this.response=c,ar(this))},r.ga=function(){this.g&&ar(this)};function ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,or(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zo(c){let y="";return ve(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Nt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Zo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):$e(c,y,v))}function He(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(He,ut);var ba=/^https?$/i,Rs=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?jo(this.o):jo(tr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Gu(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Gu(this,K)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,wa(c),lr(c)}function wa(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),lr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},r.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Qt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=se===0){var B=String(c.D).match(Es)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!ba.test(B?B.toLowerCase():"")}v=S}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<Cn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",wa(c)}}finally{lr(c)}}}}function lr(c,y){if(c.g){Is(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=S}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ma(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if($(c[S]))continue;var v=k(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[B]||[];y[B]=K,K.push(v)}P(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Aa.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){rt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),Ia(this)};function Jo(c){if(Qu(c),c.G==3){var y=c.U++,v=mn(c.I);if($e(v,"SID",c.K),$e(v,"RID",y),$e(v,"TYPE","terminate"),xs(c,v),y=new en(c,c.j,y),y.L=2,y.v=bs(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vs(y)}Zu(c)}function Ra(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Qu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!ya(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||N(),me||(ae(),me=!0),Be.add(y,c),c.B=0}}function Nf(c,y){return va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(b(c.Ga,c,y),nl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=A(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ku(this,B,y),v=mn(this.I),$e(v,"RID",c),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),xs(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(Zo(K)))+"&"+y:this.m&&Nt(v,this.m,K)),_a(this.h,B),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",y),$e(v,"SID","null"),B.T=!0,zn(B,v,null)):zn(B,v,y),this.G=2}}else this.G==3&&(c?el(this,c):this.i.length==0||ya(this.h)||el(this))};function el(c,y){var v;y?v=y.l:v=c.U++;const S=mn(c.I);$e(S,"SID",c.K),$e(S,"RID",v),$e(S,"AID",c.T),xs(c,S),c.m&&c.o&&Nt(S,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ku(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_a(c.h,v),zn(v,S,y)}function xs(c,y){c.H&&ve(c.H,function(v,S){$e(y,S,v)}),c.l&&Qo({},function(v,S){$e(y,S,v)})}function Ku(c,y,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+v];K==-1?0<v?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Pe=!0;for(let At=0;At<v;At++){let ke=B[At].g;const Ot=B[At].map;if(ke-=K,0>ke)K=Math.max(0,B[At].g-100),Pe=!1;else try{sr(Ot,se,"req"+ke+"_")}catch{S&&S(Ot)}}if(Pe){S=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||N(),me||(ae(),me=!0),Be.add(y,c),c.v=0}}function tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(b(c.Fa,c),nl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ra(this),Xu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),xs(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=bs(mn(y)),v.m=null,v.P=!0,Cr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ra(this),tl(this),rt(19))};function Ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){Ca(c),Ds(c),c.g=null;var S=2}else if(Go(c.h,y))v=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=fi(),Ge(S,new St(S,v)),Ia(c)}else $u(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Nf(c,y)||S==2&&tl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function nl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Pr(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),S=c.Xa;const B=!S;S=new vt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ts(S,"https"),bs(S),B?Ss(S.toString(),v):Bn(S.toString(),v)}else rt(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ka,y),G(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,v){var S=v instanceof vt?mn(v):new vt(v);if(S.g!="")y&&(S.g=y+"."+S.g),yi(S,S.s);else{var B=m.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new vt(null);S&&Ts(K,S),y&&(K.g=y),B&&yi(K,B),v&&(K.l=v),S=K}return v=c.D,y=c.ya,v&&y&&$e(S,v,y),$e(S,"VER",c.la),xs(c,S),S}function ec(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new vi({eb:v})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ut.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ur(this)}x(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Jo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);y.i.push(new qu(y.Ya++,c)),y.G==3&&Ia(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,nn.aa.N.call(this)};function nc(c){Rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(nc,Rr);function rc(){Bo.call(this),this.status=1}x(rc,Bo);function ur(c){this.g=c}x(ur,tc),ur.prototype.ua=function(){Ge(this.g,"a")},ur.prototype.ta=function(c){Ge(this.g,new nc(c))},ur.prototype.sa=function(c){Ge(this.g,new rc)},ur.prototype.ra=function(){Ge(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,XT=function(){return new xa},$T=function(){return fi()},KT=er,Jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,vh=pi,Ir.COMPLETE="complete",QT=Ir,zo.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Wl=zo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,YT=He}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",C0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new xp("@firebase/firestore");function so(){return na.logLevel}function ue(r,...e){if(na.logLevel<=Me.DEBUG){const t=e.map(Hp);na.debug(`Firestore (${xo}): ${r}`,...t)}}function oi(r,...e){if(na.logLevel<=Me.ERROR){const t=e.map(Hp);na.error(`Firestore (${xo}): ${r}`,...t)}}function Zi(r,...e){if(na.logLevel<=Me.WARN){const t=e.map(Hp);na.warn(`Firestore (${xo}): ${r}`,...t)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,WT(r,s,t)}function WT(r,e,t){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw oi(s),new Error(s)}function Fe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||WT(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class k2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class L2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new ZT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class U2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new U2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new x0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=B2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function ep(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=JT(),f=q2(u.encode(D0(r,t)),u.encode(D0(e,t)));return f!==0?f:Ce(s,o)}}t+=s>65535?2:1}return Ce(r.length,e.length)}function D0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function q2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ce(r[t],e[t]);return Ce(r.length,e.length)}function yo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__name__";class gr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const s=gr.isNumericId(e),o=gr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):ep(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class nt extends gr{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const H2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends gr{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return H2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new Gt([N0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r,e,t){if(!t)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function F2(r,e,t,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function O0(r){if(!pe.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M0(r){if(pe.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Kn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Cu(r,e){if(!tb(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new le(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-62135596800,P0=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*P0);return new je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<V0)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:wt("string",je._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new je(0,0))}static max(){return new Se(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function G2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new je(t+1,0):new je(t,s));return new Ji(o,pe.empty(),e)}function Y2(r){return new Ji(r.readTime,r.key,fu)}class Ji{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ji(Se.min(),pe.empty(),fu)}static max(){return new Ji(Se.max(),pe.empty(),fu)}}function Q2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==K2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function X2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ef.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function tf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function W2(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="";function Z2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=k0(e)),e=J2(r.get(t),e);return k0(e)}function J2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case nb:t+="";break;default:t+=u}}return t}function k0(r){return r+nb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function as(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function rb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new xt(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ib("Invalid base64 string: "+u):u}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const t=ex.exec(r);if(Fe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="server_timestamp",ab="__type__",ob="__previous_value__",lb="__local_write_time__";function Yp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ab])===null||t===void 0?void 0:t.stringValue)===sb}function nf(r){const e=r.mapValue.fields[ob];return Yp(e)?nf(e):e}function du(r){const e=es(r.mapValue.fields[lb].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ph="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__type__",nx="__max__",lh={mapValue:{}},cb="__vector__",kh="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:ix(r)?9007199254740991:rx(r)?10:11:Ee(28295,{value:r})}function wr(r,e){if(r===e)return!0;const t=ns(r);if(t!==ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L0(f)!==L0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!wr(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function pu(r,e){return(r.values||[]).find(t=>wr(t,e))!==void 0}function vo(r,e){if(r===e)return 0;const t=ns(r),s=ns(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return j0(r.timestampValue,e.timestampValue);case 4:return j0(du(r),du(e));case 5:return ep(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ts(u),p=ts(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(gt(u.latitude),gt(f.latitude));return m!==0?m:Ce(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return z0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},b=f.fields||{},D=(m=w[kh])===null||m===void 0?void 0:m.arrayValue,x=(p=b[kh])===null||p===void 0?void 0:p.arrayValue,j=Ce(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:z0(D,x)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===lh.mapValue&&f===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(f===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const b=ep(p[w],E[w]);if(b!==0)return b;const D=vo(m[p[w]],g[E[w]]);if(D!==0)return D}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function j0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=es(r),s=es(e),o=Ce(t.seconds,s.seconds);return o!==0?o:Ce(t.nanos,s.nanos)}function z0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=vo(t[o],s[o]);if(u)return u}return Ce(t.length,s.length)}function _o(r){return tp(r)}function tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=es(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ts(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tp(t.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return as(s.fields,(u,f)=>{o+=u.length+_h(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function B0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function np(r){return!!r&&"integerValue"in r}function Qp(r){return!!r&&"arrayValue"in r}function q0(r){return!!r&&"nullValue"in r}function H0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function rx(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ub])===null||t===void 0?void 0:t.stringValue)===cb}function ru(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return as(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ru(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ix(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=ru(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){as(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(ru(this.value))}}function hb(r){const e=[];return as(r.fields,(t,s)=>{const o=new Gt([t]);if(Eh(s)){const u=hb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function F0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),t.key):s=vo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function G0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!wr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function sx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{}class bt extends fb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ox(e,t,s):t==="array-contains"?new cx(e,s):t==="in"?new hx(e,s):t==="not-in"?new fx(e,s):t==="array-contains-any"?new dx(e,s):new bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new lx(e,s):new ux(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vo(t,this.value)):t!==null&&ns(this.value)===ns(t)&&this.matchesComparison(vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends fb{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Xn(e,t)}matches(e){return db(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function db(r){return r.op==="and"}function mb(r){return ax(r)&&db(r)}function ax(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function rp(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(mb(r))return r.filters.map(e=>rp(e)).join(",");{const e=r.filters.map(t=>rp(t)).join(",");return`${r.op}(${e})`}}function pb(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&wr(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&pb(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function gb(r){return r instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(r):r instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(gb).join(" ,")+"}"}(r):"Filter"}class ox extends bt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class lx extends bt{constructor(e,t){super(e,"in",t),this.keys=yb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ux extends bt{constructor(e,t){super(e,"not-in",t),this.keys=yb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class cx extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&pu(t.arrayValue,this.value)}}class hx extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pu(this.value.arrayValue,t)}}class fx extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pu(this.value.arrayValue,t)}}class dx extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function Y0(r,e=null,t=[],s=[],o=null,u=null,f=null){return new mx(r,e,t,s,o,u,f)}function Kp(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>rp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.Pe=t}return e.Pe}function $p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!sx(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!pb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!G0(r.startAt,e.startAt)&&G0(r.endAt,e.endAt)}function ip(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function px(r,e,t,s,o,u,f,m){return new Oo(r,e,t,s,o,u,f,m)}function rf(r){return new Oo(r)}function Q0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vb(r){return r.collectionGroup!==null}function iu(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new gu(u,s))}),t.has(Gt.keyField().canonicalString())||e.Te.push(new gu(Gt.keyField(),s))}return e.Te}function vr(r){const e=Ae(r);return e.Ie||(e.Ie=gx(e,iu(r))),e.Ie}function gx(r,e){if(r.limitType==="F")return Y0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)});const t=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return Y0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function sp(r,e){const t=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ap(r,e,t){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function sf(r,e){return $p(vr(r),vr(e))&&r.limitType===e.limitType}function _b(r){return`${Kp(vr(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>gb(o)).join(", ")}]`),tf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(vr(r))}; limitType=${r.limitType})`}function af(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=F0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,iu(s),o)||s.endAt&&!function(f,m,p){const g=F0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,iu(s),o))}(r,e)}function yx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Eb(r){return(e,t)=>{let s=!1;for(const o of iu(r)){const u=vx(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function vx(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new ot(pe.comparator);function li(){return _x}const Tb=new ot(pe.comparator);function Zl(...r){let e=Tb;for(const t of r)e=e.insert(t.key,t);return e}function bb(r){let e=Tb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function $s(){return su()}function wb(){return su()}function su(){return new aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const Ex=new ot(pe.comparator),Tx=new xt(pe.comparator);function Ve(...r){let e=Tx;for(const t of r)e=e.add(t);return e}const bx=new xt(Ce);function wx(){return bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Sb(r){return{integerValue:""+r}}function Sx(r,e){return W2(e)?Sb(e):Xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function Ax(r,e,t){return r instanceof yu?function(o,u){const f={fields:{[ab]:{stringValue:sb},[lb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=nf(u)),u&&(f.fields[ob]=u),{mapValue:f}}(t,e):r instanceof Eo?Rb(r,e):r instanceof To?Ib(r,e):function(o,u){const f=Ab(o,u),m=K0(f)+K0(o.Ee);return np(f)&&np(o.Ee)?Sb(m):Xp(o.serializer,m)}(r,e)}function Rx(r,e,t){return r instanceof Eo?Rb(r,e):r instanceof To?Ib(r,e):t}function Ab(r,e){return r instanceof Uh?function(s){return np(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class yu extends of{}class Eo extends of{constructor(e){super(),this.elements=e}}function Rb(r,e){const t=Cb(e);for(const s of r.elements)t.some(o=>wr(o,s))||t.push(s);return{arrayValue:{values:t}}}class To extends of{constructor(e){super(),this.elements=e}}function Ib(r,e){let t=Cb(e);for(const s of r.elements)t=t.filter(o=>!wr(o,s));return{arrayValue:{values:t}}}class Uh extends of{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function K0(r){return gt(r.integerValue||r.doubleValue)}function Cb(r){return Qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.field=e,this.transform=t}}function Ix(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?yo(s.elements,o.elements,wr):s instanceof Uh&&o instanceof Uh?wr(s.Ee,o.Ee):s instanceof yu&&o instanceof yu}(r.transform,e.transform)}class Cx{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lf{}function xb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Nb(r.key,$n.none()):new xu(r.key,r.data,$n.none());{const t=r.data,s=hn.empty();let o=new xt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new os(r.key,s,new bn(o.toArray()),$n.none())}}function xx(r,e,t){r instanceof xu?function(o,u,f){const m=o.value.clone(),p=X0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):r instanceof os?function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=X0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Db(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function au(r,e,t,s){return r instanceof xu?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=u.value.clone(),E=W0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof os?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=W0(u.fieldTransforms,p,f),E=f.data;return E.setAll(Db(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,t)}function Dx(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ab(s.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(s.field,u))}return t||null}function $0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,(u,f)=>Ix(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends lf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends lf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Db(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function X0(r,e,t){const s=new Map;Fe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Rx(f,m,t[o]))}return s}function W0(r,e,t){const s=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);s.set(o.field,Ax(u,f,e))}return s}class Nb extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=wb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=xb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(t,s)=>$0(t,s))&&yo(this.baseMutations,e.baseMutations,(t,s)=>$0(t,s))}}class Zp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return Ex}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Zp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function Px(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Ob(r){if(r===void 0)return oi("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new $i([4294967295,4294967295],0);function Z0(r){const e=JT().encode(r),t=new GT;return t.update(e),new Uint8Array(t.digest())}function J0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $i([t,s],0),new $i([o,u],0)]}class Jp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Jl(`Invalid padding: ${t}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=$i.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply($i.fromNumber(s)));return o.compare(kx)===1&&(o=new $i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Z0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Jp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const t=Z0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new uf(Se.min(),o,new ot(Ce),li(),Ve())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Mb{constructor(e,t){this.targetId=e,this.De=t}}class Vb{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class eE{constructor(){this.ve=0,this.Ce=tE(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),s=Ve();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Du(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=tE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Lx{constructor(e){this.We=e,this.Ge=new Map,this.ze=li(),this.je=uh(),this.Je=uh(),this.He=new ot(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(ip(u))if(s===0){const f=new pe(u.path);this.Xe(t,f,Zt.newNoDocument(f,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this.ot(t);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=ts(s).toUint8Array()}catch(p){if(p instanceof ib)return Zi("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(f,o,u)}catch(p){return Zi(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&ip(m.target)){const p=new pe(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Zt.newNoDocument(p,e))}u.Ne&&(t.set(f,u.Le()),u.ke())}});let s=Ve();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new uf(e,t,this.He,this.ze,s);return this.ze=li(),this.je=uh(),this.Je=uh(),this.He=new ot(Ce),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new eE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new xt(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new xt(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new eE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function uh(){return new ot(pe.comparator)}function tE(){return new ot(pe.comparator)}const Ux={asc:"ASCENDING",desc:"DESCENDING"},jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class Bx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(r,e){return r.useProto3Json||tf(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qx(r,e){return jh(r,e.toTimestamp())}function _r(r){return Fe(!!r,49232),Se.fromTimestamp(function(t){const s=es(t);return new je(s.seconds,s.nanos)}(r))}function eg(r,e){return lp(r,e).canonicalString()}function lp(r,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function kb(r){const e=nt.fromString(r);return Fe(Bb(e),10190,{key:e.toString()}),e}function up(r,e){return eg(r.databaseId,e.path)}function Lm(r,e){const t=kb(e);if(t.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(Ub(t))}function Lb(r,e){return eg(r.databaseId,e)}function Hx(r){const e=kb(r);return e.length===4?nt.emptyPath():Ub(e)}function cp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ub(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nE(r,e,t){return{name:up(r,e),fields:t.value.mapValue.fields}}function Fx(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?J.UNKNOWN:Ob(g.code);return new le(E,g.message||"")}(f);t=new Vb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lm(r,s.document.name),u=_r(s.document.updateTime),f=s.document.createTime?_r(s.document.createTime):Se.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new bh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lm(r,s.document),u=s.readTime?_r(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new bh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lm(r,s.document),u=s.removedTargetIds||[];t=new bh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Vx(o,u),m=s.targetId;t=new Mb(m,f)}}return t}function Gx(r,e){let t;if(e instanceof xu)t={update:nE(r,e.key,e.value)};else if(e instanceof Nb)t={delete:up(r,e.key)};else if(e instanceof os)t={update:nE(r,e.key,e.data),updateMask:eD(e.fieldMask)};else{if(!(e instanceof Nx))return Ee(16599,{Rt:e.type});t={verify:up(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof yu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof To)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:qx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),t}function Yx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(t=>function(o,u){let f=o.updateTime?_r(o.updateTime):_r(u);return f.isEqual(Se.min())&&(f=_r(u)),new Cx(f,o.transformResults||[])}(t,e))):[]}function Qx(r,e){return{documents:[Lb(r,e.path)]}}function Kx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Lb(r,o);const u=function(g){if(g.length!==0)return zb(Xn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:oo(b.field),direction:Wx(b.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=op(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function $x(r){let e=Hx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(w){const b=jb(w);return b instanceof Xn&&mb(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(w){return w.map(b=>function(x){return new gu(lo(x.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,tf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(w){const b=!!w.before,D=w.values||[];return new Lh(D,b)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const b=!w.before,D=w.values||[];return new Lh(D,b)}(t.endAt)),px(e,o,f,u,m,"F",p,g)}function Xx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jb(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(t.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(t.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return bt.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(s=>jb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function Wx(r){return Ux[r]}function Zx(r){return jx[r]}function Jx(r){return zx[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Gt.fromServerFormat(r.fieldPath)}function zb(r){return r instanceof bt?function(t){if(t.op==="=="){if(H0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(q0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(H0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(q0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:Zx(t.op),value:t.value}}}(r):r instanceof Xn?function(t){const s=t.getFilters().map(o=>zb(o));return s.length===1?s[0]:{compositeFilter:{op:Jx(t.op),filters:s}}}(r):Ee(54877,{filter:r})}function eD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,s,o,u=Se.min(),f=Se.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.gt=e}}function nD(r){const e=$x({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.Dn=new iD}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ji.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class iD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new xt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qb=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(qb,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new bo(0)}static ur(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",sD=1048576;function sE([r,e],[t,s]){const o=Ce(r,t);return o===0?Ce(e,s):o}class aD{constructor(e){this.Tr=e,this.buffer=new xt(sE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();sE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(iE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){No(t)?ue(iE,"Ignoring IndexedDB error during garbage collection: ",t):await Do(t)}await this.Rr(3e5)})}}class lD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(ef.ue);const s=new aD(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(rE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),so()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function uD(r,e){return new lD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.changes=new aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&au(s.mutation,o,bn.empty(),je.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=$s();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=$s();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=li();const f=su(),m=function(){return su()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof os)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),au(E.mutation,g,E.mutation.getFieldMask(),je.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),t.forEach((g,E)=>{var w;return m.set(g,new hD(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const s=su();let o=new ot((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=wb();E.forEach(b=>{if(!u.has(b)){const D=xb(t.get(b),s.get(b));D!==null&&w.set(b,D),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve($s());let m=fu,p=u;return f.next(g=>te.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:bb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,b){return new Oo(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&au(E.mutation,g,bn.empty(),je.now()),af(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:nD(o.bundledQuery),readTime:_r(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.overlays=new ot(pe.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=$s();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=$s(),u=t.length+1,f=new pe(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Mx(t,s));let u=this.kr.get(t);u===void 0&&(u=Ve(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.qr=new xt(kt.Qr),this.$r=new xt(kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new kt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new kt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new pe(new nt([])),s=new kt(t,e),o=new kt(t,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new pe(new nt([])),s=new kt(t,e),o=new kt(t,e+1);let u=Ve();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new kt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return pe.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new xt(kt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Ox(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Gp:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xt(Ce);return t.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new kt(new pe(u),0);let m=new xt(Ce);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},f),te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(t.mutations,o=>{const u=new kt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new kt(t,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.ni=e,this.docs=function(){return new ot(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=li();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=li();const f=t.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Q2(Y2(E),s)<=0||(o.has(E.key)||af(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new vD(this)}getSize(e){return te.resolve(this.size)}}class vD extends cD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.persistence=e,this.ii=new aa(t=>Kp(t),$p),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new tg,this.targetCount=0,this._i=bo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new bo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t){this.ai={},this.overlays={},this.ui=new ef(0),this.ci=!1,this.ci=!0,this.li=new pD,this.referenceDelegate=e(this),this.hi=new _D(this),this.indexManager=new rD,this.remoteDocumentCache=function(o){return new yD(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new tD(t),this.Ti=new dD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new gD(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new ED(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class ED extends $2{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ai=new tg,this.Ri=null}static Vi(e){return new ng(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=pe.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class zh{constructor(e,t){this.persistence=e,this.gi=new aa(s=>Z2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=uD(this,t)}static Vi(e,t){return new zh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}Sr(e,t,s){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return gR()?8:X2(Jt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new TD;return this.ws(e,t,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,f,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(so()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(so()<=Me.DEBUG&&ue("QueryEngine","Query:",ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(so()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):te.resolve())}ps(e,t){if(Q0(t))return te.resolve(null);let s=vr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ap(t,null,"F"),s=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,f,p.readTime)?this.ps(e,ap(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return Q0(t)||o.isEqual(Se.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(t,u);return this.Ds(t,f,s,o)?te.resolve(null):(so()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.vs(e,f,t,G2(o,fu)).next(m=>m))})}bs(e,t){let s=new xt(Eb(e));return t.forEach((o,u)=>{af(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return so()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ao(t)),this.gs.getDocumentsMatchingQuery(e,t,Ji.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",wD=3e8;class SD{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ot(Ce),this.Ms=new aa(u=>Kp(u),$p),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function AD(r,e,t,s){return new SD(r,e,t,s)}async function Fb(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:m}))})})}function RD(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,b=w.keys();let D=te.resolve();return b.forEach(x=>{D=D.next(()=>E.getEntry(p,x)).next(j=>{const G=g.docVersions.get(x);Fe(G!==null,48541),j.version.compareTo(G)<0&&(w.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),E.addEntry(j)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Gb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function ID(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((E,w)=>{const b=o.get(w);if(!b)return;m.push(t.hi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>t.hi.addMatchingKeys(u,E.addedDocuments,w)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(w,D),function(j,G,H){return j.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=wD?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,D,E)&&m.push(t.hi.updateTargetData(u,D))});let p=li(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(CD(u,f,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(Se.min())){const E=t.hi.getLastRemoteSnapshotVersion(u).next(w=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function CD(r,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=li();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function xD(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Gp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DD(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.hi.allocateTargetId(s).next(f=>(o=new Yi(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function hp(r,e,t){const s=Ae(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;ue(ig,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function aE(r,e,t){const s=Ae(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ae(p),b=w.Ms.get(E);return b!==void 0?te.resolve(w.Fs.get(b)):w.hi.getTargetData(g,E)}(s,f,vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,t?o:Se.min(),t?u:Ve())).next(m=>(ND(s,yx(e),m),{documents:m,qs:u})))}function ND(r,e,t){let s=r.xs.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class oE{constructor(){this.activeTargetIds=wx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.Fo=new oE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new oE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class uE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(lE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(lE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function fp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",VD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const f=fp(),m=this.Go(e,t.toUriEncodedString());ue(Um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Ro(g);return this.jo(e,m,p,s,E).then(w=>(ue(Um,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Zi(Um,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Jo(e,t,s,o,u,f){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=VD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class LD extends PD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const f=fp();return new Promise((m,p)=>{const g=new YT;g.setWithCredentials(!0),g.listenOnce(QT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const w=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case vh.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const b=g.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const x=D==null?void 0:D.error;if(x&&x.status&&x.message){const j=function(H){const $=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(x.status);p(new le(j,x.message))}else p(new le(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(t,"POST",E,s,15)})}P_(e,t,s){const o=fp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=XT(),m=$T(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let b=!1,D=!1;const x=new kD({Ho:G=>{D?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,G),w.send(G))},Yo:()=>w.close()}),j=(G,H,$)=>{G.listen(H,re=>{try{$(re)}catch(fe){setTimeout(()=>{throw fe},0)}})};return j(w,Wl.EventType.OPEN,()=>{D||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),x.s_())}),j(w,Wl.EventType.CLOSE,()=>{D||(D=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),x.__(),this.I_(w))}),j(w,Wl.EventType.ERROR,G=>{D||(D=!0,Zi(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),x.__(new le(J.UNAVAILABLE,"The operation could not be completed")))}),j(w,Wl.EventType.MESSAGE,G=>{var H;if(!D){const $=G.data[0];Fe(!!$,16349);const re=$,fe=(re==null?void 0:re.error)||((H=re[0])===null||H===void 0?void 0:H.error);if(fe){ue(Xt,`RPC '${e}' stream ${o} received error:`,fe);const he=fe.status;let ve=function(R){const O=Tt[R];if(O!==void 0)return Ob(O)}(he),P=fe.message;ve===void 0&&(ve=J.INTERNAL,P="Unknown error status: "+he+" with message "+fe.message),D=!0,x.__(new le(ve,P)),w.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,$),x.a_($)}}),j(m,KT.STAT_EVENT,G=>{G.stat===Jm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Jm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r){return new Bx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class Qb{constructor(e,t,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Yb(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(cE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ue(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UD extends Qb{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Fx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?_r(f.readTime):Se.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=cp(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=ip(p)?{documents:Qx(u,p)}:{query:Kx(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Pb(u,f.resumeToken);const g=op(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=op(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Xx(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=cp(this.serializer),t.removeTarget=e,this.k_(t)}}class jD extends Qb{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Yx(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=cp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Gx(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{}class BD extends zD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,lp(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,lp(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class qD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(oi(t),this._a=!1):ue("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class HD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{oa(this)&&(ue(ra,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Nu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await hf(g)}(this))})}),this.Aa=new qD(s,o)}}async function hf(r){if(oa(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function Kb(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),lg(t)?og(t):Mo(t).x_()&&ag(t,e))}function sg(r,e){const t=Ae(r),s=Mo(t);t.Ta.delete(e),s.x_()&&$b(t,e),t.Ta.size===0&&(s.x_()?s.B_():oa(t)&&t.Aa.set("Unknown"))}function ag(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mo(r).H_(e)}function $b(r,e){r.Ra.$e(e),Mo(r).Y_(e)}function og(r){r.Ra=new Lx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Aa.aa()}function lg(r){return oa(r)&&!Mo(r).M_()&&r.Ta.size>0}function oa(r){return Ae(r).Ia.size===0}function Xb(r){r.Ra=void 0}async function FD(r){r.Aa.set("Online")}async function GD(r){r.Ta.forEach((e,t)=>{ag(r,e)})}async function YD(r,e){Xb(r),lg(r)?(r.Aa.la(e),og(r)):r.Aa.set("Unknown")}async function QD(r,e,t){if(r.Aa.set("Online"),e instanceof Vb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){ue(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof bh?r.Ra.Ye(e):e instanceof Mb?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Se.min()))try{const s=await Gb(r.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),$b(u,p);const w=new Yi(E.target,p,g,E.sequenceNumber);ag(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ue(ra,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,t){if(!No(e))throw e;r.Ia.add(1),await Nu(r),r.Aa.set("Offline"),t||(t=()=>Gb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(ra,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await hf(r)})}function Wb(r,e){return e().catch(t=>Bh(r,t,e))}async function ff(r){const e=Ae(r),t=rs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gp;for(;KD(e);)try{const o=await xD(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,$D(e,o)}catch(o){await Bh(e,o)}Zb(e)&&Jb(e)}function KD(r){return oa(r)&&r.Pa.length<10}function $D(r,e){r.Pa.push(e);const t=rs(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function Zb(r){return oa(r)&&!rs(r).M_()&&r.Pa.length>0}function Jb(r){rs(r).start()}async function XD(r){rs(r).na()}async function WD(r){const e=rs(r);for(const t of r.Pa)e.X_(t.mutations)}async function ZD(r,e,t){const s=r.Pa.shift(),o=Zp.from(s,e,t);await Wb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ff(r)}async function JD(r,e){e&&rs(r).Z_&&await async function(s,o){if(function(f){return Px(f)&&f!==J.ABORTED}(o.code)){const u=s.Pa.shift();rs(s).N_(),await Wb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ff(s)}}(r,e),Zb(r)&&Jb(r)}async function hE(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),ue(ra,"RemoteStore received new credentials");const s=oa(t);t.Ia.add(3),await Nu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await hf(t)}async function eN(r,e){const t=Ae(r);e?(t.Ia.delete(2),await hf(t)):e||(t.Ia.add(2),await Nu(t),t.Aa.set("Unknown"))}function Mo(r){return r.Va||(r.Va=function(t,s,o){const u=Ae(t);return u.ia(),new UD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:FD.bind(null,r),e_:GD.bind(null,r),n_:YD.bind(null,r),J_:QD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),lg(r)?og(r):r.Aa.set("Unknown")):(await r.Va.stop(),Xb(r))})),r.Va}function rs(r){return r.ma||(r.ma=function(t,s,o){const u=Ae(t);return u.ia(),new jD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:XD.bind(null,r),n_:JD.bind(null,r),ea:WD.bind(null,r),ta:ZD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await ff(r)):(await r.ma.stop(),r.Pa.length>0&&(ue(ra,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new ug(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(r,e){if(oi("AsyncQueue",`${e}: ${r}`),No(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.fa=new ot(pe.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class wo{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new wo(e,t,fo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class nN{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=dE(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new le(J.ABORTED,"Firestore shutting down"))}}function dE(){return new aa(r=>_b(r),sf)}async function ew(r,e){const t=Ae(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new tN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=cg(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&hg(t)}async function tw(r,e){const t=Ae(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function rN(r,e){const t=Ae(r);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&hg(t)}function iN(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function hg(r){r.Da.forEach(e=>{e.next()})}var dp,mE;(mE=dp||(dp={})).Fa="default",mE.Cache="cache";class nw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.key=e}}class iw{constructor(e){this.key=e}}class sN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=Eb(e),this.eu=new fo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new fE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const b=o.get(E),D=af(this.query,w)?w:null,x=!!b&&this.mutatedKeys.has(b.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let G=!1;b&&D?b.data.isEqual(D.data)?x!==j&&(s.track({type:3,doc:D}),G=!0):this.iu(b,D)||(s.track({type:2,doc:D}),G=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(m=!0)):!b&&D?(s.track({type:0,doc:D}),G=!0):b&&!D&&(s.track({type:1,doc:b}),G=!0,(p||g)&&(m=!0)),G&&(D?(f=f.add(D),u=j?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((E,w)=>function(D,x){const j=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:G})}};return j(D)-j(x)}(E.type,w.type)||this.Xa(E.doc,w.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new wo(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new fE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new iw(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new rw(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return wo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const fg="SyncEngine";class aN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class oN{constructor(e){this.key=e,this.lu=!1}}class lN{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new aa(m=>_b(m),sf),this.Tu=new Map,this.Iu=new Set,this.du=new ot(pe.comparator),this.Eu=new Map,this.Au=new tg,this.Ru={},this.Vu=new Map,this.mu=bo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function uN(r,e,t=!0){const s=cw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await sw(s,e,t,!0),o}async function cN(r,e){const t=cw(r);await sw(t,e,!0,!1)}async function sw(r,e,t,s){const o=await DD(r.localStore,vr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await hN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&Kb(r.remoteStore,o),m}async function hN(r,e,t,s,o){r.gu=(w,b,D)=>async function(j,G,H,$){let re=G.view.nu(H);re.Ds&&(re=await aE(j.localStore,G.query,!1).then(({documents:P})=>G.view.nu(P,re)));const fe=$&&$.targetChanges.get(G.targetId),he=$&&$.targetMismatches.get(G.targetId)!=null,ve=G.view.applyChanges(re,j.isPrimaryClient,fe,he);return gE(j,G.targetId,ve._u),ve.snapshot}(r,w,b,D);const u=await aE(r.localStore,e,!0),f=new sN(e,u.qs),m=f.nu(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);gE(r,t,g._u);const E=new aN(e,t,f);return r.Pu.set(e,E),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function fN(r,e,t){const s=Ae(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!sf(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&sg(s.remoteStore,o.targetId),mp(s,o.targetId)}).catch(Do)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function dN(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),sg(t.remoteStore,s.targetId))}async function mN(r,e,t){const s=TN(r);try{const o=await function(f,m){const p=Ae(f),g=je.now(),E=m.reduce((D,x)=>D.add(x.key),Ve());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=li(),j=Ve();return p.Os.getEntries(D,E).next(G=>{x=G,x.forEach((H,$)=>{$.isValidDocument()||(j=j.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,x)).next(G=>{w=G;const H=[];for(const $ of m){const re=Dx($,w.get($.key).overlayedDocument);re!=null&&H.push(new os($.key,re,hb(re.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,H,m)}).next(G=>{b=G;const H=G.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(D,G.batchId,H)})}).then(()=>({batchId:b.batchId,changes:bb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new ot(Ce)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g}(s,o.batchId,t),await Ou(s,o.changes),await ff(s.remoteStore)}catch(o){const u=cg(o,"Failed to persist write");t.reject(u)}}async function aw(r,e){const t=Ae(r);try{const s=await ID(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Eu.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Fe(f.lu,14607):o.removedDocuments.size>0&&(Fe(f.lu,42227),f.lu=!1))}),await Ou(t,s,e)}catch(s){await Do(s)}}function pE(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const b of w.wa)b.va(m)&&(g=!0)}),g&&hg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pN(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new ot(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new uf(Se.min(),new Map,new ot(Ce),f,m);await aw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),dg(s)}else await hp(s.localStore,e,!1).then(()=>mp(s,e,t)).catch(Do)}async function gN(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await RD(t.localStore,e);lw(t,s,null),ow(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(t,o)}catch(o){await Do(o)}}async function yN(r,e,t){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Fe(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);lw(s,e,t),ow(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ou(s,o)}catch(o){await Do(o)}}function ow(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function lw(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function mp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||uw(r,s)})}function uw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(sg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),dg(r))}function gE(r,e,t){for(const s of t)s instanceof rw?(r.Au.addReference(s.key,e),vN(r,s)):s instanceof iw?(ue(fg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||uw(r,s.key)):Ee(19791,{yu:s})}function vN(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ue(fg,"New document in limbo: "+t),r.Iu.add(s),dg(r))}function dg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new pe(nt.fromString(e)),s=r.mu.next();r.Eu.set(s,new oN(t)),r.du=r.du.insert(t,s),Kb(r.remoteStore,new Yi(vr(rf(t.path)),s,"TargetPurposeLimboResolution",ef.ue))}}async function Ou(r,e,t){const s=Ae(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=rg.Es(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,b=>te.forEach(b.Is,D=>E.persistence.referenceDelegate.addReference(w,b.targetId,D)).next(()=>te.forEach(b.ds,D=>E.persistence.referenceDelegate.removeReference(w,b.targetId,D)))))}catch(w){if(!No(w))throw w;ue(ig,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const D=E.Fs.get(b),x=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(x);E.Fs=E.Fs.insert(b,j)}}}(s.localStore,u))}async function _N(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){ue(fg,"User change. New user:",e.toKey());const s=await Fb(t.localStore,e);t.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new le(J.CANCELLED,f))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(t,s.Bs)}}function EN(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return Ve().add(s.key);{let o=Ve();const u=t.Tu.get(e);if(!u)return o;for(const f of u){const m=t.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function cw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pN.bind(null,e),e.hu.J_=rN.bind(null,e.eventManager),e.hu.pu=iN.bind(null,e.eventManager),e}function TN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return AD(this.persistence,new bD,e.initialUser,this.serializer)}Du(e){return new Hb(ng.Vi,this.serializer)}bu(e){return new OD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class bN extends qh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oD(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Hb(s=>zh.Vi(s,t),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_N.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nN}()}createDatastore(e){const t=cf(e.databaseInfo.databaseId),s=function(u){return new LD(u)}(e.databaseInfo);return function(u,f,m,p){return new BD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new HD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>pE(this.syncEngine,t,0),function(){return uE.C()?new uE:new MD}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,E){const w=new lN(o,u,f,m,p,g);return E&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);ue(ra,"RemoteStore shutting down."),u.Ia.add(5),await Nu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class wN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=cg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(is,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Fb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Zi("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Zi("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function yE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await SN(r);ue(is,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>hE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>hE(e.remoteStore,o)),r._onlineComponents=e}async function SN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(is,"Using user provided OfflineComponentProvider");try{await zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zi("Error using user provided cache. Falling back to memory cache: "+t),await zm(r,new qh)}}else ue(is,"Using default OfflineComponentProvider"),await zm(r,new bN(void 0));return r._offlineComponents}async function fw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(is,"Using user provided OnlineComponentProvider"),await yE(r,r._uninitializedComponentsProvider._online)):(ue(is,"Using default OnlineComponentProvider"),await yE(r,new pp))),r._onlineComponents}function AN(r){return fw(r).then(e=>e.syncEngine)}async function gp(r){const e=await fw(r),t=e.eventManager;return t.onListen=uN.bind(null,e.syncEngine),t.onUnlisten=fN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),t}function RN(r,e,t={}){const s=new Xi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new hw({next:b=>{E.Ou(),f.enqueueAndForget(()=>tw(u,w));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new nw(rf(m.path),E,{includeMetadataChanges:!0,ka:!0});return ew(u,w)}(await gp(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firestore.googleapis.com",_E=!0;class EE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mw,this.ssl=_E}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sD)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new P2;switch(s.type){case"firstParty":return new j2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=vE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),vE.delete(t),s.terminate())}(this),Promise.resolve()}}function IN(r,e,t,s={}){var o;r=Kn(r,df);const u=Ro(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(oT(`https://${p}`),lT("Firestore",!0)),f.host!==mw&&f.host!==p&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!ii(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Wt.MOCK_USER;else{E=oR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wt(b)}r._authCredentials=new k2(new ZT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class ft{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Cu(t,ft._jsonSchema))return new ft(e,s||null,new pe(nt.fromString(t.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:wt("string",ft._jsonSchemaVersion),referencePath:wt("string")};class Wi extends la{constructor(e,t,s){super(e,t,rf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new pe(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function ou(r,e,...t){if(r=Lt(r),eb("collection","path",e),r instanceof df){const s=nt.fromString(e,...t);return M0(s),new Wi(r,null,s)}{if(!(r instanceof ft||r instanceof Wi))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return M0(s),new Wi(r.firestore,null,s)}}function vu(r,e,...t){if(r=Lt(r),arguments.length===1&&(e=Fp.newId()),eb("doc","path",e),r instanceof df){const s=nt.fromString(e,...t);return O0(s),new ft(r,null,new pe(s))}{if(!(r instanceof ft||r instanceof Wi))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return O0(s),new ft(r.firestore,r instanceof Wi?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class bE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Yb(this,"async_queue_retry"),this.oc=()=>{const s=jm();s&&ue(TE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Xi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!No(e))throw e;ue(TE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,oi("INTERNAL UNHANDLED ERROR: ",wE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=ug.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:wE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function wE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ia extends df{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bE(e),this._firestoreClient=void 0,await e}}}function CN(r,e){const t=typeof r=="object"?r:fT(),s=typeof r=="string"?r:Ph,o=Np(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=sR("firestore");u&&IN(o,...u)}return o}function mg(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xN(r),r._firestoreClient}function xN(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new tx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,dw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new wN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Yt.fromBase64String(e))}catch(t){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:wt("string",kn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:wt("string",Er._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Tr(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:wt("string",Tr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=/^__.*__$/;class NN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class pw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class pf{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Hh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gw(this.Ec)&&DN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ON{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||cf(e)}Dc(e,t,s,o=!1){return new pf({Ec:e,methodName:t,bc:s,path:Gt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(r){const e=r._freezeSettings(),t=cf(r._databaseId);return new ON(r._databaseId,!!e.ignoreUndefinedProperties,t)}function yw(r,e,t,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);vg("Data must be an object, but it was:",f,s);const m=_w(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const b=yp(e,w,t);if(!f.contains(b))throw new le(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Tw(E,b)||E.push(b)}p=new bn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new NN(new hn(m),p,g)}class yf extends Vo{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function vw(r,e,t){return new pf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pg extends Vo{_toFieldTransform(e){return new Wp(e.path,new yu)}isEqual(e){return e instanceof pg}}class gg extends Vo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=vw(this,e,!0),s=this.vc.map(u=>ua(u,t)),o=new Eo(s);return new Wp(e.path,o)}isEqual(e){return e instanceof gg&&ii(this.vc,e.vc)}}class yg extends Vo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=vw(this,e,!0),s=this.vc.map(u=>ua(u,t)),o=new To(s);return new Wp(e.path,o)}isEqual(e){return e instanceof yg&&ii(this.vc,e.vc)}}function MN(r,e,t,s){const o=r.Dc(1,e,t);vg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();as(s,(p,g)=>{const E=_g(e,p,t);g=Lt(g);const w=o.gc(E);if(g instanceof yf)u.push(E);else{const b=ua(g,w);b!=null&&(u.push(E),f.set(E,b))}});const m=new bn(u);return new pw(f,m,o.fieldTransforms)}function VN(r,e,t,s,o,u){const f=r.Dc(1,e,t),m=[yp(e,s,t)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(yp(e,u[b])),p.push(u[b+1]);const g=[],E=hn.empty();for(let b=m.length-1;b>=0;--b)if(!Tw(g,m[b])){const D=m[b];let x=p[b];x=Lt(x);const j=f.gc(D);if(x instanceof yf)g.push(D);else{const G=ua(x,j);G!=null&&(g.push(D),E.set(D,G))}}const w=new bn(g);return new pw(E,w,f.fieldTransforms)}function PN(r,e,t,s=!1){return ua(t,r.Dc(s?4:3,e))}function ua(r,e){if(Ew(r=Lt(r)))return vg("Unsupported field value:",e,r),_w(r,e);if(r instanceof Vo)return function(s,o){if(!gw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=ua(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Sx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=je.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof je){const u=new je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Er)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:Pb(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Tr)return function(f,m){return{mapValue:{fields:{[ub]:{stringValue:cb},[kh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Xp(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Jh(s)}`)}(r,e)}function _w(r,e){const t={};return rb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(r,(s,o)=>{const u=ua(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Ew(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof je||r instanceof Er||r instanceof kn||r instanceof ft||r instanceof Vo||r instanceof Tr)}function vg(r,e,t){if(!Ew(t)||!tb(t)){const s=Jh(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function yp(r,e,t){if((e=Lt(e))instanceof mf)return e._internalPath;if(typeof e=="string")return _g(r,e);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,t)}const kN=new RegExp("[~\\*/\\[\\]]");function _g(r,e,t){if(e.search(kN)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mf(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Hh(r,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+r+p)}function Tw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LN extends bw{data(){return super.data()}}function vf(r,e){return typeof e=="string"?_g(r,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class ww extends Eg{}function Sw(r,e,...t){let s=[];e instanceof Eg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof Tg).length,m=u.filter(p=>p instanceof _f).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class _f extends ww{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new _f(e,t,s)}_apply(e){const t=this._parse(e);return Aw(e._query,t),new la(e.firestore,e.converter,sp(e._query,t))}_parse(e){const t=gf(e.firestore);return function(u,f,m,p,g,E,w){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){RE(w,E);const x=[];for(const j of w)x.push(AE(p,u,j));b={arrayValue:{values:x}}}else b=AE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||RE(w,E),b=PN(m,f,w,E==="in"||E==="not-in");return bt.create(g,E,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jN(r,e,t){const s=e,o=vf("where",r);return _f._create(o,s,t)}class Tg extends Eg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Aw(f,p),f=sp(f,p)}(e._query,t),new la(e.firestore,e.converter,sp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends ww{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bg(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,f)}(e._query,this._field,this._direction);return new la(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Oo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function zN(r,e="asc"){const t=e,s=vf("orderBy",r);return bg._create(s,t)}function AE(r,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(e)&&t.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!pe.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B0(r,new pe(s))}if(t instanceof ft)return B0(r,t._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function RE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aw(r,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BN{convertValue(e,t="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return as(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[kh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new Tr(u)}convertGeoPoint(e){return new Er(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=es(e);return new je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Fe(Bb(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||oi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends bw{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Js._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:wt("string",Js._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class wh extends Js{data(e={}){return super.data(e)}}class mo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:qN(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){r=Kn(r,ft);const e=Kn(r.firestore,ia);return RN(mg(e),r._key).then(t=>Dw(e,r,t))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:wt("string",mo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Cw extends BN{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function HN(r,e,t){r=Kn(r,ft);const s=Kn(r.firestore,ia),o=Rw(r.converter,e);return wg(s,[yw(gf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,$n.none())])}function IE(r,e,t,...s){r=Kn(r,ft);const o=Kn(r.firestore,ia),u=gf(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof mf?VN(u,"updateDoc",r._key,e,t,s):MN(u,"updateDoc",r._key,e),wg(o,[f.toMutation(r._key,$n.exists(!0))])}function vp(r,e){const t=Kn(r.firestore,ia),s=vu(r),o=Rw(r.converter,e);return wg(t,[yw(gf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then(()=>s)}function xw(r,...e){var t,s,o;r=Lt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||SE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(SE(e[f])){const w=e[f];e[f]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof ft)g=Kn(r.firestore,ia),E=rf(r._key.path),p={next:w=>{e[f]&&e[f](Dw(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=Kn(r,la);g=Kn(w.firestore,ia),E=w._query;const b=new Cw(g);p={next:D=>{e[f]&&e[f](new mo(g,b,w,D))},error:e[f+1],complete:e[f+2]},UN(r._query)}return function(b,D,x,j){const G=new hw(j),H=new nw(D,G,x);return b.asyncQueue.enqueueAndForget(async()=>ew(await gp(b),H)),()=>{G.Ou(),b.asyncQueue.enqueueAndForget(async()=>tw(await gp(b),H))}}(mg(g),E,m,p)}function wg(r,e){return function(s,o){const u=new Xi;return s.asyncQueue.enqueueAndForget(async()=>mN(await AN(s),o,u)),u.promise}(mg(r),e)}function Dw(r,e,t){const s=t.docs.get(e._key),o=new Cw(r);return new Js(r,o,e._key,s,new eu(t.hasPendingWrites,t.fromCache),e.converter)}function Nw(){return new pg("serverTimestamp")}function FN(...r){return new gg("arrayUnion",r)}function GN(...r){return new yg("arrayRemove",r)}(function(e,t=!0){(function(o){xo=o})(Io),po(new ea("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ia(new L2(s.getProvider("auth-internal")),new z2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ws(I0,C0,e),Ws(I0,C0,"esm2017")})();const YN={apiKey:"AIzaSyDw27FOHVgIPBzP2gP8b68U-RYX2uGcYfc",authDomain:"event-tool-internal.firebaseapp.com",projectId:"event-tool-internal",storageBucket:"event-tool-internal.firebasestorage.app",messagingSenderId:"39341001525",appId:"1:39341001525:web:1b5b19c4f5da1784f81a7c",measurementId:"G-4M23FC4X1N"},Ow=hT(YN),Sg=M2(Ow),ei=CN(Ow),QN=new Wr,Mw=z.createContext(void 0),KN=({children:r})=>{const[e,t]=z.useState(null),[s,o]=z.useState(null),[u,f]=z.useState(!0);z.useEffect(()=>{const p=TC(Sg,async g=>{if(g){t(g);const E=vu(ei,"users",g.uid),w=await Iw(E);if(w.exists())o(w.data());else{const b={uid:g.uid,email:g.email||"",displayName:g.displayName||"Googler",photoURL:g.photoURL||"",attendanceHistory:{}};await HN(E,b),o(b)}}else t(null),o(null);f(!1)});return()=>p()},[]);const m={user:e,userProfile:s,loading:u};return M.jsx(Mw.Provider,{value:m,children:r})},ca=()=>{const r=z.useContext(Mw);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},ni=({children:r,variant:e="primary",isLoading:t=!1,className:s="",...o})=>{const u="px-4 py-2 rounded-md font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-dark-surface disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",f={primary:"bg-primary text-white hover:bg-blue-600 focus:ring-primary",secondary:"bg-secondary text-white hover:bg-green-600 focus:ring-secondary",danger:"bg-danger text-white hover:bg-red-600 focus:ring-danger",ghost:"bg-transparent text-dark-text-secondary hover:bg-dark-surface hover:text-dark-text border border-dark-border"};return M.jsxs("button",{className:`${u} ${f[e]} ${s}`,disabled:t||o.disabled,...o,children:[t&&M.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})};let $N={data:""},XN=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||$N,WN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ZN=/\/\*[^]*?\*\/|  +/g,CE=/\n+/g,Gi=(r,e)=>{let t="",s="",o="";for(let u in r){let f=r[u];u[0]=="@"?u[1]=="i"?t=u+" "+f+";":s+=u[1]=="f"?Gi(f,u):u+"{"+Gi(f,u[1]=="k"?"":e)+"}":typeof f=="object"?s+=Gi(f,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Gi.p?Gi.p(u,f):u+":"+f+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Xr={},Vw=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Vw(r[t]);return e}return r},JN=(r,e,t,s,o)=>{let u=Vw(r),f=Xr[u]||(Xr[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!Xr[f]){let p=u!==r?r:(g=>{let E,w,b=[{}];for(;E=WN.exec(g.replace(ZN,""));)E[4]?b.shift():E[3]?(w=E[3].replace(CE," ").trim(),b.unshift(b[0][w]=b[0][w]||{})):b[0][E[1]]=E[2].replace(CE," ").trim();return b[0]})(r);Xr[f]=Gi(o?{["@keyframes "+f]:p}:p,t?"":"."+f)}let m=t&&Xr.g?Xr.g:null;return t&&(Xr.g=Xr[f]),((p,g,E,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(Xr[f],e,s,m),f},eO=(r,e,t)=>r.reduce((s,o,u)=>{let f=e[u];if(f&&f.call){let m=f(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=p?"."+p:m&&typeof m=="object"?m.props?"":Gi(m,""):m===!1?"":m}return s+o+(f??"")},"");function Ef(r){let e=this||{},t=r.call?r(e.p):r;return JN(t.unshift?t.raw?eO(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,XN(e.target),e.g,e.o,e.k)}let Pw,_p,Ep;Ef.bind({g:1});let ui=Ef.bind({k:1});function tO(r,e,t,s){Gi.p=e,Pw=r,_p=t,Ep=s}function ls(r,e){let t=this||{};return function(){let s=arguments;function o(u,f){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:_p&&_p()},m),t.o=/ *go\d+/.test(p),m.className=Ef.apply(t,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),Ep&&g[0]&&Ep(m),Pw(g,m)}return o}}var nO=r=>typeof r=="function",Fh=(r,e)=>nO(r)?r(e):r,rO=(()=>{let r=0;return()=>(++r).toString()})(),kw=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),iO=20,Lw=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,iO)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return Lw(r,{type:r.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},Sh=[],Xs={toasts:[],pausedAt:void 0},ha=r=>{Xs=Lw(Xs,r),Sh.forEach(e=>{e(Xs)})},sO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aO=(r={})=>{let[e,t]=z.useState(Xs),s=z.useRef(Xs);z.useEffect(()=>(s.current!==Xs&&t(Xs),Sh.push(t),()=>{let u=Sh.indexOf(t);u>-1&&Sh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var f,m,p;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((f=r[u.type])==null?void 0:f.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((m=r[u.type])==null?void 0:m.duration)||(r==null?void 0:r.duration)||sO[u.type],style:{...r.style,...(p=r[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},oO=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||rO()}),Mu=r=>(e,t)=>{let s=oO(e,r,t);return ha({type:2,toast:s}),s.id},sn=(r,e)=>Mu("blank")(r,e);sn.error=Mu("error");sn.success=Mu("success");sn.loading=Mu("loading");sn.custom=Mu("custom");sn.dismiss=r=>{ha({type:3,toastId:r})};sn.remove=r=>ha({type:4,toastId:r});sn.promise=(r,e,t)=>{let s=sn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Fh(e.success,o):void 0;return u?sn.success(u,{id:s,...t,...t==null?void 0:t.success}):sn.dismiss(s),o}).catch(o=>{let u=e.error?Fh(e.error,o):void 0;u?sn.error(u,{id:s,...t,...t==null?void 0:t.error}):sn.dismiss(s)}),r};var lO=(r,e)=>{ha({type:1,toast:{id:r,height:e}})},uO=()=>{ha({type:5,time:Date.now()})},lu=new Map,cO=1e3,hO=(r,e=cO)=>{if(lu.has(r))return;let t=setTimeout(()=>{lu.delete(r),ha({type:4,toastId:r})},e);lu.set(r,t)},fO=r=>{let{toasts:e,pausedAt:t}=aO(r);z.useEffect(()=>{if(t)return;let u=Date.now(),f=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&sn.dismiss(m.id);return}return setTimeout(()=>sn.dismiss(m.id),p)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[e,t]);let s=z.useCallback(()=>{t&&ha({type:6,time:Date.now()})},[t]),o=z.useCallback((u,f)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=f||{},E=e.filter(D=>(D.position||g)===(u.position||g)&&D.height),w=E.findIndex(D=>D.id===u.id),b=E.filter((D,x)=>x<w&&D.visible).length;return E.filter(D=>D.visible).slice(...m?[b+1]:[0,b]).reduce((D,x)=>D+(x.height||0)+p,0)},[e]);return z.useEffect(()=>{e.forEach(u=>{if(u.dismissed)hO(u.id,u.removeDelay);else{let f=lu.get(u.id);f&&(clearTimeout(f),lu.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:lO,startPause:uO,endPause:s,calculateOffset:o}}},dO=ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,mO=ui`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pO=ui`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gO=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${mO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yO=ui`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vO=ls("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${yO} 1s linear infinite;
`,_O=ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,EO=ui`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,TO=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_O} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${EO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bO=ls("div")`
  position: absolute;
`,wO=ls("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,SO=ui`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AO=ls("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${SO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,RO=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?z.createElement(AO,null,e):e:t==="blank"?null:z.createElement(wO,null,z.createElement(vO,{...s}),t!=="loading"&&z.createElement(bO,null,t==="error"?z.createElement(gO,{...s}):z.createElement(TO,{...s})))},IO=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,CO=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,xO="0%{opacity:0;} 100%{opacity:1;}",DO="0%{opacity:1;} 100%{opacity:0;}",NO=ls("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,OO=ls("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MO=(r,e)=>{let t=r.includes("top")?1:-1,[s,o]=kw()?[xO,DO]:[IO(t),CO(t)];return{animation:e?`${ui(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ui(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VO=z.memo(({toast:r,position:e,style:t,children:s})=>{let o=r.height?MO(r.position||e||"top-center",r.visible):{opacity:0},u=z.createElement(RO,{toast:r}),f=z.createElement(OO,{...r.ariaProps},Fh(r.message,r));return z.createElement(NO,{className:r.className,style:{...o,...t,...r.style}},typeof s=="function"?s({icon:u,message:f}):z.createElement(z.Fragment,null,u,f))});tO(z.createElement);var PO=({id:r,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=z.useCallback(f=>{if(f){let m=()=>{let p=f.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return z.createElement("div",{ref:u,className:e,style:t},o)},kO=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},LO=Ef`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hh=16,UO=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:u,containerClassName:f})=>{let{toasts:m,handlers:p}=fO(t);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hh,left:hh,right:hh,bottom:hh,pointerEvents:"none",...u},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let E=g.position||e,w=p.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),b=kO(E,w);return z.createElement(PO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?LO:"",style:b},g.type==="custom"?Fh(g.message,g):o?o(g):z.createElement(VO,{toast:g,position:E}))}))},an=sn;const jO=()=>{const r=Tu(),{user:e,loading:t}=ca();z.useEffect(()=>{e&&r("/")},[e,r]);const s=async()=>{try{await qC(Sg,QN),an.success("Signed in successfully!"),r("/")}catch(o){console.error("Authentication error: ",o),an.error(o.message||"Failed to sign in.")}};return t||e?M.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-dark-bg",children:M.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):M.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-bg text-dark-text p-4",children:[M.jsxs("div",{className:"text-center mb-12",children:[M.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"🏆 FairPlay Scheduler"}),M.jsx("p",{className:"text-lg text-dark-text-secondary",children:"Fair event sign-ups for everyone."})]}),M.jsxs("div",{className:"bg-dark-surface p-8 rounded-lg shadow-2xl max-w-sm w-full text-center",children:[M.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Googler!"}),M.jsx("p",{className:"text-dark-text-secondary mb-6",children:"Sign in to continue."}),M.jsxs(ni,{onClick:s,className:"w-full bg-primary hover:bg-blue-600",children:[M.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[M.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.06 6.21C12.43 13.72 17.74 9.5 24 9.5z"}),M.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),M.jsx("path",{fill:"#FBBC05",d:"M10.62 27.58c-.52-1.57-.82-3.24-.82-5.04s.3-3.47.82-5.04l-8.06-6.21C.96 15.7 0 20.05 0 24.55s.96 8.85 2.56 12.78l8.06-6.75z"}),M.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-8.06 6.21C6.51 42.62 14.62 48 24 48z"}),M.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Sign in with Google"]}),M.jsx("p",{className:"text-xs text-dark-text-secondary mt-4",children:"Restricted to @google.com accounts."})]})]})},Ag=()=>M.jsx("div",{className:"flex justify-center items-center",children:M.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),Uw=({isOpen:r,onClose:e,title:t,children:s})=>r?M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center",onClick:e,children:M.jsxs("div",{className:"bg-dark-surface text-dark-text rounded-lg shadow-xl w-full max-w-2xl mx-4 p-6 relative animate-fade-in-up",onClick:o=>o.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-center border-b border-dark-border pb-3 mb-4",children:[M.jsx("h3",{className:"text-xl font-bold",children:t}),M.jsx("button",{onClick:e,className:"text-dark-text-secondary hover:text-white transition-colors",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsx("div",{children:s})]})}):null,zO=()=>{const[r,e]=z.useState([]),[t,s]=z.useState(!0),[o,u]=z.useState(!1),[f,m]=z.useState(""),[p,g]=z.useState(""),[E,w]=z.useState(!1),{user:b}=ca(),D=Tu();z.useEffect(()=>{s(!0);const j=Sw(ou(ei,"groups")),G=xw(j,H=>{const $=[];H.forEach(re=>{$.push({id:re.id,...re.data()})}),e($),s(!1)},H=>{console.error("Error fetching groups:",H),an.error("Failed to load groups."),s(!1)});return()=>G()},[]);const x=async j=>{if(j.preventDefault(),!(!f.trim()||!b)){w(!0);try{await vp(ou(ei,"groups"),{name:f,description:p,ownerUids:[b.uid],createdAt:Nw()}),an.success("Group created successfully!"),u(!1),m(""),g("")}catch(G){console.error("Error creating group:",G),an.error("Failed to create group.")}finally{w(!1)}}};return M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-center mb-8",children:[M.jsx("h1",{className:"text-3xl font-bold",children:"Groups"}),M.jsx(ni,{onClick:()=>u(!0),children:"Create New Group"})]}),t?M.jsx(Ag,{}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(j=>M.jsxs("div",{className:"bg-dark-surface p-6 rounded-lg shadow-lg hover:shadow-primary/20 hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>D(`/group/${j.id}`),children:[M.jsx("h2",{className:"text-xl font-bold text-primary mb-2",children:j.name}),M.jsx("p",{className:"text-dark-text-secondary line-clamp-2",children:j.description})]},j.id)):M.jsx("p",{className:"text-dark-text-secondary col-span-full text-center",children:"No groups found. Create one to get started!"})}),M.jsx(Uw,{isOpen:o,onClose:()=>u(!1),title:"Create a New Group",children:M.jsxs("form",{onSubmit:x,children:[M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"groupName",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Group Name"}),M.jsx("input",{id:"groupName",type:"text",value:f,onChange:j=>m(j.target.value),placeholder:"e.g., Football-WAW",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"groupDesc",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Description"}),M.jsx("textarea",{id:"groupDesc",value:p,onChange:j=>g(j.target.value),placeholder:"A short description of the group and its activities.",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",rows:3,required:!0})]})]}),M.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[M.jsx(ni,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Cancel"}),M.jsx(ni,{type:"submit",isLoading:E,children:"Create Group"})]})]})})]})},jw=6048e5,BO=864e5,xE=Symbol.for("constructDateFrom");function Un(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&xE in r?r[xE](e):r instanceof Date?new r.constructor(e):new Date(e)}function fn(r,e){return Un(e||r,r)}function qO(r,e,t){const s=fn(r,t==null?void 0:t.in);return isNaN(e)?Un(r,NaN):(e&&s.setDate(s.getDate()+e),s)}function HO(r,e,t){const s=fn(r,t==null?void 0:t.in);if(isNaN(e))return Un(r,NaN);if(!e)return s;const o=s.getDate(),u=Un(r,s.getTime());u.setMonth(s.getMonth()+e+1,0);const f=u.getDate();return o>=f?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}function Bm(r,e,t){const{years:s=0,months:o=0,weeks:u=0,days:f=0,hours:m=0,minutes:p=0,seconds:g=0}=e,E=fn(r,t==null?void 0:t.in),w=o||s?HO(E,o+s*12):E,b=f||u?qO(w,f+u*7):w,D=p+m*60,j=(g+D*60)*1e3;return Un(r,+b+j)}let FO={};function Tf(){return FO}function _u(r,e){var m,p,g,E;const t=Tf(),s=(e==null?void 0:e.weekStartsOn)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((E=(g=t.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,o=fn(r,e==null?void 0:e.in),u=o.getDay(),f=(u<s?7:0)+u-s;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Gh(r,e){return _u(r,{...e,weekStartsOn:1})}function zw(r,e){const t=fn(r,e==null?void 0:e.in),s=t.getFullYear(),o=Un(t,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=Gh(o),f=Un(t,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=Gh(f);return t.getTime()>=u.getTime()?s+1:t.getTime()>=m.getTime()?s:s-1}function DE(r){const e=fn(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function GO(r,...e){const t=Un.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function NE(r,e){const t=fn(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function YO(r,e,t){const[s,o]=GO(t==null?void 0:t.in,r,e),u=NE(s),f=NE(o),m=+u-DE(u),p=+f-DE(f);return Math.round((m-p)/BO)}function QO(r,e){const t=zw(r,e),s=Un(r,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Gh(s)}function KO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function $O(r){return!(!KO(r)&&typeof r!="number"||isNaN(+fn(r)))}function XO(r,e){const t=fn(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const WO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZO=(r,e,t)=>{let s;const o=WO[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function qm(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const JO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nM={date:qm({formats:JO,defaultWidth:"full"}),time:qm({formats:eM,defaultWidth:"full"}),dateTime:qm({formats:tM,defaultWidth:"full"})},rM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iM=(r,e,t,s)=>rM[r];function Ql(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=t!=null&&t.width?String(t.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const sM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hM=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fM={ordinalNumber:hM,era:Ql({values:sM,defaultWidth:"wide"}),quarter:Ql({values:aM,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ql({values:oM,defaultWidth:"wide"}),day:Ql({values:lM,defaultWidth:"wide"}),dayPeriod:Ql({values:uM,defaultWidth:"wide",formattingValues:cM,defaultFormattingWidth:"wide"})};function Kl(r){return(e,t={})=>{const s=t.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?mM(m,w=>w.test(f)):dM(m,w=>w.test(f));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const E=e.slice(f.length);return{value:g,rest:E}}}function dM(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function mM(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function pM(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=t.valueCallback?t.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const gM=/^(\d+)(th|st|nd|rd)?/i,yM=/\d+/i,vM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_M={any:[/^b/i,/^(a|c)/i]},EM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TM={any:[/1/i,/2/i,/3/i,/4/i]},bM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CM={ordinalNumber:pM({matchPattern:gM,parsePattern:yM,valueCallback:r=>parseInt(r,10)}),era:Kl({matchPatterns:vM,defaultMatchWidth:"wide",parsePatterns:_M,defaultParseWidth:"any"}),quarter:Kl({matchPatterns:EM,defaultMatchWidth:"wide",parsePatterns:TM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Kl({matchPatterns:bM,defaultMatchWidth:"wide",parsePatterns:wM,defaultParseWidth:"any"}),day:Kl({matchPatterns:SM,defaultMatchWidth:"wide",parsePatterns:AM,defaultParseWidth:"any"}),dayPeriod:Kl({matchPatterns:RM,defaultMatchWidth:"any",parsePatterns:IM,defaultParseWidth:"any"})},xM={code:"en-US",formatDistance:ZO,formatLong:nM,formatRelative:iM,localize:fM,match:CM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DM(r,e){const t=fn(r,e==null?void 0:e.in);return YO(t,XO(t))+1}function NM(r,e){const t=fn(r,e==null?void 0:e.in),s=+Gh(t)-+QO(t);return Math.round(s/jw)+1}function Bw(r,e){var E,w,b,D;const t=fn(r,e==null?void 0:e.in),s=t.getFullYear(),o=Tf(),u=(e==null?void 0:e.firstWeekContainsDate)??((w=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((D=(b=o.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??1,f=Un((e==null?void 0:e.in)||r,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=_u(f,e),p=Un((e==null?void 0:e.in)||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=_u(p,e);return+t>=+m?s+1:+t>=+g?s:s-1}function OM(r,e){var m,p,g,E;const t=Tf(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((E=(g=t.locale)==null?void 0:g.options)==null?void 0:E.firstWeekContainsDate)??1,o=Bw(r,e),u=Un((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),_u(u,e)}function MM(r,e){const t=fn(r,e==null?void 0:e.in),s=+_u(t,e)-+OM(t,e);return Math.round(s/jw)+1}function Ke(r,e){const t=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return t+s}const Bi={y(r,e){const t=r.getFullYear(),s=t>0?t:1-t;return Ke(e==="yy"?s%100:s,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Ke(t+1,2)},d(r,e){return Ke(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Ke(r.getHours()%12||12,e.length)},H(r,e){return Ke(r.getHours(),e.length)},m(r,e){return Ke(r.getMinutes(),e.length)},s(r,e){return Ke(r.getSeconds(),e.length)},S(r,e){const t=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,t-3));return Ke(o,e.length)}},io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OE={G:function(r,e,t){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return t.ordinalNumber(o,{unit:"year"})}return Bi.y(r,e)},Y:function(r,e,t,s){const o=Bw(r,s),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Ke(f,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):Ke(u,e.length)},R:function(r,e){const t=zw(r);return Ke(t,e.length)},u:function(r,e){const t=r.getFullYear();return Ke(t,e.length)},Q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ke(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ke(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,t){const s=r.getMonth();switch(e){case"M":case"MM":return Bi.M(r,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,t){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ke(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,t,s){const o=MM(r,s);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Ke(o,e.length)},I:function(r,e,t){const s=NM(r);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):Ke(s,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Bi.d(r,e)},D:function(r,e,t){const s=DM(r);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):Ke(s,e.length)},E:function(r,e,t){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ke(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ke(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ke(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const s=r.getHours();let o;switch(s===12?o=io.noon:s===0?o=io.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const s=r.getHours();let o;switch(s>=17?o=io.evening:s>=12?o=io.afternoon:s>=4?o=io.morning:o=io.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Bi.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Bi.H(r,e)},K:function(r,e,t){const s=r.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):Ke(s,e.length)},k:function(r,e,t){let s=r.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):Ke(s,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Bi.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Bi.s(r,e)},S:function(r,e){return Bi.S(r,e)},X:function(r,e,t){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return VE(s);case"XXXX":case"XX":return Qs(s);case"XXXXX":case"XXX":default:return Qs(s,":")}},x:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"x":return VE(s);case"xxxx":case"xx":return Qs(s);case"xxxxx":case"xxx":default:return Qs(s,":")}},O:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ME(s,":");case"OOOO":default:return"GMT"+Qs(s,":")}},z:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ME(s,":");case"zzzz":default:return"GMT"+Qs(s,":")}},t:function(r,e,t){const s=Math.trunc(+r/1e3);return Ke(s,e.length)},T:function(r,e,t){return Ke(+r,e.length)}};function ME(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?t+String(o):t+String(o)+e+Ke(u,2)}function VE(r,e){return r%60===0?(r>0?"-":"+")+Ke(Math.abs(r)/60,2):Qs(r,e)}function Qs(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=Ke(Math.trunc(s/60),2),u=Ke(s%60,2);return t+o+e+u}const PE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},qw=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VM=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],s=t[1],o=t[2];if(!o)return PE(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",PE(s,e)).replace("{{time}}",qw(o,e))},PM={p:qw,P:VM},kM=/^D+$/,LM=/^Y+$/,UM=["D","DD","YY","YYYY"];function jM(r){return kM.test(r)}function zM(r){return LM.test(r)}function BM(r,e,t){const s=qM(r,e,t);if(console.warn(s),UM.includes(r))throw new RangeError(s)}function qM(r,e,t){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GM=/^'([^]*?)'?$/,YM=/''/g,QM=/[a-zA-Z]/;function $l(r,e,t){var E,w,b,D;const s=Tf(),o=s.locale??xM,u=s.firstWeekContainsDate??((w=(E=s.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??1,f=s.weekStartsOn??((D=(b=s.locale)==null?void 0:b.options)==null?void 0:D.weekStartsOn)??0,m=fn(r,t==null?void 0:t.in);if(!$O(m))throw new RangeError("Invalid time value");let p=e.match(FM).map(x=>{const j=x[0];if(j==="p"||j==="P"){const G=PM[j];return G(x,o.formatLong)}return x}).join("").match(HM).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const j=x[0];if(j==="'")return{isToken:!1,value:KM(x)};if(OE[j])return{isToken:!0,value:x};if(j.match(QM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:x}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(x=>{if(!x.isToken)return x.value;const j=x.value;(zM(j)||jM(j))&&BM(j,e,String(r));const G=OE[j[0]];return G(m,j,o.localize,g)}).join("")}function KM(r){const e=r.match(GM);return e?e[1].replace(YM,"'"):r}const kE=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block text-dark-text-secondary",children:[M.jsx("circle",{cx:"12",cy:"12",r:"10"}),M.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),M.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),$M=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block",children:[M.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),M.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),XM=({instance:r,userProfile:e})=>{const{user:t}=ca(),[s,o]=z.useState(!1),[u,f]=z.useState([]),[m,p]=z.useState(!1),g=z.useMemo(()=>r.participants.find(H=>H.uid===(t==null?void 0:t.uid)),[r.participants,t]),E=z.useMemo(()=>{const H=new Date;return r.registrationOpenDateTime.toDate()<=H&&r.eventStartDateTime.toDate()>H},[r.registrationOpenDateTime,r.eventStartDateTime]),w=z.useMemo(()=>r.participantsListProcessed===!0,[r.listRevealDateTime]),b=z.useMemo(()=>u.slice(0,r.spots),[u,r.spots]),D=z.useMemo(()=>u.slice(r.spots),[u,r.spots]);z.useEffect(()=>{(async()=>{if(r.participants.length===0){f([]);return}f(r.participants)})()},[r,e]);const x=async()=>{if(!t||!e)return;o(!0);const H=document.getElementById("organizer-checkbox")?document.getElementById("organizer-checkbox").checked:!1,$={uid:t.uid,displayName:t.displayName||"Googler",photoURL:t.photoURL||"",isOrganizer:H,registeredAt:je.now()};try{const re=vu(ei,"eventInstances",r.id);await IE(re,{participants:FN($)}),an.success("You're on the list!")}catch(re){console.error(re),an.error("Failed to register.")}finally{o(!1),p(!1)}},j=async()=>{if(!(!t||!g)){o(!0);try{const H=vu(ei,"eventInstances",r.id);await IE(H,{participants:GN(g)}),an.success("You have resigned from the event.")}catch(H){console.error(H),an.error("Failed to resign.")}finally{o(!1)}}},G=(H,$)=>M.jsxs("li",{className:"flex items-center gap-3 py-2",children:[M.jsxs("span",{className:"font-mono text-dark-text-secondary w-6 text-right",children:[$+1,"."]}),M.jsx("img",{src:H.photoURL,alt:H.displayName,className:"w-8 h-8 rounded-full"}),M.jsx("span",{className:"flex-grow",children:H.displayName}),H.isOrganizer&&M.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},H.uid);return M.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-lg p-6 flex flex-col md:flex-row gap-6",children:[M.jsxs("div",{className:"md:w-1/3 border-b md:border-b-0 md:border-r border-dark-border pb-6 md:pb-0 md:pr-6",children:[M.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.title}),M.jsx("p",{className:"text-lg font-semibold text-primary",children:$l(r.eventStartDateTime.toDate(),"eeee, MMMM d, yyyy")}),M.jsx("p",{className:"text-md text-dark-text-secondary mb-4",children:$l(r.eventStartDateTime.toDate(),"p")}),M.jsx("p",{className:"text-sm text-dark-text-secondary mb-4",children:r.description}),r.location&&M.jsx("a",{href:r.location,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Location"}),M.jsxs("div",{className:"mt-4 text-sm text-dark-text-secondary space-y-2",children:[M.jsxs("p",{children:[M.jsx(kE,{})," Registration opened: ",$l(r.registrationOpenDateTime.toDate(),"PP p")]}),M.jsxs("p",{children:[M.jsx(kE,{})," List reveals: ",$l(r.listRevealDateTime.toDate(),"PP p")]})]})]}),M.jsxs("div",{className:"md:w-2/3",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold",children:[M.jsx($M,{})," Participants",M.jsxs("span",{className:"text-dark-text-secondary text-lg",children:["(",r.participants.length," / ",r.spots,")"]})]}),E&&(g?M.jsx(ni,{variant:"danger",onClick:j,isLoading:s,children:"Resign"}):M.jsxs("div",{className:"flex gap-2 items-center",children:[m&&M.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[M.jsx("input",{id:"organizer-checkbox",type:"checkbox",className:"form-checkbox bg-dark-bg border-dark-border text-primary focus:ring-primary"}),M.jsx("span",{children:"Organizer?"})]}),M.jsx(ni,{variant:"secondary",onClick:()=>m?x():p(!0),isLoading:s,children:m?"Confirm Registration":"Register"})]}))]}),w?M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M.jsxs("div",{children:[M.jsxs("h4",{className:"font-bold text-secondary mb-2",children:["✅ Confirmed List (",b.length,"/",r.spots,")"]}),M.jsx("ul",{className:"divide-y divide-dark-border",children:b.map(G)})]}),M.jsxs("div",{children:[M.jsxs("h4",{className:"font-bold text-warning mb-2",children:["⏳ Waiting List (",D.length,")"]}),D.length>0?M.jsx("ul",{className:"divide-y divide-dark-border",children:D.map((H,$)=>G(H,$+r.spots))}):M.jsx("p",{className:"text-sm text-dark-text-secondary italic",children:"Waiting list is empty."})]})]}):M.jsxs("div",{children:[M.jsxs("p",{className:"text-center text-dark-text-secondary bg-dark-bg p-4 rounded-md",children:["The participant list will be sorted and revealed on ",M.jsx("br",{}),M.jsx("span",{className:"font-semibold text-dark-text",children:$l(r.listRevealDateTime.toDate(),"MMMM d, yyyy 'at' p")})]}),M.jsxs("h4",{className:"font-bold text-white mt-4 mb-2",children:["Registered (",r.participants.length,")"]}),M.jsx("ul",{className:"divide-y divide-dark-border max-h-48 overflow-y-auto",children:r.participants.map((H,$)=>M.jsxs("li",{className:"flex items-center gap-3 py-2",children:[M.jsx("img",{src:H.photoURL,alt:H.displayName,className:"w-8 h-8 rounded-full"}),M.jsx("span",{children:H.displayName}),H.isOrganizer&&M.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},H.uid))})]})]})]})},WM=()=>{const{groupId:r}=nA(),{user:e,userProfile:t}=ca(),[s,o]=z.useState(null),[u,f]=z.useState([]),[m,p]=z.useState(!0),[g,E]=z.useState(!1),[w,b]=z.useState(!1),D=(s==null?void 0:s.ownerUids.includes((e==null?void 0:e.uid)||""))||!1;z.useEffect(()=>{if(!r)return;(async()=>{const $=vu(ei,"groups",r),re=await Iw($);re.exists()?o({id:re.id,...re.data()}):an.error("Group not found.")})();const G=Sw(ou(ei,"eventInstances"),jN("groupId","==",r),zN("eventStartDateTime","asc")),H=xw(G,$=>{const re=[];$.forEach(fe=>{re.push({id:fe.id,...fe.data()})}),f(re),p(!1)},$=>{console.error("Error fetching events: ",$),an.error("Failed to load events."),p(!1)});return()=>H()},[r]);const x=async j=>{if(j.preventDefault(),!r||!D)return;b(!0);const G=new FormData(j.currentTarget),H=Object.fromEntries(G.entries());try{const $=new Date(`${H.eventStartDate}T${H.eventStartTime}`),re=new Date(`${H.regOpenDate}T${H.regOpenTime}`),fe=new Date(`${H.revealDate}T${H.revealTime}`),he=new Date(H.recurrenceEndDate),ve={groupId:r,title:H.title,description:H.description,location:H.location,spots:Number(H.spots),eventStartDateTime:je.fromDate($),registrationOpenDateTime:je.fromDate(re),listRevealDateTime:je.fromDate(fe),recurrence:{type:H.recurrenceType,value:Number(H.recurrenceValue)},recurrenceEndDate:je.fromDate(he)},P=await vp(ou(ei,"events"),{...ve,createdAt:Nw()});let A=$,R=re,O=fe;for(;A<=he;){const k={eventId:P.id,groupId:r,title:ve.title,description:ve.description,location:ve.location,spots:ve.spots,eventStartDateTime:je.fromDate(A),registrationOpenDateTime:je.fromDate(R),listRevealDateTime:je.fromDate(O),participants:[],participantsListProcessed:!1,attendanceProcessed:!1};await vp(ou(ei,"eventInstances"),k);const U={[ve.recurrence.type]:ve.recurrence.value};A=Bm(A,U),R=Bm(R,U),O=Bm(O,U)}an.success("Recurring event created successfully!"),E(!1)}catch($){console.error("Error creating event:",$),an.error("Failed to create event.")}finally{b(!1)}};return m?M.jsx("div",{className:"flex justify-center items-center h-64",children:M.jsx(Ag,{})}):M.jsxs("div",{children:[M.jsxs("div",{className:"mb-8",children:[M.jsx(Kh,{to:"/",className:"text-primary hover:underline",children:"← Back to Groups"}),M.jsxs("div",{className:"flex justify-between items-center mt-4",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-4xl font-bold",children:s==null?void 0:s.name}),M.jsx("p",{className:"text-dark-text-secondary mt-1",children:s==null?void 0:s.description})]}),D&&M.jsx(ni,{onClick:()=>E(!0),children:"Create New Event"})]})]}),M.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upcoming Events"}),M.jsx("div",{className:"space-y-6",children:u.length>0?u.map(j=>M.jsx(XM,{instance:j,userProfile:t},j.id)):M.jsxs("div",{className:"text-center py-10 bg-dark-surface rounded-lg",children:[M.jsx("p",{className:"text-dark-text-secondary",children:"No upcoming events scheduled for this group."}),D&&M.jsx("p",{className:"mt-2 text-sm text-dark-text-secondary",children:'Click "Create New Event" to get started.'})]})}),D&&M.jsx(Uw,{isOpen:g,onClose:()=>E(!1),title:"Create New Recurring Event",children:M.jsxs("form",{onSubmit:x,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[M.jsx("input",{name:"title",placeholder:"Event Title",required:!0,className:"input-style"}),M.jsx("textarea",{name:"description",placeholder:"Event Description",required:!0,className:"input-style",rows:3}),M.jsx("input",{name:"location",placeholder:"Location (e.g., Google Maps Link)",required:!0,className:"input-style"}),M.jsx("input",{name:"spots",type:"number",placeholder:"Available Spots",required:!0,min:"1",className:"input-style"}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"First Event Date"}),M.jsx("input",{name:"eventStartDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Event Time"}),M.jsx("input",{name:"eventStartTime",type:"time",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Registration Open Date"}),M.jsx("input",{name:"regOpenDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Registration Open Time"}),M.jsx("input",{name:"regOpenTime",type:"time",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"List Reveal Date"}),M.jsx("input",{name:"revealDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"List Reveal Time"}),M.jsx("input",{name:"revealTime",type:"time",required:!0,className:"input-style"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Recurrence"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{children:"Every"}),M.jsx("input",{name:"recurrenceValue",type:"number",min:"1",defaultValue:"1",required:!0,className:"input-style w-20"}),M.jsxs("select",{name:"recurrenceType",required:!0,className:"input-style",children:[M.jsx("option",{value:"days",children:"Day(s)"}),M.jsx("option",{value:"weeks",children:"Week(s)"}),M.jsx("option",{value:"months",children:"Month(s)"})]})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Recurrence End Date"}),M.jsx("input",{name:"recurrenceEndDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[M.jsx(ni,{type:"button",variant:"ghost",onClick:()=>E(!1),children:"Cancel"}),M.jsx(ni,{type:"submit",isLoading:w,children:"Create Events"})]}),M.jsx("style",{children:`
                        .input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                        .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }
                    `})]})})]})},ZM=()=>{const{user:r,userProfile:e}=ca(),t=Tu(),s=async()=>{try{await bC(Sg),an.success("Signed out successfully"),t("/login")}catch(o){console.error("Error signing out: ",o),an.error("Failed to sign out")}};return M.jsx("nav",{className:"bg-dark-surface shadow-md",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsxs("div",{className:"flex justify-between items-center py-3",children:[M.jsx(Kh,{to:"/",className:"text-xl font-bold text-primary flex items-center gap-2",children:"🏆 FairPlay Scheduler"}),r&&e&&M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-8 h-8 rounded-full"}),M.jsx("span",{className:"text-sm font-medium text-dark-text-secondary hidden sm:block",children:e.displayName})]}),M.jsx("button",{onClick:s,className:"bg-danger text-white px-3 py-1.5 rounded-md text-sm font-semibold hover:bg-red-600 transition-colors",children:"Logout"})]})]})})})},LE=({children:r})=>M.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[M.jsx(ZM,{}),M.jsx("main",{className:"container mx-auto px-4 py-8",children:r})]}),UE=({children:r})=>{var s;const{user:e,loading:t}=ca();return t?M.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-dark-bg",children:M.jsx(Ag,{})}):e?(s=e.email)!=null&&s.endsWith("@google.com")?M.jsx(M.Fragment,{children:r}):M.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-dark-bg text-red-500",children:[M.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),M.jsx("p",{children:"This application is restricted to @google.com users only."}),M.jsx("p",{children:"Please sign in with a valid Google corporate account."})]}):M.jsx($E,{to:"/login",replace:!0})},JM=()=>{z.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const{user:r,loading:e}=ca();return M.jsx(BA,{children:M.jsxs(yA,{children:[M.jsx(Xl,{path:"/login",element:M.jsx(jO,{})}),M.jsx(Xl,{path:"/",element:M.jsx(UE,{children:M.jsx(LE,{children:M.jsx(zO,{})})})}),M.jsx(Xl,{path:"/group/:groupId",element:M.jsx(UE,{children:M.jsx(LE,{children:M.jsx(WM,{})})})}),M.jsx(Xl,{path:"*",element:M.jsx($E,{to:r&&!e?"/":"/login"})})]})})},Hw=document.getElementById("root");if(!Hw)throw new Error("Could not find root element to mount to");const e4=AS.createRoot(Hw);e4.render(M.jsx(yS.StrictMode,{children:M.jsxs(KN,{children:[M.jsx(JM,{}),M.jsx(UO,{position:"bottom-right",toastOptions:{className:"dark:bg-dark-surface dark:text-dark-text",style:{background:"#333",color:"#fff"}}})]})}));
