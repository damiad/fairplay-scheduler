(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function KE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function y1(){if(Q_)return Yl;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=t,Yl.jsxs=t,Yl}var $_;function v1(){return $_||($_=1,xm.exports=y1()),xm.exports}var A=v1(),Dm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function _1(){if(K_)return Re;K_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function B(O,ne,le){this.props=O,this.context=ne,this.refs=U,this.updater=le||D}B.prototype.isReactComponent={},B.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function K(O,ne,le){this.props=O,this.context=ne,this.refs=U,this.updater=le||D}var re=K.prototype=new Q;re.constructor=K,N(re,B.prototype),re.isPureReactComponent=!0;var he=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function M(O,ne,le,se,ge,De){return le=De.ref,{$$typeof:r,type:O,key:ne,ref:le!==void 0?le:null,props:De}}function R(O,ne){return M(O.type,ne,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ne[le]})}var L=/\/+/g;function z(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):ne.toString(36)}function x(){}function jt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ut(O,ne,le,se,ge){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(De){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case _:return we=O._init,ut(we(O._payload),ne,le,se,ge)}}if(we)return ge=ge(O),we=se===""?"."+z(O,0):se,he(ge)?(le="",we!=null&&(le=we.replace(L,"$&/")+"/"),ut(ge,ne,le,"",function(nr){return nr})):ge!=null&&(I(ge)&&(ge=R(ge,le+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+we)),ne.push(ge)),1;we=0;var Nt=se===""?".":se+":";if(he(O))for(var tt=0;tt<O.length;tt++)se=O[tt],De=Nt+z(se,tt),we+=ut(se,ne,le,De,ge);else if(tt=T(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(se=O.next()).done;)se=se.value,De=Nt+z(se,tt++),we+=ut(se,ne,le,De,ge);else if(De==="object"){if(typeof O.then=="function")return ut(jt(O),ne,le,se,ge);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(O,ne,le){if(O==null)return O;var se=[],ge=0;return ut(O,se,"","",function(De){return ne.call(le,De,ge++)}),se}function oe(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Re.Children={map:X,forEach:function(O,ne,le){X(O,function(){ne.apply(this,arguments)},le)},count:function(O){var ne=0;return X(O,function(){ne++}),ne},toArray:function(O){return X(O,function(ne){return ne})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=B,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=K,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ie.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ne,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=N({},O.props),ge=O.key,De=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ye.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(se[we]=ne[we]);var we=arguments.length-2;if(we===1)se.children=le;else if(1<we){for(var Nt=Array(we),tt=0;tt<we;tt++)Nt[tt]=arguments[tt+2];se.children=Nt}return M(O.type,ge,void 0,void 0,De,se)},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ne,le){var se,ge={},De=null;if(ne!=null)for(se in ne.key!==void 0&&(De=""+ne.key),ne)ye.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=ne[se]);var we=arguments.length-2;if(we===1)ge.children=le;else if(1<we){for(var Nt=Array(we),tt=0;tt<we;tt++)Nt[tt]=arguments[tt+2];ge.children=Nt}if(O&&O.defaultProps)for(se in we=O.defaultProps,we)ge[se]===void 0&&(ge[se]=we[se]);return M(O,De,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=I,Re.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:oe}},Re.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Re.startTransition=function(O){var ne=ie.T,le={};ie.T=le;try{var se=O(),ge=ie.S;ge!==null&&ge(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,me)}catch(De){me(De)}finally{ie.T=ne}},Re.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Re.use=function(O){return ie.H.use(O)},Re.useActionState=function(O,ne,le){return ie.H.useActionState(O,ne,le)},Re.useCallback=function(O,ne){return ie.H.useCallback(O,ne)},Re.useContext=function(O){return ie.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ne){return ie.H.useDeferredValue(O,ne)},Re.useEffect=function(O,ne,le){var se=ie.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,ne)},Re.useId=function(){return ie.H.useId()},Re.useImperativeHandle=function(O,ne,le){return ie.H.useImperativeHandle(O,ne,le)},Re.useInsertionEffect=function(O,ne){return ie.H.useInsertionEffect(O,ne)},Re.useLayoutEffect=function(O,ne){return ie.H.useLayoutEffect(O,ne)},Re.useMemo=function(O,ne){return ie.H.useMemo(O,ne)},Re.useOptimistic=function(O,ne){return ie.H.useOptimistic(O,ne)},Re.useReducer=function(O,ne,le){return ie.H.useReducer(O,ne,le)},Re.useRef=function(O){return ie.H.useRef(O)},Re.useState=function(O){return ie.H.useState(O)},Re.useSyncExternalStore=function(O,ne,le){return ie.H.useSyncExternalStore(O,ne,le)},Re.useTransition=function(){return ie.H.useTransition()},Re.version="19.1.0",Re}var X_;function Cp(){return X_||(X_=1,Dm.exports=_1()),Dm.exports}var P=Cp();const E1=KE(P);var Nm={exports:{}},Ql={},Om={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function T1(){return W_||(W_=1,function(r){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var Be=me-1>>>1,O=X[Be];if(0<o(O,oe))X[Be]=oe,X[me]=O,me=Be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var Be=0,O=X.length,ne=O>>>1;Be<ne;){var le=2*(Be+1)-1,se=X[le],ge=le+1,De=X[ge];if(0>o(se,me))ge<O&&0>o(De,se)?(X[Be]=De,X[ge]=me,Be=ge):(X[Be]=se,X[le]=me,Be=le);else if(ge<O&&0>o(De,me))X[Be]=De,X[ge]=me,Be=ge;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,w=null,T=3,D=!1,N=!1,U=!1,B=!1,Q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function ie(X){if(U=!1,he(X),!N)if(t(p)!==null)N=!0,ye||(ye=!0,z());else{var oe=t(g);oe!==null&&ut(ie,oe.startTime-X)}}var ye=!1,M=-1,R=5,I=-1;function V(){return B?!0:!(r.unstable_now()-I<R)}function L(){if(B=!1,ye){var X=r.unstable_now();I=X;var oe=!0;try{e:{N=!1,U&&(U=!1,K(M),M=-1),D=!0;var me=T;try{t:{for(he(X),w=t(p);w!==null&&!(w.expirationTime>X&&V());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,T=w.priorityLevel;var O=Be(w.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){w.callback=O,he(X),oe=!0;break t}w===t(p)&&s(p),he(X)}else s(p);w=t(p)}if(w!==null)oe=!0;else{var ne=t(g);ne!==null&&ut(ie,ne.startTime-X),oe=!1}}break e}finally{w=null,T=me,D=!1}oe=void 0}}finally{oe?z():ye=!1}}}var z;if(typeof re=="function")z=function(){re(L)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,jt=x.port2;x.port1.onmessage=L,z=function(){jt.postMessage(null)}}else z=function(){Q(L,0)};function ut(X,oe){M=Q(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var me=T;T=oe;try{return X()}finally{T=me}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=T;T=X;try{return oe()}finally{T=me}},r.unstable_scheduleCallback=function(X,oe,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,X={id:_++,callback:oe,priorityLevel:X,startTime:me,expirationTime:O,sortIndex:-1},me>Be?(X.sortIndex=me,e(g,X),t(p)===null&&X===t(g)&&(U?(K(M),M=-1):U=!0,ut(ie,me-Be))):(X.sortIndex=O,e(p,X),N||D||(N=!0,ye||(ye=!0,z()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var oe=T;return function(){var me=T;T=oe;try{return X.apply(this,arguments)}finally{T=me}}}}(Mm)),Mm}var Z_;function b1(){return Z_||(Z_=1,Om.exports=T1()),Om.exports}var Vm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function w1(){if(J_)return Wt;J_=1;var r=Cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Wt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:D}):_==="script"&&s.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var e0;function S1(){if(e0)return Vm.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vm.exports=w1(),Vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function A1(){if(t0)return Ql;t0=1;var r=b1(),e=Cp(),t=S1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),re=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function jt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case ie:return"Suspense";case ye:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case re:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case he:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:jt(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return jt(n(i))}catch{}}return null}var ut=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function ne(n){return{current:n}}function le(n){0>O||(n.current=Be[O],Be[O]=null,O--)}function se(n,i){O++,Be[O]=n.current,n.current=i}var ge=ne(null),De=ne(null),we=ne(null),Nt=ne(null);function tt(n,i){switch(se(we,i),se(De,n),se(ge,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?T_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=T_(i),n=b_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ge),se(ge,n)}function nr(){le(ge),le(De),le(we)}function pi(n){n.memoizedState!==null&&se(Nt,n);var i=ge.current,a=b_(i,n.type);i!==a&&(se(De,n),se(ge,a))}function Ir(n){De.current===n&&(le(ge),le(De)),Nt.current===n&&(le(Nt),Bl._currentValue=me)}var ms=Object.prototype.hasOwnProperty,ps=r.unstable_scheduleCallback,gs=r.unstable_cancelCallback,Uo=r.unstable_shouldYield,Vu=r.unstable_requestPaint,Rn=r.unstable_now,xf=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,ga=r.unstable_UserBlockingPriority,ys=r.unstable_NormalPriority,Df=r.unstable_LowPriority,ya=r.unstable_IdlePriority,zo=r.log,ku=r.unstable_setDisableYieldValue,ct=null,Ge=null;function gn(n){if(typeof zo=="function"&&ku(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ct,n)}catch{}}var Kt=Math.clz32?Math.clz32:vs,Pu=Math.log,Nf=Math.LN2;function vs(n){return n>>>=0,n===0?32:31-(Pu(n)/Nf|0)|0}var _s=256,Es=4194304;function Hn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function va(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Hn(l):(E&=b,E!==0?f=Hn(E):a||(a=b&~n,a!==0&&(f=Hn(a))))):(b=l&~d,b!==0?f=Hn(b):E!==0?f=Hn(E):a||(a=l&~n,a!==0&&(f=Hn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Ts(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Bo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var n=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),n}function Ho(){var n=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),n}function Cr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function xr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fo(n,i,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,C=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Kt(a),ee=1<<W;b[W]=0,C[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&rr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function rr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Kt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Go(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Kt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function gi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _a(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yi(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:B_(n.type))}function Lu(n,i){var a=oe.p;try{return oe.p=n,i()}finally{oe.p=a}}var it=Math.random().toString(36).slice(2),At="__reactFiber$"+it,vt="__reactProps$"+it,In="__reactContainer$"+it,Yo="__reactEvents$"+it,Of="__reactListeners$"+it,vi="__reactHandles$"+it,Uu="__reactResources$"+it,bs="__reactMarker$"+it;function _i(n){delete n[At],delete n[vt],delete n[Yo],delete n[Of],delete n[vi]}function Dr(n){var i=n[At];if(i)return i;for(var a=n.parentNode;a;){if(i=a[In]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=R_(n);n!==null;){if(a=n[At])return a;n=R_(n)}return i}n=a,a=n.parentNode}return null}function ir(n){if(n=n[At]||n[In]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function nn(n){var i=n[Uu];return i||(i=n[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(n){n[bs]=!0}var Qo=new Set,Ea={};function Fn(n,i){Nr(n,i),Nr(n+"Capture",i)}function Nr(n,i){for(Ea[n]=i,n=0;n<i.length;n++)Qo.add(i[n])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},ws={};function Bu(n){return ms.call(ws,n)?!0:ms.call(zu,n)?!1:ju.test(n)?ws[n]=!0:(zu[n]=!0,!1)}function Ei(n,i,a){if(Bu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ar(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function zt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Ss,qu;function Or(n){if(Ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ss=i&&i[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+n+qu}var Ta=!1;function ba(n,i){if(!n||Ta)return"";Ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Y){G=Y}n.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var C=E.split(`
`),F=b.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===F.length)for(l=C.length-1,f=F.length-1;1<=l&&0<=f&&C[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==F[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Or(a):""}function $o(n){switch(n.tag){case 26:case 27:case 5:return Or(n.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return ba(n.type,!1);case 11:return ba(n.type.render,!1);case 1:return ba(n.type,!0);case 31:return Or("Activity");default:return""}}function wa(n){try{var i="";do i+=$o(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ko(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mf(n){var i=Ko(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Sa(n){n._valueTracker||(n._valueTracker=Mf(n))}function Xo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Ko(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function As(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vf=/[\n"\\]/g;function _t(n){return n.replace(Vf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yn(n,i,a,l,f,d,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+rn(i)):n.value!==""+rn(i)&&(n.value=""+rn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ti(n,E,rn(i)):a!=null?Ti(n,E,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+rn(b):n.removeAttribute("name")}function Rs(n,i,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,b||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ti(n,i,a){i==="number"&&As(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Xe(n,i,a){if(i!=null&&(i=""+rn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+rn(a):""}function Is(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Cn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Cs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Wo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Hu(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(n,d,i[d])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(n){return Pf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vr=null;function xn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kr=null,Pr=null;function Jo(n){var i=ir(n);if(i&&(n=i.stateNode)){var a=n[vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(yn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[vt]||null;if(!f)throw Error(s(90));yn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Xo(l)}break e;case"textarea":Xe(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mr(n,!!a.multiple,i,!1)}}}var or=!1;function Fu(n,i,a){if(or)return n(i,a);or=!0;try{var l=n(i);return l}finally{if(or=!1,(kr!==null||Pr!==null)&&(Lc(),kr&&(i=kr,n=Pr,Pr=kr=null,Jo(i),n)))for(i=0;i<n.length;i++)Jo(n[i])}}function xs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Dn=!1}var lr=null,bi=null,Lr=null;function el(){if(Lr)return Lr;var n,i=bi,a=i.length,l,f="value"in lr?lr.value:lr.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===f[d-l];l++);return Lr=f.slice(n,1<l?1-l:void 0)}function ur(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function cr(){return!0}function tl(){return!1}function Ot(n){function i(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?cr:tl,this.isPropagationStopped=tl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Ot(He),Ns=_({},He,{view:0,detail:0}),Gu=Ot(Ns),Ia,Ca,hr,Os=_({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hr&&(hr&&n.type==="mousemove"?(Ia=n.screenX-hr.screenX,Ca=n.screenY-hr.screenY):Ca=Ia=0,hr=n),Ia)},movementY:function(n){return"movementY"in n?n.movementY:Ca}}),Nn=Ot(Os),Yu=_({},Os,{dataTransfer:0}),Lf=Ot(Yu),Ms=_({},Ns,{relatedTarget:0}),xa=Ot(Ms),nl=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Ot(nl),Qu=_({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Na=Ot(Qu),Uf=_({},He,{data:0}),rl=Ot(Uf),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ku[n])?!!i[n]:!1}function ks(){return il}var Xu=_({},Ns,{key:function(n){if(n.key){var i=Vs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ur(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$u[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(n){return n.type==="keypress"?ur(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ur(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oa=Ot(Xu),Wu=_({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Ot(Wu),Ur=_({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),Zu=Ot(Ur),Ju=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Ot(Ju),tc=_({},Os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Ot(tc),sn=_({},He,{newState:0,oldState:0}),nc=Ot(sn),rc=[9,13,27,32],fr=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,v=Gn&&(!fr||c&&8<c&&11>=c),S=" ",q=!1;function $(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function Rt(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(q=!0,S);case"textInput":return n=i.data,n===S&&q?null:n;default:return null}}function Le(n,i){if(Pe)return n==="compositionend"||!fr&&$(n,i)?(n=el(),Lr=bi=lr=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Mt[n.type]:i==="textarea"}function jr(n,i,a,l){kr?Pr?Pr.push(l):Pr=[l]:kr=l,i=Hc(i,"onChange"),0<i.length&&(a=new Ra("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Bt=null,dr=null;function al(n){g_(n,0)}function ic(n){var i=sr(n);if(Xo(i))return n}function Lg(n,i){if(n==="change")return i}var Ug=!1;if(Gn){var jf;if(Gn){var zf="oninput"in document;if(!zf){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),zf=typeof jg.oninput=="function"}jf=zf}else jf=!1;Ug=jf&&(!document.documentMode||9<document.documentMode)}function zg(){Bt&&(Bt.detachEvent("onpropertychange",Bg),dr=Bt=null)}function Bg(n){if(n.propertyName==="value"&&ic(dr)){var i=[];jr(i,dr,n,xn(n)),Fu(al,i)}}function Qw(n,i,a){n==="focusin"?(zg(),Bt=i,dr=a,Bt.attachEvent("onpropertychange",Bg)):n==="focusout"&&zg()}function $w(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(dr)}function Kw(n,i){if(n==="click")return ic(i)}function Xw(n,i){if(n==="input"||n==="change")return ic(i)}function Ww(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:Ww;function ol(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ms.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function qg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hg(n,i){var a=qg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qg(a)}}function Fg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Fg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Gg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=As(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=As(n.document)}return i}function Bf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Zw=Gn&&"documentMode"in document&&11>=document.documentMode,Va=null,qf=null,ll=null,Hf=!1;function Yg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||Va==null||Va!==As(l)||(l=Va,"selectionStart"in l&&Bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Hc(qf,"onSelect"),0<l.length&&(i=new Ra("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Va)))}function Ps(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ka={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Ff={},Qg={};Gn&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Ls(n){if(Ff[n])return Ff[n];if(!ka[n])return n;var i=ka[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qg)return Ff[n]=i[a];return n}var $g=Ls("animationend"),Kg=Ls("animationiteration"),Xg=Ls("animationstart"),Jw=Ls("transitionrun"),eS=Ls("transitionstart"),tS=Ls("transitioncancel"),Wg=Ls("transitionend"),Zg=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function Yn(n,i){Zg.set(n,i),Fn(i,[n])}var Jg=new WeakMap;function On(n,i){if(typeof n=="object"&&n!==null){var a=Jg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:wa(i)},Jg.set(n,i),i)}return{value:n,source:i,stack:wa(i)}}var Mn=[],Pa=0,Yf=0;function sc(){for(var n=Pa,i=Yf=Pa=0;i<n;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&ey(a,f,d)}}function ac(n,i,a,l){Mn[Pa++]=n,Mn[Pa++]=i,Mn[Pa++]=a,Mn[Pa++]=l,Yf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Qf(n,i,a,l){return ac(n,i,a,l),oc(n)}function La(n,i){return ac(n,null,null,i),oc(n)}function ey(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-Kt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(n){if(50<Ml)throw Ml=0,Jd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ua={};function nS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,l){return new nS(n,i,a,l)}function $f(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zr(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ty(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lc(n,i,a,l,f,d){var E=0;if(l=n,typeof n=="function")$f(n)&&(E=1);else if(typeof n=="string")E=i1(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=_n(31,a,i,f),n.elementType=I,n.lanes=d,n;case N:return Us(a.children,f,d,i);case U:E=8,f|=24;break;case B:return n=_n(12,a,i,f|2),n.elementType=B,n.lanes=d,n;case ie:return n=_n(13,a,i,f),n.elementType=ie,n.lanes=d,n;case ye:return n=_n(19,a,i,f),n.elementType=ye,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case re:E=10;break e;case K:E=9;break e;case he:E=11;break e;case M:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=_n(E,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Us(n,i,a,l){return n=_n(7,n,l,i),n.lanes=a,n}function Kf(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Xf(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ja=[],za=0,uc=null,cc=0,Vn=[],kn=0,js=null,Br=1,qr="";function zs(n,i){ja[za++]=cc,ja[za++]=uc,uc=n,cc=i}function ny(n,i,a){Vn[kn++]=Br,Vn[kn++]=qr,Vn[kn++]=js,js=n;var l=Br;n=qr;var f=32-Kt(l)-1;l&=~(1<<f),a+=1;var d=32-Kt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Br=1<<32-Kt(i)+f|a<<f|l,qr=d+n}else Br=1<<d|a<<f|l,qr=n}function Wf(n){n.return!==null&&(zs(n,1),ny(n,1,0))}function Zf(n){for(;n===uc;)uc=ja[--za],ja[za]=null,cc=ja[--za],ja[za]=null;for(;n===js;)js=Vn[--kn],Vn[kn]=null,qr=Vn[--kn],Vn[kn]=null,Br=Vn[--kn],Vn[kn]=null}var an=null,ht=null,qe=!1,Bs=null,mr=!1,Jf=Error(s(519));function qs(n){var i=Error(s(418,""));throw hl(On(i,n)),Jf}function ry(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[At]=n,i[vt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)Me(kl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Is(i,l.value,l.defaultValue,l.children),Sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||qs(n)}function iy(n){for(an=n.return;an;)switch(an.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:an=an.return}}function ul(n){if(n!==an)return!1;if(!qe)return iy(n),qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||pm(n.type,n.memoizedProps)),a=!a),a&&ht&&qs(n),iy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ht=$n(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ht=null}}else i===27?(i=ht,Ui(n.type)?(n=_m,_m=null,ht=n):ht=i):ht=an?$n(n.stateNode.nextSibling):null;return!0}function cl(){ht=an=null,qe=!1}function sy(){var n=Bs;return n!==null&&(hn===null?hn=n:hn.push.apply(hn,n),Bs=null),n}function hl(n){Bs===null?Bs=[n]:Bs.push(n)}var ed=ne(null),Hs=null,Hr=null;function wi(n,i,a){se(ed,i._currentValue),i._currentValue=a}function Fr(n){n._currentValue=ed.current,le(ed)}function td(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function nd(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),td(d.return,a,n),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),td(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function fl(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;vn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Nt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Bl):n=[Bl])}f=f.return}n!==null&&nd(i,n,a,l),i.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fs(n){Hs=n,Hr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return ay(Hs,n)}function fc(n,i){return Hs===null&&Fs(n),ay(n,i)}function ay(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hr===null){if(n===null)throw Error(s(308));Hr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Hr=Hr.next=i;return a}var rS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},iS=r.unstable_scheduleCallback,sS=r.unstable_NormalPriority,Ct={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new rS,data:new Map,refCount:0}}function dl(n){n.refCount--,n.refCount===0&&iS(sS,function(){n.controller.abort()})}var ml=null,id=0,Ba=0,qa=null;function aS(n,i){if(ml===null){var a=ml=[];id=0,Ba=am(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return id++,i.then(oy,oy),i}function oy(){if(--id===0&&ml!==null){qa!==null&&(qa.status="fulfilled");var n=ml;ml=null,Ba=0,qa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function oS(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ly=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&aS(n,i),ly!==null&&ly(n,i)};var Gs=ne(null);function sd(){var n=Gs.current;return n!==null?n:nt.pooledCache}function dc(n,i){i===null?se(Gs,Gs.current):se(Gs,i.pool)}function uy(){var n=sd();return n===null?null:{parent:Ct._currentValue,pool:n}}var pl=Error(s(460)),cy=Error(s(474)),mc=Error(s(542)),ad={then:function(){}};function hy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function fy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(pc,pc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,my(n),n;default:if(typeof i.status=="string")i.then(pc,pc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,my(n),n}throw gl=i,pl}}var gl=null;function dy(){if(gl===null)throw Error(s(459));var n=gl;return gl=null,n}function my(n){if(n===pl||n===mc)throw Error(s(483))}var Si=!1;function od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ai(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ri(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=oc(n),ey(n,null,a),i}return ac(n,l,i,a),oc(n)}function yl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Go(n,a)}}function ud(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var cd=!1;function vl(){if(cd){var n=qa;if(n!==null)throw n}}function _l(n,i,a,l){cd=!1;var f=n.updateQueue;Si=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,F=C.next;C.next=null,E===null?d=F:E.next=F,E=C;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=F:b.next=F,W.lastBaseUpdate=C))}if(d!==null){var ee=f.baseState;E=0,W=F=C=null,b=d;do{var G=b.lane&-536870913,Y=G!==b.lane;if(Y?(Ue&G)===G:(l&G)===G){G!==0&&G===Ba&&(cd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=n,ve=b;G=i;var Je=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){ee=Te.call(Je,ee,G);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,G=typeof Te=="function"?Te.call(Je,ee,G):Te,G==null)break e;ee=_({},ee,G);break e;case 2:Si=!0}}G=b.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(F=W=Y,C=ee):W=W.next=Y,E|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(C=ee),f.baseState=C,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Vi|=E,n.lanes=E,n.memoizedState=ee}}function py(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function gy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)py(a[n],i)}var Ha=ne(null),gc=ne(0);function yy(n,i){n=Wr,se(gc,n),se(Ha,i),Wr=n|i.baseLanes}function hd(){se(gc,Wr),se(Ha,Ha.current)}function fd(){Wr=gc.current,le(Ha),le(gc)}var Ii=0,Ie=null,We=null,Et=null,yc=!1,Fa=!1,Ys=!1,vc=0,El=0,Ga=null,lS=0;function pt(){throw Error(s(321))}function dd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!vn(n[a],i[a]))return!1;return!0}function md(n,i,a,l,f,d){return Ii=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?ev:tv,Ys=!1,d=a(l,f),Ys=!1,Fa&&(d=_y(i,a,l,f)),vy(n),d}function vy(n){X.H=Sc;var i=We!==null&&We.next!==null;if(Ii=0,Et=We=Ie=null,yc=!1,El=0,Ga=null,i)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&hc(n)&&(Vt=!0))}function _y(n,i,a,l){Ie=n;var f=0;do{if(Fa&&(Ga=null),El=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,Et=We=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=pS,d=i(a,l)}while(Fa);return d}function uS(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?Tl(i):i,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Ie.flags|=1024),i}function pd(){var n=vc!==0;return vc=0,n}function gd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function yd(n){if(yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yc=!1}Ii=0,Et=We=Ie=null,Fa=!1,El=vc=0,Ga=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(We===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var i=Et===null?Ie.memoizedState:Et.next;if(i!==null)Et=i,We=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?Ie.memoizedState=Et=n:Et=Et.next=n}return Et}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(n){var i=El;return El+=1,Ga===null&&(Ga=[]),n=fy(Ga,n,i),i=Ie,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?ev:tv),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tl(n);if(n.$$typeof===re)return Xt(n)}throw Error(s(438,String(n)))}function _d(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=V;return i.index++,a}function Gr(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=Tt();return Ed(i,We,n)}function Ed(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var b=E=null,C=null,F=i,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Ue&ee)===ee:(Ii&ee)===ee){var G=F.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ba&&(W=!0);else if((Ii&G)===G){F=F.next,G===Ba&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(b=C=ee,E=d):C=C.next=ee,Ie.lanes|=G,Vi|=G;ee=F.action,Ys&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(b=C=G,E=d):C=C.next=G,Ie.lanes|=ee,Vi|=ee;F=F.next}while(F!==null&&F!==i);if(C===null?E=d:C.next=b,!vn(d,n.memoizedState)&&(Vt=!0,W&&(a=qa,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Td(n){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);vn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ey(n,i,a){var l=Ie,f=Tt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!vn((We||f).memoizedState,a);E&&(f.memoizedState=a,Vt=!0),f=f.queue;var b=wy.bind(null,l,f,n);if(bl(2048,8,b,[n]),f.getSnapshot!==i||E||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Tc(),by.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||(Ii&124)!==0||Ty(l,i,a)}return a}function Ty(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=vd(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function by(n,i,a,l){i.value=a,i.getSnapshot=l,Sy(i)&&Ay(n)}function wy(n,i,a){return a(function(){Sy(i)&&Ay(n)})}function Sy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!vn(n,a)}catch{return!0}}function Ay(n){var i=La(n,2);i!==null&&Sn(i,n,2)}function bd(n){var i=un();if(typeof n=="function"){var a=n;if(n=a(),Ys){gn(!0);try{a()}finally{gn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:n},i}function Ry(n,i,a,l){return n.baseState=a,Ed(n,We,typeof l=="function"?l:Gr)}function cS(n,i,a,l,f){if(wc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=X.T,E={};X.T=E;try{var b=a(f,l),C=X.S;C!==null&&C(E,b),Cy(n,i,b)}catch(F){wd(n,i,F)}finally{X.T=d}}else try{d=a(f,l),Cy(n,i,d)}catch(F){wd(n,i,F)}}function Cy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xy(n,i,l)},function(l){return wd(n,i,l)}):xy(n,i,a)}function xy(n,i,a){i.status="fulfilled",i.value=a,Dy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Iy(n,a)))}function wd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dy(i),i=i.next;while(i!==l)}n.action=null}function Dy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ny(n,i){return i}function Oy(n,i){if(qe){var a=nt.formState;if(a!==null){e:{var l=Ie;if(qe){if(ht){t:{for(var f=ht,d=mr;f.nodeType!==8;){if(!d){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=$n(f.nextSibling),l=f.data==="F!";break e}}qs(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:i},a.queue=l,a=Wy.bind(null,Ie,l),l.dispatch=a,l=bd(!1),d=Cd.bind(null,Ie,!1,l.queue),l=un(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=cS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function My(n){var i=Tt();return Vy(i,We,n)}function Vy(n,i,a){if(i=Ed(n,i,Ny)[0],n=Ec(Gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Tl(i)}catch(E){throw E===pl?mc:E}else l=i;i=Tt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ya(9,Tc(),hS.bind(null,f,a),null)),[l,d,n]}function hS(n,i){n.action=i}function ky(n){var i=Tt(),a=We;if(a!==null)return Vy(i,a,n);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ya(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=vd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function Py(){return Tt().memoizedState}function bc(n,i,a,l){var f=un();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=Ya(1|i,Tc(),a,l)}function bl(n,i,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&dd(l,We.memoizedState.deps)?f.memoizedState=Ya(i,d,a,l):(Ie.flags|=n,f.memoizedState=Ya(1|i,d,a,l))}function Ly(n,i){bc(8390656,8,n,i)}function Uy(n,i){bl(2048,8,n,i)}function jy(n,i){return bl(4,2,n,i)}function zy(n,i){return bl(4,4,n,i)}function By(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function qy(n,i,a){a=a!=null?a.concat([n]):null,bl(4,4,By.bind(null,i,n),a)}function Sd(){}function Hy(n,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&dd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Fy(n,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&dd(i,l[1]))return l[0];if(l=n(),Ys){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,i],l}function Ad(n,i,a){return a===void 0||(Ii&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Qv(),Ie.lanes|=n,Vi|=n,a)}function Gy(n,i,a,l){return vn(a,i)?a:Ha.current!==null?(n=Ad(n,a,l),vn(n,i)||(Vt=!0),n):(Ii&42)===0?(Vt=!0,n.memoizedState=a):(n=Qv(),Ie.lanes|=n,Vi|=n,i)}function Yy(n,i,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=X.T,b={};X.T=b,Cd(n,!1,i,a);try{var C=f(),F=X.S;if(F!==null&&F(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=oS(C,l);wl(n,i,W,wn(n))}else wl(n,i,l,wn(n))}catch(ee){wl(n,i,{then:function(){},status:"rejected",reason:ee},wn())}finally{oe.p=d,X.T=E}}function fS(){}function Rd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=Qy(n).queue;Yy(n,f,i,me,a===null?fS:function(){return $y(n),a(l)})}function Qy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function $y(n){var i=Qy(n).next.queue;wl(n,i,{},wn())}function Id(){return Xt(Bl)}function Ky(){return Tt().memoizedState}function Xy(){return Tt().memoizedState}function dS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();n=Ai(a);var l=Ri(i,n,a);l!==null&&(Sn(l,i,a),yl(l,i,a)),i={cache:rd()},n.payload=i;return}i=i.return}}function mS(n,i,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?Zy(i,a):(a=Qf(n,i,a,l),a!==null&&(Sn(a,n,l),Jy(a,i,l)))}function Wy(n,i,a){var l=wn();wl(n,i,a,l)}function wl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))Zy(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,vn(b,E))return ac(n,i,f,0),nt===null&&sc(),!1}catch{}finally{}if(a=Qf(n,i,f,l),a!==null)return Sn(a,n,l),Jy(a,i,l),!0}return!1}function Cd(n,i,a,l){if(l={lane:2,revertLane:am(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(s(479))}else i=Qf(n,a,l,2),i!==null&&Sn(i,n,2)}function wc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function Zy(n,i){Fa=yc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Jy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Go(n,a)}}var Sc={readContext:Xt,use:_c,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},ev={readContext:Xt,use:_c,useCallback:function(n,i){return un().memoizedState=[n,i===void 0?null:i],n},useContext:Xt,useEffect:Ly,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,bc(4194308,4,By.bind(null,i,n),a)},useLayoutEffect:function(n,i){return bc(4194308,4,n,i)},useInsertionEffect:function(n,i){bc(4,2,n,i)},useMemo:function(n,i){var a=un();i=i===void 0?null:i;var l=n();if(Ys){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=un();if(a!==void 0){var f=a(i);if(Ys){gn(!0);try{a(i)}finally{gn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=mS.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=un();return n={current:n},i.memoizedState=n},useState:function(n){n=bd(n);var i=n.queue,a=Wy.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(n,i){var a=un();return Ad(a,n,i)},useTransition:function(){var n=bd(!1);return n=Yy.bind(null,Ie,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,f=un();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ue&124)!==0||Ty(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ly(wy.bind(null,l,d,n),[n]),l.flags|=2048,Ya(9,Tc(),by.bind(null,l,d,a,i),null),a},useId:function(){var n=un(),i=nt.identifierPrefix;if(qe){var a=qr,l=Br;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=lS++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Id,useFormState:Oy,useActionState:Oy,useOptimistic:function(n){var i=un();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cd.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:_d,useCacheRefresh:function(){return un().memoizedState=dS.bind(null,Ie)}},tv={readContext:Xt,use:_c,useCallback:Hy,useContext:Xt,useEffect:Uy,useImperativeHandle:qy,useInsertionEffect:jy,useLayoutEffect:zy,useMemo:Fy,useReducer:Ec,useRef:Py,useState:function(){return Ec(Gr)},useDebugValue:Sd,useDeferredValue:function(n,i){var a=Tt();return Gy(a,We.memoizedState,n,i)},useTransition:function(){var n=Ec(Gr)[0],i=Tt().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:Ey,useId:Ky,useHostTransitionStatus:Id,useFormState:My,useActionState:My,useOptimistic:function(n,i){var a=Tt();return Ry(a,We,n,i)},useMemoCache:_d,useCacheRefresh:Xy},pS={readContext:Xt,use:_c,useCallback:Hy,useContext:Xt,useEffect:Uy,useImperativeHandle:qy,useInsertionEffect:jy,useLayoutEffect:zy,useMemo:Fy,useReducer:Td,useRef:Py,useState:function(){return Td(Gr)},useDebugValue:Sd,useDeferredValue:function(n,i){var a=Tt();return We===null?Ad(a,n,i):Gy(a,We.memoizedState,n,i)},useTransition:function(){var n=Td(Gr)[0],i=Tt().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:Ey,useId:Ky,useHostTransitionStatus:Id,useFormState:ky,useActionState:ky,useOptimistic:function(n,i){var a=Tt();return We!==null?Ry(a,We,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Xy},Qa=null,Sl=0;function Ac(n){var i=Sl;return Sl+=1,Qa===null&&(Qa=[]),fy(Qa,n,i)}function Al(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rc(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function nv(n){var i=n._init;return i(n._payload)}function rv(n){function i(j,k){if(n){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function a(j,k){if(!n)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=zr(j,k),j.index=0,j.sibling=null,j}function d(j,k,H){return j.index=H,n?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function b(j,k,H,Z){return k===null||k.tag!==6?(k=Kf(H,j.mode,Z),k.return=j,k):(k=f(k,H),k.return=j,k)}function C(j,k,H,Z){var fe=H.type;return fe===N?W(j,k,H.props.children,Z,H.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&nv(fe)===k.type)?(k=f(k,H.props),Al(k,H),k.return=j,k):(k=lc(H.type,H.key,H.props,null,j.mode,Z),Al(k,H),k.return=j,k)}function F(j,k,H,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Xf(H,j.mode,Z),k.return=j,k):(k=f(k,H.children||[]),k.return=j,k)}function W(j,k,H,Z,fe){return k===null||k.tag!==7?(k=Us(H,j.mode,Z,fe),k.return=j,k):(k=f(k,H),k.return=j,k)}function ee(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Kf(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return H=lc(k.type,k.key,k.props,null,j.mode,H),Al(H,k),H.return=j,H;case D:return k=Xf(k,j.mode,H),k.return=j,k;case R:var Z=k._init;return k=Z(k._payload),ee(j,k,H)}if(ut(k)||z(k))return k=Us(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return ee(j,Ac(k),H);if(k.$$typeof===re)return ee(j,fc(j,k),H);Rc(j,k)}return null}function G(j,k,H,Z){var fe=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:b(j,k,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===fe?C(j,k,H,Z):null;case D:return H.key===fe?F(j,k,H,Z):null;case R:return fe=H._init,H=fe(H._payload),G(j,k,H,Z)}if(ut(H)||z(H))return fe!==null?null:W(j,k,H,Z,null);if(typeof H.then=="function")return G(j,k,Ac(H),Z);if(H.$$typeof===re)return G(j,k,fc(j,H),Z);Rc(j,H)}return null}function Y(j,k,H,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(H)||null,b(k,j,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return j=j.get(Z.key===null?H:Z.key)||null,C(k,j,Z,fe);case D:return j=j.get(Z.key===null?H:Z.key)||null,F(k,j,Z,fe);case R:var Ne=Z._init;return Z=Ne(Z._payload),Y(j,k,H,Z,fe)}if(ut(Z)||z(Z))return j=j.get(H)||null,W(k,j,Z,fe,null);if(typeof Z.then=="function")return Y(j,k,H,Ac(Z),fe);if(Z.$$typeof===re)return Y(j,k,H,fc(k,Z),fe);Rc(k,Z)}return null}function Te(j,k,H,Z){for(var fe=null,Ne=null,de=k,_e=k=0,Pt=null;de!==null&&_e<H.length;_e++){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var ze=G(j,de,H[_e],Z);if(ze===null){de===null&&(de=Pt);break}n&&de&&ze.alternate===null&&i(j,de),k=d(ze,k,_e),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze,de=Pt}if(_e===H.length)return a(j,de),qe&&zs(j,_e),fe;if(de===null){for(;_e<H.length;_e++)de=ee(j,H[_e],Z),de!==null&&(k=d(de,k,_e),Ne===null?fe=de:Ne.sibling=de,Ne=de);return qe&&zs(j,_e),fe}for(de=l(de);_e<H.length;_e++)Pt=Y(de,j,_e,H[_e],Z),Pt!==null&&(n&&Pt.alternate!==null&&de.delete(Pt.key===null?_e:Pt.key),k=d(Pt,k,_e),Ne===null?fe=Pt:Ne.sibling=Pt,Ne=Pt);return n&&de.forEach(function(Hi){return i(j,Hi)}),qe&&zs(j,_e),fe}function ve(j,k,H,Z){if(H==null)throw Error(s(151));for(var fe=null,Ne=null,de=k,_e=k=0,Pt=null,ze=H.next();de!==null&&!ze.done;_e++,ze=H.next()){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var Hi=G(j,de,ze.value,Z);if(Hi===null){de===null&&(de=Pt);break}n&&de&&Hi.alternate===null&&i(j,de),k=d(Hi,k,_e),Ne===null?fe=Hi:Ne.sibling=Hi,Ne=Hi,de=Pt}if(ze.done)return a(j,de),qe&&zs(j,_e),fe;if(de===null){for(;!ze.done;_e++,ze=H.next())ze=ee(j,ze.value,Z),ze!==null&&(k=d(ze,k,_e),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return qe&&zs(j,_e),fe}for(de=l(de);!ze.done;_e++,ze=H.next())ze=Y(de,j,_e,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),k=d(ze,k,_e),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return n&&de.forEach(function(g1){return i(j,g1)}),qe&&zs(j,_e),fe}function Je(j,k,H,Z){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var fe=H.key;k!==null;){if(k.key===fe){if(fe=H.type,fe===N){if(k.tag===7){a(j,k.sibling),Z=f(k,H.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&nv(fe)===k.type){a(j,k.sibling),Z=f(k,H.props),Al(Z,H),Z.return=j,j=Z;break e}a(j,k);break}else i(j,k);k=k.sibling}H.type===N?(Z=Us(H.props.children,j.mode,Z,H.key),Z.return=j,j=Z):(Z=lc(H.type,H.key,H.props,null,j.mode,Z),Al(Z,H),Z.return=j,j=Z)}return E(j);case D:e:{for(fe=H.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(j,k.sibling),Z=f(k,H.children||[]),Z.return=j,j=Z;break e}else{a(j,k);break}else i(j,k);k=k.sibling}Z=Xf(H,j.mode,Z),Z.return=j,j=Z}return E(j);case R:return fe=H._init,H=fe(H._payload),Je(j,k,H,Z)}if(ut(H))return Te(j,k,H,Z);if(z(H)){if(fe=z(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),ve(j,k,H,Z)}if(typeof H.then=="function")return Je(j,k,Ac(H),Z);if(H.$$typeof===re)return Je(j,k,fc(j,H),Z);Rc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(j,k.sibling),Z=f(k,H),Z.return=j,j=Z):(a(j,k),Z=Kf(H,j.mode,Z),Z.return=j,j=Z),E(j)):a(j,k)}return function(j,k,H,Z){try{Sl=0;var fe=Je(j,k,H,Z);return Qa=null,fe}catch(de){if(de===pl||de===mc)throw de;var Ne=_n(29,de,null,j.mode);return Ne.lanes=Z,Ne.return=j,Ne}finally{}}}var $a=rv(!0),iv=rv(!1),Pn=ne(null),pr=null;function Ci(n){var i=n.alternate;se(xt,xt.current&1),se(Pn,n),pr===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(pr=n)}function sv(n){if(n.tag===22){if(se(xt,xt.current),se(Pn,n),pr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(pr=n)}}else xi()}function xi(){se(xt,xt.current),se(Pn,Pn.current)}function Yr(n){le(Pn),pr===n&&(pr=null),le(xt)}var xt=ne(0);function Ic(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Dd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=wn(),f=Ai(l);f.payload=i,a!=null&&(f.callback=a),i=Ri(n,f,l),i!==null&&(Sn(i,n,l),yl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=wn(),f=Ai(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ri(n,f,l),i!==null&&(Sn(i,n,l),yl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=wn(),l=Ai(a);l.tag=2,i!=null&&(l.callback=i),i=Ri(n,l,a),i!==null&&(Sn(i,n,a),yl(i,n,a))}};function av(n,i,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!ol(a,l)||!ol(f,d):!0}function ov(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Dd.enqueueReplaceState(i,i.state,null)}function Qs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function lv(n){Cc(n)}function uv(n){console.error(n)}function cv(n){Cc(n)}function xc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function hv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Nd(n,i,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,i)},a}function fv(n){return n=Ai(n),n.tag=3,n}function dv(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){hv(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){hv(i,a,l),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function gS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&fl(i,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return pr===null?tm():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ad?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),rm(n,l,f)),!1;case 22:return a.flags|=65536,l===ad?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),rm(n,l,f)),!1}throw Error(s(435,a.tag))}return rm(n,l,f),tm(),!1}if(qe)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Jf&&(n=Error(s(422),{cause:l}),hl(On(n,a)))):(l!==Jf&&(i=Error(s(423),{cause:l}),hl(On(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=On(l,a),f=Nd(n.stateNode,l,f),ud(n,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),Ol===null?Ol=[d]:Ol.push(d),ft!==4&&(ft=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Nd(a.stateNode,l,n),ud(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=fv(f),dv(f,n,a,l),ud(a,f),!1}a=a.return}while(a!==null);return!1}var mv=Error(s(461)),Vt=!1;function qt(n,i,a,l){i.child=n===null?iv(i,null,a,l):$a(i,n.child,a,l)}function pv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Fs(i),l=md(n,i,a,E,d,f),b=pd(),n!==null&&!Vt?(gd(n,i,f),Qr(n,i,f)):(qe&&b&&Wf(i),i.flags|=1,qt(n,i,l,f),i.child)}function gv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,yv(n,i,d,l,f)):(n=lc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!jd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(E,l)&&n.ref===i.ref)return Qr(n,i,f)}return i.flags|=1,n=zr(d,l),n.ref=i.ref,n.return=i,i.child=n}function yv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(ol(d,l)&&n.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,jd(n,f))(n.flags&131072)!==0&&(Vt=!0);else return i.lanes=n.lanes,Qr(n,i,f)}return Od(n,i,a,l,f)}function vv(n,i,a){var l=i.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return _v(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,d!==null?d.cachePool:null),d!==null?yy(i,d):hd(),sv(i);else return i.lanes=i.childLanes=536870912,_v(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(i,d.cachePool),yy(i,d),xi(),i.memoizedState=null):(n!==null&&dc(i,null),hd(),xi());return qt(n,i,f,a),i.child}function _v(n,i,a,l){var f=sd();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&dc(i,null),hd(),sv(i),n!==null&&fl(n,i,l,!0),null}function Dc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Od(n,i,a,l,f){return Fs(i),a=md(n,i,a,l,void 0,f),l=pd(),n!==null&&!Vt?(gd(n,i,f),Qr(n,i,f)):(qe&&l&&Wf(i),i.flags|=1,qt(n,i,a,f),i.child)}function Ev(n,i,a,l,f,d){return Fs(i),i.updateQueue=null,a=_y(i,l,a,f),vy(n),l=pd(),n!==null&&!Vt?(gd(n,i,d),Qr(n,i,d)):(qe&&l&&Wf(i),i.flags|=1,qt(n,i,a,d),i.child)}function Tv(n,i,a,l,f){if(Fs(i),i.stateNode===null){var d=Ua,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},od(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):Ua,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(xd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Dd.enqueueReplaceState(d,d.state,null),_l(i,l,d,f),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var b=i.memoizedProps,C=Qs(a,b);d.props=C;var F=d.context,W=a.contextType;E=Ua,typeof W=="object"&&W!==null&&(E=Xt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==E)&&ov(i,d,l,E),Si=!1;var G=i.memoizedState;d.state=G,_l(i,l,d,f),vl(),F=i.memoizedState,b||G!==F||Si?(typeof ee=="function"&&(xd(i,a,ee,l),F=i.memoizedState),(C=Si||av(i,a,C,l,G,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ld(n,i),E=i.memoizedProps,W=Qs(a,E),d.props=W,ee=i.pendingProps,G=d.context,F=a.contextType,C=Ua,typeof F=="object"&&F!==null&&(C=Xt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||G!==C)&&ov(i,d,l,C),Si=!1,G=i.memoizedState,d.state=G,_l(i,l,d,f),vl();var Y=i.memoizedState;E!==ee||G!==Y||Si||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof b=="function"&&(xd(i,a,b,l),Y=i.memoizedState),(W=Si||av(i,a,W,l,G,Y,C)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=$a(i,n.child,null,f),i.child=$a(i,null,a,f)):qt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=Qr(n,i,f),n}function bv(n,i,a,l){return cl(),i.flags|=256,qt(n,i,a,l),i.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(n){return{baseLanes:n,cachePool:uy()}}function kd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Ln),n}function wv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(qe){if(f?Ci(i):xi(),qe){var b=ht,C;if(C=b){e:{for(C=b,b=mr;C.nodeType!==8;){if(!b){b=null;break e}if(C=$n(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(i.memoizedState={dehydrated:b,treeContext:js!==null?{id:Br,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},C=_n(18,null,null,0),C.stateNode=b,C.return=i,i.child=C,an=i,ht=null,C=!0):C=!1}C||qs(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return vm(b)?i.lanes=32:i.lanes=536870912,null;Yr(i)}return b=l.children,l=l.fallback,f?(xi(),f=i.mode,b=Nc({mode:"hidden",children:b},f),l=Us(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=Vd(a),f.childLanes=kd(n,E,a),i.memoizedState=Md,l):(Ci(i),Pd(i,b))}if(C=n.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(Ci(i),i.flags&=-257,i=Ld(n,i,a)):i.memoizedState!==null?(xi(),i.child=n.child,i.flags|=128,i=null):(xi(),f=l.fallback,b=i.mode,l=Nc({mode:"visible",children:l.children},b),f=Us(f,b,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,$a(i,n.child,null,a),l=i.child,l.memoizedState=Vd(a),l.childLanes=kd(n,E,a),i.memoizedState=Md,i=f);else if(Ci(i),vm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,hl({value:l,source:null,stack:null}),i=Ld(n,i,a)}else if(Vt||fl(n,i,a,!1),E=(a&n.childLanes)!==0,Vt||E){if(E=nt,E!==null&&(l=a&-a,l=(l&42)!==0?1:gi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,La(n,l),Sn(E,n,l),mv;b.data==="$?"||tm(),i=Ld(n,i,a)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,ht=$n(b.nextSibling),an=i,qe=!0,Bs=null,mr=!1,n!==null&&(Vn[kn++]=Br,Vn[kn++]=qr,Vn[kn++]=js,Br=n.id,qr=n.overflow,js=i),i=Pd(i,l.children),i.flags|=4096);return i}return f?(xi(),f=l.fallback,b=i.mode,C=n.child,F=C.sibling,l=zr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?f=zr(F,f):(f=Us(f,b,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=n.child.memoizedState,b===null?b=Vd(a):(C=b.cachePool,C!==null?(F=Ct._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=uy(),b={baseLanes:b.baseLanes|a,cachePool:C}),f.memoizedState=b,f.childLanes=kd(n,E,a),i.memoizedState=Md,l):(Ci(i),a=n.child,n=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Pd(n,i){return i=Nc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nc(n,i){return n=_n(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ld(n,i,a){return $a(i,n.child,null,a),n=Pd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Sv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),td(n.return,i,a)}function Ud(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Av(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(qt(n,i,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sv(n,a,i);else if(n.tag===19)Sv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(xt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ud(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ic(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ud(i,!0,a,null,d);break;case"together":Ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Vi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(fl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=zr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=zr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function jd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function yS(n,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),wi(i,Ct,n.memoizedState.cache),cl();break;case 27:case 5:pi(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:wi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wv(n,i,a):(Ci(i),n=Qr(n,i,a),n!==null?n.sibling:null);Ci(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(fl(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Av(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(xt,xt.current),l)break;return null;case 22:case 23:return i.lanes=0,vv(n,i,a);case 24:wi(i,Ct,n.memoizedState.cache)}return Qr(n,i,a)}function Rv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Vt=!0;else{if(!jd(n,a)&&(i.flags&128)===0)return Vt=!1,yS(n,i,a);Vt=(n.flags&131072)!==0}else Vt=!1,qe&&(i.flags&1048576)!==0&&ny(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")$f(l)?(n=Qs(l,n),i.tag=1,i=Tv(null,i,l,n,a)):(i.tag=0,i=Od(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===he){i.tag=11,i=pv(null,i,l,n,a);break e}else if(f===M){i.tag=14,i=gv(null,i,l,n,a);break e}}throw i=jt(l)||l,Error(s(306,i,""))}}return i;case 0:return Od(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Qs(l,i.pendingProps),Tv(n,i,l,f,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,ld(n,i),_l(i,l,null,a);var E=i.memoizedState;if(l=E.cache,wi(i,Ct,l),l!==d.cache&&nd(i,[Ct],a,!0),vl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=bv(n,i,l,a);break e}else if(l!==f){f=On(Error(s(424)),i),hl(f),i=bv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=$n(n.firstChild),an=i,qe=!0,Bs=null,mr=!0,a=iv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cl(),l===f){i=Qr(n,i,a);break e}qt(n,i,l,a)}i=i.child}return i;case 26:return Dc(n,i),n===null?(a=D_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,n=i.pendingProps,l=Gc(we.current).createElement(a),l[At]=i,l[vt]=n,Ft(l,a,n),mt(l),i.stateNode=l):i.memoizedState=D_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return pi(i),n===null&&qe&&(l=i.stateNode=I_(i.type,i.pendingProps,we.current),an=i,mr=!0,f=ht,Ui(i.type)?(_m=f,ht=$n(l.firstChild)):ht=f),qt(n,i,i.pendingProps.children,a),Dc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&qe&&((f=l=ht)&&(l=GS(l,i.type,i.pendingProps,mr),l!==null?(i.stateNode=l,an=i,ht=$n(l.firstChild),mr=!1,f=!0):f=!1),f||qs(i)),pi(i),f=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,pm(f,d)?l=null:E!==null&&pm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=md(n,i,uS,null,null,a),Bl._currentValue=f),Dc(n,i),qt(n,i,l,a),i.child;case 6:return n===null&&qe&&((n=a=ht)&&(a=YS(a,i.pendingProps,mr),a!==null?(i.stateNode=a,an=i,ht=null,n=!0):n=!1),n||qs(i)),null;case 13:return wv(n,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=$a(i,null,l,a):qt(n,i,l,a),i.child;case 11:return pv(n,i,i.type,i.pendingProps,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wi(i,i.type,l.value),qt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=Xt(f),l=l(f),i.flags|=1,qt(n,i,l,a),i.child;case 14:return gv(n,i,i.type,i.pendingProps,a);case 15:return yv(n,i,i.type,i.pendingProps,a);case 19:return Av(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=zr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return vv(n,i,a);case 24:return Fs(i),l=Xt(Ct),n===null?(f=sd(),f===null&&(f=nt,d=rd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},od(i),wi(i,Ct,f)):((n.lanes&a)!==0&&(ld(n,i),_l(i,null,null,a),vl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),wi(i,Ct,l)):(l=d.cache,wi(i,Ct,l),l!==f.cache&&nd(i,[Ct],a,!0))),qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $r(n){n.flags|=4}function Iv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!k_(i)){if(i=Pn.current,i!==null&&((Ue&4194048)===Ue?pr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==pr))throw gl=ad,cy;n.flags|=8192}}function Oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ho():536870912,n.lanes|=i,Za|=i)}function Rl(n,i){if(!qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function vS(n,i,a){var l=i.pendingProps;switch(Zf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fr(Ct),nr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ul(i)?$r(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sy())),ot(i),null;case 26:return a=i.memoizedState,n===null?($r(i),a!==null?(ot(i),Iv(i,a)):(ot(i),i.flags&=-16777217)):a?a!==n.memoizedState?($r(i),ot(i),Iv(i,a)):(ot(i),i.flags&=-16777217):(n.memoizedProps!==l&&$r(i),ot(i),i.flags&=-16777217),null;case 27:Ir(i),a=we.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&$r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}n=ge.current,ul(i)?ry(i):(n=I_(f,l,a),i.stateNode=n,$r(i))}return ot(i),null;case 5:if(Ir(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&$r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(n=ge.current,ul(i))ry(i);else{switch(f=Gc(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[At]=i,n[vt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&$r(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&$r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,ul(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[At]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(n.nodeValue,a)),n||qs(i)}else n=Gc(n).createTextNode(l),n[At]=i,i.stateNode=n}return ot(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ul(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=sy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Yr(i),i):(Yr(i),null)}if(Yr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Oc(i,i.updateQueue),ot(i),null;case 4:return nr(),n===null&&cm(i.stateNode.containerInfo),ot(i),null;case 10:return Fr(i.type),ot(i),null;case 19:if(le(xt),f=i.memoizedState,f===null)return ot(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Rl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ic(n),d!==null){for(i.flags|=128,Rl(f,!1),n=d.updateQueue,i.updateQueue=n,Oc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ty(a,n),a=a.sibling;return se(xt,xt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Rn()>kc&&(i.flags|=128,l=!0,Rl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Ic(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Oc(i,n),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!qe)return ot(i),null}else 2*Rn()-f.renderingStartTime>kc&&a!==536870912&&(i.flags|=128,l=!0,Rl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Rn(),i.sibling=null,n=xt.current,se(xt,l?n&1|2:n&1),i):(ot(i),null);case 22:case 23:return Yr(i),fd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Oc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&le(Gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fr(Ct),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _S(n,i){switch(Zf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fr(Ct),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ir(i),null;case 13:if(Yr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(xt),null;case 4:return nr(),null;case 10:return Fr(i.type),null;case 22:case 23:return Yr(i),fd(),n!==null&&le(Gs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fr(Ct),null;case 25:return null;default:return null}}function Cv(n,i){switch(Zf(i),i.tag){case 3:Fr(Ct),nr();break;case 26:case 27:case 5:Ir(i);break;case 4:nr();break;case 13:Yr(i);break;case 19:le(xt);break;case 10:Fr(i.type);break;case 22:case 23:Yr(i),fd(),n!==null&&le(Gs);break;case 24:Fr(Ct)}}function Il(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){et(i,i.return,b)}}function Di(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var C=a,F=b;try{F()}catch(W){et(f,C,W)}}}l=l.next}while(l!==d)}}catch(W){et(i,i.return,W)}}function xv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{gy(i,a)}catch(l){et(n,n.return,l)}}}function Dv(n,i,a){a.props=Qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){et(n,i,l)}}function Cl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){et(n,i,f)}}function gr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){et(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(n,i,f)}else a.current=null}function Nv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){et(n,n.return,f)}}function zd(n,i,a){try{var l=n.stateNode;zS(l,n.type,a,i),l[vt]=i}catch(f){et(n,n.return,f)}}function Ov(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function Bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ov(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&Ui(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(qd(n,i,a),n=n.sibling;n!==null;)qd(n,i,a),n=n.sibling}function Mc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Ui(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Mc(n,i,a),n=n.sibling;n!==null;)Mc(n,i,a),n=n.sibling}function Mv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ft(i,l,a),i[At]=n,i[vt]=a}catch(d){et(n,n.return,d)}}var Kr=!1,gt=!1,Hd=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function ES(n,i){if(n=n.containerInfo,dm=Wc,n=Gg(n),Bf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,C=-1,F=0,W=0,ee=n,G=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(b=E+f),ee!==d||l!==0&&ee.nodeType!==3||(C=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===n)break t;if(G===a&&++F===f&&(b=E),G===d&&++W===l&&(C=E),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:n,selectionRange:a},Wc=!1,kt=i;kt!==null;)if(i=kt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,kt=n;else for(;kt!==null;){switch(i=kt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Qs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){et(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,kt=n;break}kt=i.return}}function kv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(n,a),l&4&&Il(5,a);break;case 1:if(Ni(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){et(a,a.return,E)}else{var f=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){et(a,a.return,E)}}l&64&&xv(a),l&512&&Cl(a,a.return);break;case 3:if(Ni(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gy(n,i)}catch(E){et(a,a.return,E)}}break;case 27:i===null&&l&4&&Mv(a);case 26:case 5:Ni(n,a),i===null&&l&4&&Nv(a),l&512&&Cl(a,a.return);break;case 12:Ni(n,a);break;case 13:Ni(n,a),l&4&&Uv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=xS.bind(null,a),QS(n,a))));break;case 22:if(l=a.memoizedState!==null||Kr,!l){i=i!==null&&i.memoizedState!==null||gt,f=Kr;var d=gt;Kr=l,(gt=i)&&!d?Oi(n,a,(a.subtreeFlags&8772)!==0):Ni(n,a),Kr=f,gt=d}break;case 30:break;default:Ni(n,a)}}function Pv(n){var i=n.alternate;i!==null&&(n.alternate=null,Pv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&_i(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,cn=!1;function Xr(n,i,a){for(a=a.child;a!==null;)Lv(n,i,a),a=a.sibling}function Lv(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:gt||gr(a,i),Xr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||gr(a,i);var l=st,f=cn;Ui(a.type)&&(st=a.stateNode,cn=!1),Xr(n,i,a),Ll(a.stateNode),st=l,cn=f;break;case 5:gt||gr(a,i);case 6:if(l=st,f=cn,st=null,Xr(n,i,a),st=l,cn=f,st!==null)if(cn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:st!==null&&(cn?(n=st,A_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Gl(n)):A_(st,a.stateNode));break;case 4:l=st,f=cn,st=a.stateNode.containerInfo,cn=!0,Xr(n,i,a),st=l,cn=f;break;case 0:case 11:case 14:case 15:gt||Di(2,a,i),gt||Di(4,a,i),Xr(n,i,a);break;case 1:gt||(gr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Dv(a,i,l)),Xr(n,i,a);break;case 21:Xr(n,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Xr(n,i,a),gt=l;break;default:Xr(n,i,a)}}function Uv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(a){et(i,i.return,a)}}function TS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Vv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Vv),i;default:throw Error(s(435,n.tag))}}function Fd(n,i){var a=TS(n);i.forEach(function(l){var f=DS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function En(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Ui(b.type)){st=b.stateNode,cn=!1;break e}break;case 5:st=b.stateNode,cn=!1;break e;case 3:case 4:st=b.stateNode.containerInfo,cn=!0;break e}b=b.return}if(st===null)throw Error(s(160));Lv(d,E,f),st=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jv(i,n),i=i.sibling}var Qn=null;function jv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(i,n),Tn(n),l&4&&(Di(3,n,n.return),Il(3,n),Di(5,n,n.return));break;case 1:En(i,n),Tn(n),l&512&&(gt||a===null||gr(a,a.return)),l&64&&Kr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Qn;if(En(i,n),Tn(n),l&512&&(gt||a===null||gr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[bs]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,l,a),d[At]=n,mt(d),l=d;break e;case"link":var E=M_("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;case"meta":if(E=M_("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=n,mt(d),l=d}n.stateNode=l}else V_(f,n.type,n.stateNode);else n.stateNode=O_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?V_(f,n.type,n.stateNode):O_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&zd(n,n.memoizedProps,a.memoizedProps)}break;case 27:En(i,n),Tn(n),l&512&&(gt||a===null||gr(a,a.return)),a!==null&&l&4&&zd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(En(i,n),Tn(n),l&512&&(gt||a===null||gr(a,a.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(Y){et(n,n.return,Y)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,zd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Hd=!0);break;case 6:if(En(i,n),Tn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Y){et(n,n.return,Y)}}break;case 3:if($c=null,f=Qn,Qn=Yc(i.containerInfo),En(i,n),Qn=f,Tn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(Y){et(n,n.return,Y)}Hd&&(Hd=!1,zv(n));break;case 4:l=Qn,Qn=Yc(n.stateNode.containerInfo),En(i,n),Tn(n),Qn=l;break;case 12:En(i,n),Tn(n);break;case 13:En(i,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xd=Rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Fd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,F=Kr,W=gt;if(Kr=F||f,gt=W||C,En(i,n),gt=W,Kr=F,Tn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||Kr||gt||$s(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var ee=C.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){et(C,C.return,Y)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(Y){et(C,C.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Fd(n,a))));break;case 19:En(i,n),Tn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Fd(n,l)));break;case 30:break;case 21:break;default:En(i,n),Tn(n)}}function Tn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Ov(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Bd(n);Mc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Cn(E,""),a.flags&=-33);var b=Bd(n);Mc(n,b,E);break;case 3:case 4:var C=a.stateNode.containerInfo,F=Bd(n);qd(n,F,C);break;default:throw Error(s(161))}}catch(W){et(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function zv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;zv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ni(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kv(n,i.alternate,i),i=i.sibling}function $s(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Di(4,i,i.return),$s(i);break;case 1:gr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Dv(i,i.return,a),$s(i);break;case 27:Ll(i.stateNode);case 26:case 5:gr(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}n=n.sibling}}function Oi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Oi(f,d,a),Il(4,d);break;case 1:if(Oi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){et(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)py(C[f],b)}catch(F){et(l,l.return,F)}}a&&E&64&&xv(d),Cl(d,d.return);break;case 27:Mv(d);case 26:case 5:Oi(f,d,a),a&&l===null&&E&4&&Nv(d),Cl(d,d.return);break;case 12:Oi(f,d,a);break;case 13:Oi(f,d,a),a&&E&4&&Uv(f,d);break;case 22:d.memoizedState===null&&Oi(f,d,a),Cl(d,d.return);break;case 30:break;default:Oi(f,d,a)}i=i.sibling}}function Gd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&dl(a))}function Yd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&dl(n))}function yr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bv(n,i,a,l),i=i.sibling}function Bv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yr(n,i,a,l),f&2048&&Il(9,i);break;case 1:yr(n,i,a,l);break;case 3:yr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&dl(n)));break;case 12:if(f&2048){yr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){et(i,i.return,C)}}else yr(n,i,a,l);break;case 13:yr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?yr(n,i,a,l):xl(n,i):d._visibility&2?yr(n,i,a,l):(d._visibility|=2,Ka(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Gd(E,i);break;case 24:yr(n,i,a,l),f&2048&&Yd(i.alternate,i);break;default:yr(n,i,a,l)}}function Ka(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,b=a,C=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(d,E,b,C,f),Il(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ka(d,E,b,C,f):xl(d,E):(W._visibility|=2,Ka(d,E,b,C,f)),f&&F&2048&&Gd(E.alternate,E);break;case 24:Ka(d,E,b,C,f),f&&F&2048&&Yd(E.alternate,E);break;default:Ka(d,E,b,C,f)}i=i.sibling}}function xl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:xl(a,l),f&2048&&Gd(l.alternate,l);break;case 24:xl(a,l),f&2048&&Yd(l.alternate,l);break;default:xl(a,l)}i=i.sibling}}var Dl=8192;function Xa(n){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)qv(n),n=n.sibling}function qv(n){switch(n.tag){case 26:Xa(n),n.flags&Dl&&n.memoizedState!==null&&a1(Qn,n.memoizedState,n.memoizedProps);break;case 5:Xa(n);break;case 3:case 4:var i=Qn;Qn=Yc(n.stateNode.containerInfo),Xa(n),Qn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Dl,Dl=16777216,Xa(n),Dl=i):Xa(n));break;default:Xa(n)}}function Hv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Gv(l,n)}Hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&Di(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Vc(n)):Nl(n);break;default:Nl(n)}}function Vc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Gv(l,n)}Hv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Di(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}n=n.sibling}}function Gv(n,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Di(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=n;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(Pv(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}var bS={getCacheForType:function(n){var i=Xt(Ct),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},wS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,Ue=0,Qe=0,bn=null,Mi=!1,Wa=!1,Qd=!1,Wr=0,ft=0,Vi=0,Ks=0,$d=0,Ln=0,Za=0,Ol=null,hn=null,Kd=!1,Xd=0,kc=1/0,Pc=null,ki=null,Ht=0,Pi=null,Ja=null,eo=0,Wd=0,Zd=null,Yv=null,Ml=0,Jd=null;function wn(){if((Ye&2)!==0&&Ue!==0)return Ue&-Ue;if(X.T!==null){var n=Ba;return n!==0?n:am()}return yi()}function Qv(){Ln===0&&(Ln=(Ue&536870912)===0||qe?qo():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),Ln}function Sn(n,i,a){(n===nt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(to(n,0),Li(n,Ue,Ln,!1)),xr(n,a),((Ye&2)===0||n!==nt)&&(n===nt&&((Ye&2)===0&&(Ks|=a),ft===4&&Li(n,Ue,Ln,!1)),vr(n))}function $v(n,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ts(n,i),f=l?RS(n,i):nm(n,i,!0),d=l;do{if(f===0){Wa&&!l&&Li(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!SS(a)){f=nm(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=n;f=Ol;var C=b.current.memoizedState.isDehydrated;if(C&&(to(b,E).flags|=256),E=nm(b,E,!1),E!==2){if(Qd&&!C){b.errorRecoveryDisabledLanes|=d,Ks|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){to(n,0),Li(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Li(l,i,Ln,!Mi);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Xd+300-Rn(),10<f)){if(Li(l,i,Ln,!Mi),va(l,0,!0)!==0)break e;l.timeoutHandle=w_(Kv.bind(null,l,a,hn,Pc,Kd,i,Ln,Ks,Za,Mi,d,2,-0,0),f);break e}Kv(l,a,hn,Pc,Kd,i,Ln,Ks,Za,Mi,d,0,-0,0)}}break}while(!0);vr(n)}function Kv(n,i,a,l,f,d,E,b,C,F,W,ee,G,Y){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:s1},qv(i),ee=o1(),ee!==null)){n.cancelPendingCommit=ee(n_.bind(null,n,i,d,a,l,f,E,b,C,W,1,G,Y)),Li(n,d,E,!F);return}n_(n,i,d,a,l,f,E,b,C)}function SS(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,a,l){i&=~$d,i&=~Ks,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-Kt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&rr(n,a,i)}function Lc(){return(Ye&6)===0?(Vl(0),!1):!0}function em(){if(Oe!==null){if(Qe===0)var n=Oe.return;else n=Oe,Hr=Hs=null,yd(n),Qa=null,Sl=0,n=Oe;for(;n!==null;)Cv(n.alternate,n),n=n.return;Oe=null}}function to(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,qS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),em(),nt=n,Oe=a=zr(n.current,null),Ue=i,Qe=0,bn=null,Mi=!1,Wa=Ts(n,i),Qd=!1,Za=Ln=$d=Ks=Vi=ft=0,hn=Ol=null,Kd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Kt(l),d=1<<f;i|=n[f],l&=~d}return Wr=i,sc(),a}function Xv(n,i){Ie=null,X.H=Sc,i===pl||i===mc?(i=dy(),Qe=3):i===cy?(i=dy(),Qe=4):Qe=i===mv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Oe===null&&(ft=1,xc(n,On(i,n.current)))}function Wv(){var n=X.H;return X.H=Sc,n===null?Sc:n}function Zv(){var n=X.A;return X.A=bS,n}function tm(){ft=4,Mi||(Ue&4194048)!==Ue&&Pn.current!==null||(Wa=!0),(Vi&134217727)===0&&(Ks&134217727)===0||nt===null||Li(nt,Ue,Ln,!1)}function nm(n,i,a){var l=Ye;Ye|=2;var f=Wv(),d=Zv();(nt!==n||Ue!==i)&&(Pc=null,to(n,i)),i=!1;var E=ft;e:do try{if(Qe!==0&&Oe!==null){var b=Oe,C=bn;switch(Qe){case 8:em(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var F=Qe;if(Qe=0,bn=null,no(n,b,C,F),a&&Wa){E=0;break e}break;default:F=Qe,Qe=0,bn=null,no(n,b,C,F)}}AS(),E=ft;break}catch(W){Xv(n,W)}while(!0);return i&&n.shellSuspendCounter++,Hr=Hs=null,Ye=l,X.H=f,X.A=d,Oe===null&&(nt=null,Ue=0,sc()),E}function AS(){for(;Oe!==null;)Jv(Oe)}function RS(n,i){var a=Ye;Ye|=2;var l=Wv(),f=Zv();nt!==n||Ue!==i?(Pc=null,kc=Rn()+500,to(n,i)):Wa=Ts(n,i);e:do try{if(Qe!==0&&Oe!==null){i=Oe;var d=bn;t:switch(Qe){case 1:Qe=0,bn=null,no(n,i,d,1);break;case 2:case 9:if(hy(d)){Qe=0,bn=null,e_(i);break}i=function(){Qe!==2&&Qe!==9||nt!==n||(Qe=7),vr(n)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:hy(d)?(Qe=0,bn=null,e_(i)):(Qe=0,bn=null,no(n,i,d,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var b=Oe;if(!E||k_(E)){Qe=0,bn=null;var C=b.sibling;if(C!==null)Oe=C;else{var F=b.return;F!==null?(Oe=F,Uc(F)):Oe=null}break t}}Qe=0,bn=null,no(n,i,d,5);break;case 6:Qe=0,bn=null,no(n,i,d,6);break;case 8:em(),ft=6;break e;default:throw Error(s(462))}}IS();break}catch(W){Xv(n,W)}while(!0);return Hr=Hs=null,X.H=l,X.A=f,Ye=a,Oe!==null?0:(nt=null,Ue=0,sc(),ft)}function IS(){for(;Oe!==null&&!Uo();)Jv(Oe)}function Jv(n){var i=Rv(n.alternate,n,Wr);n.memoizedProps=n.pendingProps,i===null?Uc(n):Oe=i}function e_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Ev(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Ev(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:yd(i);default:Cv(a,i),i=Oe=ty(i,Wr),i=Rv(a,i,Wr)}n.memoizedProps=n.pendingProps,i===null?Uc(n):Oe=i}function no(n,i,a,l){Hr=Hs=null,yd(i),Qa=null,Sl=0;var f=i.return;try{if(gS(n,f,i,a,Ue)){ft=1,xc(n,On(a,n.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;ft=1,xc(n,On(a,n.current)),Oe=null;return}i.flags&32768?(qe||l===1?n=!0:Wa||(Ue&536870912)!==0?n=!1:(Mi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,n)):Uc(i)}function Uc(n){var i=n;do{if((i.flags&32768)!==0){t_(i,Mi);return}n=i.return;var a=vS(i.alternate,i,Wr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ft===0&&(ft=5)}function t_(n,i){do{var a=_S(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ft=6,Oe=null}function n_(n,i,a,l,f,d,E,b,C){n.cancelPendingCommit=null;do jc();while(Ht!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yf,Fo(n,a,d,E,b,C),n===nt&&(Oe=nt=null,Ue=0),Ja=i,Pi=n,eo=a,Wd=d,Zd=f,Yv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,NS(ys,function(){return o_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=oe.p,oe.p=2,E=Ye,Ye|=4;try{ES(n,i,a)}finally{Ye=E,oe.p=f,X.T=l}}Ht=1,r_(),i_(),s_()}}function r_(){if(Ht===1){Ht=0;var n=Pi,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{jv(i,n);var d=mm,E=Gg(n.containerInfo),b=d.focusedElem,C=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Fg(b.ownerDocument.documentElement,b)){if(C!==null&&Bf(b)){var F=C.start,W=C.end;if(W===void 0&&(W=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(W,b.value.length);else{var ee=b.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),Te=b.textContent.length,ve=Math.min(C.start,Te),Je=C.end===void 0?ve:Math.min(C.end,Te);!Y.extend&&ve>Je&&(E=Je,Je=ve,ve=E);var j=Hg(b,ve),k=Hg(b,Je);if(j&&k&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),Y.removeAllRanges(),ve>Je?(Y.addRange(H),Y.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Y.addRange(H))}}}}for(ee=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var Z=ee[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wc=!!dm,mm=dm=null}finally{Ye=f,oe.p=l,X.T=a}}n.current=i,Ht=2}}function i_(){if(Ht===2){Ht=0;var n=Pi,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{kv(n,i.alternate,i)}finally{Ye=f,oe.p=l,X.T=a}}Ht=3}}function s_(){if(Ht===4||Ht===3){Ht=0,Vu();var n=Pi,i=Ja,a=eo,l=Yv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Ja=Pi=null,a_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ki=null),_a(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{X.T=i,oe.p=f}}(eo&3)!==0&&jc(),vr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Jd?Ml++:(Ml=0,Jd=n):Ml=0,Vl(0)}}function a_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,dl(i)))}function jc(n){return r_(),i_(),s_(),o_()}function o_(){if(Ht!==5)return!1;var n=Pi,i=Wd;Wd=0;var a=_a(eo),l=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=Zd,Zd=null;var d=Pi,E=eo;if(Ht=0,Ja=Pi=null,eo=0,(Ye&6)!==0)throw Error(s(331));var b=Ye;if(Ye|=4,Fv(d.current),Bv(d,d.current,E,a),Ye=b,Vl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{oe.p=f,X.T=l,a_(n,i)}}function l_(n,i,a){i=On(a,i),i=Nd(n.stateNode,i,2),n=Ri(n,i,2),n!==null&&(xr(n,2),vr(n))}function et(n,i,a){if(n.tag===3)l_(n,n,a);else for(;i!==null;){if(i.tag===3){l_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){n=On(a,n),a=fv(2),l=Ri(i,a,2),l!==null&&(dv(a,l,i,n),xr(l,2),vr(l));break}}i=i.return}}function rm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new wS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Qd=!0,f.add(a),n=CS.bind(null,n,i,a),i.then(n,n))}function CS(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Rn()-Xd?(Ye&2)===0&&to(n,0):$d|=a,Za===Ue&&(Za=0)),vr(n)}function u_(n,i){i===0&&(i=Ho()),n=La(n,i),n!==null&&(xr(n,i),vr(n))}function xS(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(n,a)}function DS(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),u_(n,a)}function NS(n,i){return ps(n,i)}var zc=null,ro=null,im=!1,Bc=!1,sm=!1,Xs=0;function vr(n){n!==ro&&n.next===null&&(ro===null?zc=ro=n:ro=ro.next=n),Bc=!0,im||(im=!0,MS())}function Vl(n,i){if(!sm&&Bc){sm=!0;do for(var a=!1,l=zc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Kt(42|n)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Ue,d=va(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ts(l,d)||(a=!0,d_(l,d));l=l.next}while(a);sm=!1}}function OS(){c_()}function c_(){Bc=im=!1;var n=0;Xs!==0&&(BS()&&(n=Xs),Xs=0);for(var i=Rn(),a=null,l=zc;l!==null;){var f=l.next,d=h_(l,i);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&(ro=a)):(a=l,(n!==0||(d&3)!==0)&&(Bc=!0)),l=f}Vl(n)}function h_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Kt(d),b=1<<E,C=f[E];C===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Bo(b,i)):C<=i&&(n.expiredLanes|=b),d&=~b}if(i=nt,a=Ue,a=va(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ts(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&gs(l),_a(a)){case 2:case 8:a=ga;break;case 32:a=ys;break;case 268435456:a=ya;break;default:a=ys}return l=f_.bind(null,n),a=ps(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&gs(l),n.callbackPriority=2,n.callbackNode=null,2}function f_(n,i){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(jc()&&n.callbackNode!==a)return null;var l=Ue;return l=va(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:($v(n,l,i),h_(n,Rn()),n.callbackNode!=null&&n.callbackNode===a?f_.bind(null,n):null)}function d_(n,i){if(jc())return null;$v(n,i,!0)}function MS(){HS(function(){(Ye&6)!==0?ps(jo,OS):c_()})}function am(){return Xs===0&&(Xs=qo()),Xs}function m_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Aa(""+n)}function p_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function VS(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=m_((f[vt]||null).action),E=l.submitter;E&&(i=(i=E[vt]||null)?m_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new Ra("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var C=E?p_(f,E):new FormData(f);Rd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=E?p_(f,E):new FormData(f),Rd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var om=0;om<Gf.length;om++){var lm=Gf[om],kS=lm.toLowerCase(),PS=lm[0].toUpperCase()+lm.slice(1);Yn(kS,"on"+PS)}Yn($g,"onAnimationEnd"),Yn(Kg,"onAnimationIteration"),Yn(Xg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Jw,"onTransitionRun"),Yn(eS,"onTransitionStart"),Yn(tS,"onTransitionCancel"),Yn(Wg,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function g_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,F=b.currentTarget;if(b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){Cc(W)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,F=b.currentTarget,b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){Cc(W)}f.currentTarget=null,d=C}}}}function Me(n,i){var a=i[Yo];a===void 0&&(a=i[Yo]=new Set);var l=n+"__bubble";a.has(l)||(y_(i,n,2,!1),a.add(l))}function um(n,i,a){var l=0;i&&(l|=4),y_(a,n,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[qc]){n[qc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(LS.has(a)||um(a,!1,n),um(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,um("selectionchange",!1,i))}}function y_(n,i,a,l){switch(B_(i)){case 2:var f=c1;break;case 8:f=h1;break;default:f=Sm}a=f.bind(null,i,a,n),f=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function hm(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Dr(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}b=b.parentNode}}l=l.return}Fu(function(){var F=d,W=xn(a),ee=[];e:{var G=Zg.get(n);if(G!==void 0){var Y=Ra,Te=n;switch(n){case"keypress":if(ur(a)===0)break e;case"keydown":case"keyup":Y=Oa;break;case"focusin":Te="focus",Y=xa;break;case"focusout":Te="blur",Y=xa;break;case"beforeblur":case"afterblur":Y=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zu;break;case $g:case Kg:case Xg:Y=Da;break;case Wg:Y=ec;break;case"scroll":case"scrollend":Y=Gu;break;case"wheel":Y=Ma;break;case"copy":case"cut":case"paste":Y=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=sl;break;case"toggle":case"beforetoggle":Y=nc}var ve=(i&4)!==0,Je=!ve&&(n==="scroll"||n==="scrollend"),j=ve?G!==null?G+"Capture":null:G;ve=[];for(var k=F,H;k!==null;){var Z=k;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||j===null||(Z=xs(k,j),Z!=null&&ve.push(Pl(k,Z,H))),Je)break;k=k.return}0<ve.length&&(G=new Y(G,Te,null,a,W),ee.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==Vr&&(Te=a.relatedTarget||a.fromElement)&&(Dr(Te)||Te[In]))break e;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(Te=a.relatedTarget||a.toElement,Y=F,Te=Te?Dr(Te):null,Te!==null&&(Je=u(Te),ve=Te.tag,Te!==Je||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(Y=null,Te=F),Y!==Te)){if(ve=Nn,Z="onMouseLeave",j="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ve=sl,Z="onPointerLeave",j="onPointerEnter",k="pointer"),Je=Y==null?G:sr(Y),H=Te==null?G:sr(Te),G=new ve(Z,k+"leave",Y,a,W),G.target=Je,G.relatedTarget=H,Z=null,Dr(W)===F&&(ve=new ve(j,k+"enter",Te,a,W),ve.target=H,ve.relatedTarget=Je,Z=ve),Je=Z,Y&&Te)t:{for(ve=Y,j=Te,k=0,H=ve;H;H=io(H))k++;for(H=0,Z=j;Z;Z=io(Z))H++;for(;0<k-H;)ve=io(ve),k--;for(;0<H-k;)j=io(j),H--;for(;k--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=io(ve),j=io(j)}ve=null}else ve=null;Y!==null&&v_(ee,G,Y,ve,!1),Te!==null&&Je!==null&&v_(ee,Je,Te,ve,!0)}}e:{if(G=F?sr(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var fe=Lg;else if(It(G))if(Ug)fe=Xw;else{fe=$w;var Ne=Qw}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Zo(F.elementType)&&(fe=Lg):fe=Kw;if(fe&&(fe=fe(n,F))){jr(ee,fe,a,W);break e}Ne&&Ne(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Ti(G,"number",G.value)}switch(Ne=F?sr(F):window,n){case"focusin":(It(Ne)||Ne.contentEditable==="true")&&(Va=Ne,qf=F,ll=null);break;case"focusout":ll=qf=Va=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Yg(ee,a,W);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":Yg(ee,a,W)}var de;if(fr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?$(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(de=el()):(lr=W,bi="value"in lr?lr.value:lr.textContent,Pe=!0)),Ne=Hc(F,_e),0<Ne.length&&(_e=new rl(_e,n,null,a,W),ee.push({event:_e,listeners:Ne}),de?_e.data=de:(de=ae(a),de!==null&&(_e.data=de)))),(de=y?Rt(n,a):Le(n,a))&&(_e=Hc(F,"onBeforeInput"),0<_e.length&&(Ne=new rl("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ne,listeners:_e}),Ne.data=de)),VS(ee,n,F,a,W)}g_(ee,i)})}function Pl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Hc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=xs(n,a),f!=null&&l.unshift(Pl(n,f,d)),f=xs(n,i),f!=null&&l.push(Pl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function v_(n,i,a,l,f){for(var d=i._reactName,E=[];a!==null&&a!==l;){var b=a,C=b.alternate,F=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||F===null||(C=F,f?(F=xs(a,d),F!=null&&E.unshift(Pl(a,F,C))):f||(F=xs(a,d),F!=null&&E.push(Pl(a,F,C)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var US=/\r\n?/g,jS=/\u0000|\uFFFD/g;function __(n){return(typeof n=="string"?n:""+n).replace(US,`
`).replace(jS,"")}function E_(n,i){return i=__(i),__(n)===i}function Fc(){}function Ze(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Cn(n,""+l);break;case"className":ar(n,"class",l);break;case"tabIndex":ar(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(n,a,l);break;case"style":Wo(n,l,d);break;case"data":if(i!=="object"){ar(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(n,i,"name",f.name,f,null),Ze(n,i,"formEncType",f.formEncType,f,null),Ze(n,i,"formMethod",f.formMethod,f,null),Ze(n,i,"formTarget",f.formTarget,f,null)):(Ze(n,i,"encType",f.encType,f,null),Ze(n,i,"method",f.method,f,null),Ze(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Aa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Ei(n,"popover",l);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ei(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kf.get(a)||a,Ei(n,a,l))}}function fm(n,i,a,l,f,d){switch(a){case"style":Wo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ei(n,a,l)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(n,i,d,E,a,null)}}f&&Ze(n,i,"srcSet",a.srcSet,a,null),l&&Ze(n,i,"src",a.src,a,null);return;case"input":Me("invalid",n);var b=d=E=f=null,C=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":C=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Ze(n,i,l,W,a,null)}}Rs(n,d,b,C,F,E,f,!1),Sa(n);return;case"select":Me("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Ze(n,i,f,b,a,null)}i=d,a=E,n.multiple=!!l,i!=null?Mr(n,!!l,i,!1):a!=null&&Mr(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(n,i,E,b,a,null)}Is(n,l,f,d),Sa(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(n,i,C,l,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<kl.length;l++)Me(kl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(n,i,F,l,a,null)}return;default:if(Zo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&fm(n,i,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(n,i,b,l,a,null))}function zS(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,C=null,F=null,W=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(Y)||Ze(n,i,Y,null,l,ee)}}for(var G in l){var Y=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":d=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":W=Y;break;case"value":E=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&Ze(n,i,G,Y,l,ee)}}yn(n,E,b,C,F,W,d,f);return;case"select":Y=E=b=G=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||Ze(n,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==C&&Ze(n,i,f,d,l,C)}i=b,a=E,l=Y,G!=null?Mr(n,!!a,G,!1):!!l!=!!a&&(i!=null?Mr(n,!!a,i,!0):Mr(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(n,i,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(n,i,E,f,l,d)}Xe(n,G,Y);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:Ze(n,i,Te,null,l,G)}for(C in l)if(G=l[C],Y=a[C],l.hasOwnProperty(C)&&G!==Y&&(G!=null||Y!=null))switch(C){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(n,i,C,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&Ze(n,i,ve,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ze(n,i,F,G,l,Y)}return;default:if(Zo(i)){for(var Je in a)G=a[Je],a.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&fm(n,i,Je,void 0,l,G);for(W in l)G=l[W],Y=a[W],!l.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||fm(n,i,W,G,l,Y);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&Ze(n,i,j,null,l,G);for(ee in l)G=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||G===Y||G==null&&Y==null||Ze(n,i,ee,G,l,Y)}var dm=null,mm=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function T_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function pm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function BS(){var n=window.event;return n&&n.type==="popstate"?n===gm?!1:(gm=n,!0):(gm=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(n){return S_.resolve(null).then(n).catch(FS)}:w_;function FS(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function A_(n,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Ll(E.documentElement),a&2&&Ll(E.body),a&4)for(a=E.head,Ll(a),E=a.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[bs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){n.removeChild(d),Gl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Gl(i)}function ym(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),_i(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function GS(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[bs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function YS(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=$n(n.nextSibling),n===null))return null;return n}function vm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function QS(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function $n(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var _m=null;function R_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function I_(n,i,a){switch(i=Gc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ll(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);_i(n)}var Un=new Map,C_=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zr=oe.d;oe.d={f:$S,r:KS,D:XS,C:WS,L:ZS,m:JS,X:t1,S:e1,M:n1};function $S(){var n=Zr.f(),i=Lc();return n||i}function KS(n){var i=ir(n);i!==null&&i.tag===5&&i.type==="form"?$y(i):Zr.r(n)}var so=typeof document>"u"?null:document;function x_(n,i,a){var l=so;if(l&&typeof i=="string"&&i){var f=_t(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),C_.has(f)||(C_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Ft(i,"link",n),mt(i),l.head.appendChild(i)))}}function XS(n){Zr.D(n),x_("dns-prefetch",n,null)}function WS(n,i){Zr.C(n,i),x_("preconnect",n,i)}function ZS(n,i,a){Zr.L(n,i,a);var l=so;if(l&&n&&i){var f='link[rel="preload"][as="'+_t(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_t(a.imageSizes)+'"]')):f+='[href="'+_t(n)+'"]';var d=f;switch(i){case"style":d=ao(n);break;case"script":d=oo(n)}Un.has(d)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Un.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ul(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),Ft(i,"link",n),mt(i),l.head.appendChild(i)))}}function JS(n,i){Zr.m(n,i);var a=so;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(n)}if(!Un.has(d)&&(n=_({rel:"modulepreload",href:n},i),Un.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),Ft(l,"link",n),mt(l),a.head.appendChild(l)}}}function e1(n,i,a){Zr.S(n,i,a);var l=so;if(l&&n){var f=nn(l).hoistableStyles,d=ao(n);i=i||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Ul(d)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Un.get(d))&&Em(n,a);var C=E=l.createElement("link");mt(C),Ft(C,"link",n),C._p=new Promise(function(F,W){C.onload=F,C.onerror=W}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function t1(n,i){Zr.X(n,i);var a=so;if(a&&n){var l=nn(a).hoistableScripts,f=oo(n),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(n=_({src:n,async:!0},i),(i=Un.get(f))&&Tm(n,i),d=a.createElement("script"),mt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function n1(n,i){Zr.M(n,i);var a=so;if(a&&n){var l=nn(a).hoistableScripts,f=oo(n),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(n=_({src:n,async:!0,type:"module"},i),(i=Un.get(f))&&Tm(n,i),d=a.createElement("script"),mt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function D_(n,i,a,l){var f=(f=we.current)?Yc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=nn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ao(a.href);var d=nn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Ul(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Un.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(n,a),d||r1(f,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=nn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ao(n){return'href="'+_t(n)+'"'}function Ul(n){return'link[rel="stylesheet"]['+n+"]"}function N_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function r1(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),mt(i),n.head.appendChild(i))}function oo(n){return'[src="'+_t(n)+'"]'}function jl(n){return"script[async]"+n}function O_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),mt(l),Ft(l,"style",f),Qc(l,a.precedence,n),i.instance=l;case"stylesheet":f=ao(a.href);var d=n.querySelector(Ul(f));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=N_(a),(f=Un.get(f))&&Em(l,f),d=(n.ownerDocument||n).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Ft(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,n),i.instance=d;case"script":return d=oo(a.src),(f=n.querySelector(jl(d)))?(i.instance=f,mt(f),f):(l=a,(f=Un.get(d))&&(l=_({},a),Tm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),mt(f),Ft(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,n));return i.instance}function Qc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Em(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Tm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var $c=null;function M_(n,i,a){if($c===null){var l=new Map,f=$c=new Map;f.set(a,l)}else f=$c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[bs]||d[At]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function V_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function i1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function k_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zl=null;function s1(){}function a1(n,i,a){if(zl===null)throw Error(s(475));var l=zl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ao(a.href),d=n.querySelector(Ul(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=n.ownerDocument||n,a=N_(a),(f=Un.get(f))&&Em(a,f),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Kc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function o1(){if(zl===null)throw Error(s(475));var n=zl;return n.stylesheets&&n.count===0&&bm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&bm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)bm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function bm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,i.forEach(l1,n),Xc=null,Kc.call(n))}function l1(n,i){if(!(i.state.loading&4)){var a=Xc.get(n);if(a)var l=a.get(null);else{a=new Map,Xc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Bl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function u1(n,i,a,l,f,d,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function P_(n,i,a,l,f,d,E,b,C,F,W,ee){return n=new u1(n,i,a,E,b,C,F,ee),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),n.current=d,d.stateNode=n,i=rd(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},od(d),n}function L_(n){return n?(n=Ua,n):Ua}function U_(n,i,a,l,f,d){f=L_(f),l.context===null?l.context=f:l.pendingContext=f,l=Ai(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ri(n,l,i),a!==null&&(Sn(a,n,i),yl(a,n,i))}function j_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function wm(n,i){j_(n,i),(n=n.alternate)&&j_(n,i)}function z_(n){if(n.tag===13){var i=La(n,67108864);i!==null&&Sn(i,n,67108864),wm(n,67108864)}}var Wc=!0;function c1(n,i,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=2,Sm(n,i,a,l)}finally{oe.p=d,X.T=f}}function h1(n,i,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=8,Sm(n,i,a,l)}finally{oe.p=d,X.T=f}}function Sm(n,i,a,l){if(Wc){var f=Am(l);if(f===null)hm(n,i,l,Zc,a),q_(n,l);else if(d1(f,n,i,a,l))l.stopPropagation();else if(q_(n,l),i&4&&-1<f1.indexOf(n)){for(;f!==null;){var d=ir(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Hn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-Kt(E);b.entanglements[1]|=C,E&=~C}vr(d),(Ye&6)===0&&(kc=Rn()+500,Vl(0))}}break;case 13:b=La(d,2),b!==null&&Sn(b,d,2),Lc(),wm(d,2)}if(d=Am(l),d===null&&hm(n,i,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else hm(n,i,l,null,a)}}function Am(n){return n=xn(n),Rm(n)}var Zc=null;function Rm(n){if(Zc=null,n=Dr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function B_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xf()){case jo:return 2;case ga:return 8;case ys:case Df:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Im=!1,ji=null,zi=null,Bi=null,ql=new Map,Hl=new Map,qi=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(n,i){switch(n){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=ir(i),i!==null&&z_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function d1(n,i,a,l,f){switch(i){case"focusin":return ji=Fl(ji,n,i,a,l,f),!0;case"dragenter":return zi=Fl(zi,n,i,a,l,f),!0;case"mouseover":return Bi=Fl(Bi,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Fl(ql.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,Fl(Hl.get(d)||null,n,i,a,l,f)),!0}return!1}function H_(n){var i=Dr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Lu(n.priority,function(){if(a.tag===13){var l=wn();l=gi(l);var f=La(a,l);f!==null&&Sn(f,a,l),wm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Am(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Vr=l,a.target.dispatchEvent(l),Vr=null}else return i=ir(a),i!==null&&z_(i),n.blockedOn=a,!1;i.shift()}return!0}function F_(n,i,a){Jc(n)&&a.delete(i)}function m1(){Im=!1,ji!==null&&Jc(ji)&&(ji=null),zi!==null&&Jc(zi)&&(zi=null),Bi!==null&&Jc(Bi)&&(Bi=null),ql.forEach(F_),Hl.forEach(F_)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,m1)))}var th=null;function G_(n){th!==n&&(th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var d=ir(a);d!==null&&(n.splice(i,3),i-=3,Rd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Gl(n){function i(C){return eh(C,n)}ji!==null&&eh(ji,n),zi!==null&&eh(zi,n),Bi!==null&&eh(Bi,n),ql.forEach(i),Hl.forEach(i);for(var a=0;a<qi.length;a++){var l=qi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<qi.length&&(a=qi[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&qi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[vt]||null;if(typeof d=="function")E||G_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[vt]||null)b=E.formAction;else if(Rm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),G_(a)}}}function Cm(n){this._internalRoot=n}nh.prototype.render=Cm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();U_(a,l,n,i,null,null)},nh.prototype.unmount=Cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;U_(n.current,2,null,n,null,null),Lc(),i[In]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=yi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<qi.length&&i!==0&&i<qi[a].priority;a++);qi.splice(a,0,n),a===0&&H_(n)}};var Y_=e.version;if(Y_!=="19.1.0")throw Error(s(527,Y_,"19.1.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var p1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ct=rh.inject(p1),Ge=rh}catch{}}return Ql.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=lv,d=uv,E=cv,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=P_(n,1,!1,null,null,a,l,f,d,E,b,null),n[In]=i.current,cm(n),new Cm(i)},Ql.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=lv,E=uv,b=cv,C=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=P_(n,1,!0,i,a??null,l,f,d,E,b,C,F),i.context=L_(null),a=i.current,l=wn(),l=gi(l),f=Ai(l),f.callback=null,Ri(a,f,l),a=l,i.current.lanes=a,xr(i,a),vr(i),n[In]=i.current,cm(n),new nh(i)},Ql.version="19.1.0",Ql}var n0;function R1(){if(n0)return Nm.exports;n0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=A1(),Nm.exports}var I1=R1();const C1=KE(I1);var $l={},r0;function x1(){if(r0)return $l;r0=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=h,$l.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,D){const N=new u,U=T.length;if(U<2)return N;const B=(D==null?void 0:D.decode)||_;let Q=0;do{const K=T.indexOf("=",Q);if(K===-1)break;const re=T.indexOf(";",Q),he=re===-1?U:re;if(K>he){Q=T.lastIndexOf(";",K-1)+1;continue}const ie=m(T,Q,K),ye=p(T,K,ie),M=T.slice(ie,ye);if(N[M]===void 0){let R=m(T,K+1,he),I=p(T,he,R);const V=B(T.slice(R,I));N[M]=V}Q=he+1}while(Q<U);return N}function m(T,D,N){do{const U=T.charCodeAt(D);if(U!==32&&U!==9)return D}while(++D<N);return N}function p(T,D,N){for(;D>N;){const U=T.charCodeAt(--D);if(U!==32&&U!==9)return D+1}return N}function g(T,D,N){const U=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const B=U(D);if(!e.test(B))throw new TypeError(`argument val is invalid: ${D}`);let Q=T+"="+B;if(!N)return Q;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Q+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Q+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Q+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Q+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Q+="; HttpOnly"),N.secure&&(Q+="; Secure"),N.partitioned&&(Q+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Q}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return $l}x1();var i0="popstate";function D1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ha(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Xm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:cu(u))}function s(o,u){Bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return O1(e,t,s,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N1(){return Math.random().toString(36).substring(2,10)}function s0(r,e){return{usr:r.state,key:r.key,idx:e}}function Xm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:t,key:e&&e.key||s||N1()}}function cu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ha(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function O1(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function w(){m="POP";let B=_(),Q=B==null?null:B-g;g=B,p&&p({action:m,location:U.location,delta:Q})}function T(B,Q){m="PUSH";let K=Xm(U.location,B,Q);t&&t(K,B),g=_()+1;let re=s0(K,g),he=U.createHref(K);try{h.pushState(re,"",he)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(he)}u&&p&&p({action:m,location:U.location,delta:1})}function D(B,Q){m="REPLACE";let K=Xm(U.location,B,Q);t&&t(K,B),g=_();let re=s0(K,g),he=U.createHref(K);h.replaceState(re,"",he),u&&p&&p({action:m,location:U.location,delta:0})}function N(B){return M1(B)}let U={get action(){return m},get location(){return r(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(i0,w),p=B,()=>{o.removeEventListener(i0,w),p=null}},createHref(B){return e(o,B)},createURL:N,encodeLocation(B){let Q=N(B);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:T,replace:D,go(B){return h.go(B)}};return U}function M1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function XE(r,e,t="/"){return V1(r,e,t,!1)}function V1(r,e,t,s){let o=typeof e=="string"?ha(e):e,u=si(o.pathname||"/",t);if(u==null)return null;let h=WE(r);k1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Y1(u);m=F1(h[p],g,s)}return m}function WE(r,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ri([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),WE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:q1(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of ZE(u.path))o(u,h,p)}),e}function ZE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=ZE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function k1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:H1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var P1=/^:[\w-]+$/,L1=3,U1=2,j1=1,z1=10,B1=-2,a0=r=>r==="*";function q1(r,e){let t=r.split("/"),s=t.length;return t.some(a0)&&(s+=B1),e&&(s+=U1),t.filter(o=>!a0(o)).reduce((o,u)=>o+(P1.test(u)?L1:u===""?j1:z1),s)}function H1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function F1(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ri([u,w.pathname]),pathnameBase:X1(ri([u,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(u=ri([u,w.pathnameBase]))}return h}function Ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=G1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},T)=>{if(_==="*"){let N=m[T]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[T];return w&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function G1(r,e=!1,t=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Y1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function Q1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?ha(r):r;return{pathname:t?t.startsWith("/")?t:$1(t,e):e,search:W1(s),hash:Z1(o)}}function $1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function km(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xp(r){let e=K1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Dp(r,e,t,s=!1){let o;typeof r=="string"?o=ha(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}m=w>=0?e[w]:"/"}let p=Q1(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ri=r=>r.join("/").replace(/\/\/+/g,"/"),X1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Z1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function J1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var JE=["POST","PUT","PATCH","DELETE"];new Set(JE);var eA=["GET",...JE];new Set(eA);var Io=P.createContext(null);Io.displayName="DataRouter";var Xh=P.createContext(null);Xh.displayName="DataRouterState";var eT=P.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var tA=P.createContext(new Map);tA.displayName="Fetchers";var nA=P.createContext(null);nA.displayName="Await";var er=P.createContext(null);er.displayName="Navigation";var Eu=P.createContext(null);Eu.displayName="Location";var tr=P.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var Np=P.createContext(null);Np.displayName="RouteError";function rA(r,{relative:e}={}){at(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=P.useContext(er),{hash:o,pathname:u,search:h}=bu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ri([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Co(){return P.useContext(Eu)!=null}function ls(){return at(Co(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Eu).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(r){P.useContext(er).static||P.useLayoutEffect(r)}function Tu(){let{isDataRoute:r}=P.useContext(tr);return r?yA():iA()}function iA(){at(Co(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Io),{basename:e,navigator:t}=P.useContext(er),{matches:s}=P.useContext(tr),{pathname:o}=ls(),u=JSON.stringify(xp(s)),h=P.useRef(!1);return nT(()=>{h.current=!0}),P.useCallback((p,g={})=>{if(Bn(h.current,tT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Dp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ri([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}P.createContext(null);function sA(){let{matches:r}=P.useContext(tr),e=r[r.length-1];return e?e.params:{}}function bu(r,{relative:e}={}){let{matches:t}=P.useContext(tr),{pathname:s}=ls(),o=JSON.stringify(xp(t));return P.useMemo(()=>Dp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function aA(r,e){return rT(r,e)}function rT(r,e,t,s){var Q;at(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(er),{matches:u}=P.useContext(tr),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let K=_&&_.path||"";iT(p,!_||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=ls(),T;if(e){let K=typeof e=="string"?ha(e):e;at(g==="/"||((Q=K.pathname)==null?void 0:Q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${K.pathname}" was given in the \`location\` prop.`),T=K}else T=w;let D=T.pathname||"/",N=D;if(g!=="/"){let K=g.replace(/^\//,"").split("/");N="/"+D.replace(/^\//,"").split("/").slice(K.length).join("/")}let U=XE(r,{pathname:N});Bn(_||U!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Bn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=hA(U&&U.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:ri([g,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:ri([g,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,t,s);return e&&B?P.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},B):B}function oA(){let r=gA(),e=J1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:o},t):null,h)}var lA=P.createElement(oA,null),uA=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?P.createElement(tr.Provider,{value:this.props.routeContext},P.createElement(Np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cA({routeContext:r,match:e,children:t}){let s=P.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(tr.Provider,{value:r},t)}function hA(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:w}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let w,T=!1,D=null,N=null;t&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||lA,h&&(m<0&&_===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):m===_&&(T=!0,N=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),B=()=>{let Q;return w?Q=D:T?Q=N:g.route.Component?Q=P.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,P.createElement(cA,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?P.createElement(uA,{location:t.location,revalidation:t.revalidation,component:D,error:w,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):B()},null)}function Op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fA(r){let e=P.useContext(Io);return at(e,Op(r)),e}function dA(r){let e=P.useContext(Xh);return at(e,Op(r)),e}function mA(r){let e=P.useContext(tr);return at(e,Op(r)),e}function Mp(r){let e=mA(r),t=e.matches[e.matches.length-1];return at(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function pA(){return Mp("useRouteId")}function gA(){var s;let r=P.useContext(Np),e=dA("useRouteError"),t=Mp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function yA(){let{router:r}=fA("useNavigate"),e=Mp("useNavigate"),t=P.useRef(!1);return nT(()=>{t.current=!0}),P.useCallback(async(o,u={})=>{Bn(t.current,tT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var o0={};function iT(r,e,t){!e&&!o0[r]&&(o0[r]=!0,Bn(!1,t))}P.memo(vA);function vA({routes:r,future:e,state:t}){return rT(r,void 0,t,e)}function sT({to:r,replace:e,state:t,relative:s}){at(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(er);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(tr),{pathname:h}=ls(),m=Tu(),p=Dp(r,xp(u),h,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Zl(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _A({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=ha(t));let{pathname:p="/",search:g="",hash:_="",state:w=null,key:T="default"}=t,D=P.useMemo(()=>{let N=si(p,h);return N==null?null:{location:{pathname:N,search:g,hash:_,state:w,key:T},navigationType:s}},[h,p,g,_,w,T,s]);return Bn(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:P.createElement(er.Provider,{value:m},P.createElement(Eu.Provider,{children:e,value:D}))}function EA({children:r,location:e}){return aA(Wm(r),e)}function Wm(r,e=[]){let t=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){t.push.apply(t,Wm(s.props.children,u));return}at(s.type===Zl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Wm(s.props.children,u)),t.push(h)}),t}var fh="get",dh="application/x-www-form-urlencoded";function Wh(r){return r!=null&&typeof r.tagName=="string"}function TA(r){return Wh(r)&&r.tagName.toLowerCase()==="button"}function bA(r){return Wh(r)&&r.tagName.toLowerCase()==="form"}function wA(r){return Wh(r)&&r.tagName.toLowerCase()==="input"}function SA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function AA(r,e){return r.button===0&&(!e||e==="_self")&&!SA(r)}var ih=null;function RA(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var IA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(r){return r!=null&&!IA.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function CA(r,e){let t,s,o,u,h;if(bA(r)){let m=r.getAttribute("action");s=m?si(m,e):null,t=r.getAttribute("method")||fh,o=Pm(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(TA(r)||wA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?si(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Pm(r.getAttribute("formenctype"))||Pm(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!RA()){let{name:g,type:_,value:w}=r;if(_==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,w)}}else{if(Wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,s=null,o=dh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Vp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function xA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function NA(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await xA(u,t);return h.links?h.links():[]}return[]}));return kA(s.flat(1).filter(DA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l0(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function OA(r,e,{includeHydrateFallback:t}={}){return MA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MA(r){return[...new Set(r)]}function VA(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function kA(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(VA(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PA=new Set([100,101,204,205]);function LA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&si(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function aT(){let r=P.useContext(Io);return Vp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function UA(){let r=P.useContext(Xh);return Vp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kp=P.createContext(void 0);kp.displayName="FrameworkContext";function oT(){let r=P.useContext(kp);return Vp(r,"You must render this element inside a <HydratedRouter> element"),r}function jA(r,e){let t=P.useContext(kp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,T=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let U=Q=>{Q.forEach(K=>{h(K.isIntersecting)})},B=new IntersectionObserver(U,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[r]),P.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let D=()=>{o(!0)},N=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:Kl(m,D),onBlur:Kl(p,N),onMouseEnter:Kl(g,D),onMouseLeave:Kl(_,N),onTouchStart:Kl(w,D)}]:[!1,T,{}]}function Kl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function zA({page:r,...e}){let{router:t}=aT(),s=P.useMemo(()=>XE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?P.createElement(qA,{page:r,matches:s,...e}):null}function BA(r){let{manifest:e,routeModules:t}=oT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return NA(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function qA({page:r,matches:e,...t}){let s=ls(),{manifest:o,routeModules:u}=oT(),{basename:h}=aT(),{loaderData:m,matches:p}=UA(),g=P.useMemo(()=>l0(r,e,p,o,s,"data"),[r,e,p,o,s]),_=P.useMemo(()=>l0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,U=!1;if(e.forEach(Q=>{var re;let K=o.routes[Q.route.id];!K||!K.hasLoader||(!g.some(he=>he.route.id===Q.route.id)&&Q.route.id in m&&((re=u[Q.route.id])!=null&&re.shouldRevalidate)||K.hasClientLoader?U=!0:N.add(Q.route.id))}),N.size===0)return[];let B=LA(r,h);return U&&N.size>0&&B.searchParams.set("_routes",e.filter(Q=>N.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[B.pathname+B.search]},[h,m,s,o,g,e,r,u]),T=P.useMemo(()=>OA(_,o),[_,o]),D=BA(_);return P.createElement(P.Fragment,null,w.map(N=>P.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),T.map(N=>P.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),D.map(({key:N,link:U})=>P.createElement("link",{key:N,...U})))}function HA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lT&&(window.__reactRouterVersion="7.6.3")}catch{}function FA({basename:r,children:e,window:t}){let s=P.useRef();s.current==null&&(s.current=D1({window:t,v5Compat:!0}));let o=s.current,[u,h]=P.useState({action:o.action,location:o.location}),m=P.useCallback(p=>{P.startTransition(()=>h(p))},[h]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(_A,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zh=P.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:w,...T},D){let{basename:N}=P.useContext(er),U=typeof g=="string"&&uT.test(g),B,Q=!1;if(typeof g=="string"&&U&&(B=g,lT))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),L=si(V.pathname,N);V.origin===I.origin&&L!=null?g=L+V.search+V.hash:Q=!0}catch{Bn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=rA(g,{relative:o}),[re,he,ie]=jA(s,T),ye=$A(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:w});function M(I){e&&e(I),I.defaultPrevented||ye(I)}let R=P.createElement("a",{...T,...ie,href:B||K,onClick:Q||u?e:M,ref:HA(D,he),target:p,"data-discover":!U&&t==="render"?"true":void 0});return re&&!U?P.createElement(P.Fragment,null,R,P.createElement(zA,{page:K})):R});Zh.displayName="Link";var GA=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let w=bu(h,{relative:g.relative}),T=ls(),D=P.useContext(Xh),{navigator:N,basename:U}=P.useContext(er),B=D!=null&&JA(w)&&m===!0,Q=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,K=T.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(K=K.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&U&&(re=si(re,U)||re);const he=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ie=K===Q||!o&&K.startsWith(Q)&&K.charAt(he)==="/",ye=re!=null&&(re===Q||!o&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),M={isActive:ie,isPending:ye,isTransitioning:B},R=ie?e:void 0,I;typeof s=="function"?I=s(M):I=[s,ie?"active":null,ye?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(M):u;return P.createElement(Zh,{...g,"aria-current":R,className:I,ref:_,style:V,to:h,viewTransition:m},typeof p=="function"?p(M):p)});GA.displayName="NavLink";var YA=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=fh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:w,...T},D)=>{let N=WA(),U=ZA(m,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&uT.test(m),K=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,ie=(he==null?void 0:he.getAttribute("formmethod"))||h;N(he||re.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:w})};return P.createElement("form",{ref:D,method:B,action:U,onSubmit:s?p:K,...T,"data-discover":!Q&&r==="render"?"true":void 0})});YA.displayName="Form";function QA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(r){let e=P.useContext(Io);return at(e,QA(r)),e}function $A(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Tu(),p=ls(),g=bu(r,{relative:u});return P.useCallback(_=>{if(AA(_,e)){_.preventDefault();let w=t!==void 0?t:cu(p)===cu(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,r,o,u,h])}var KA=0,XA=()=>`__${String(++KA)}__`;function WA(){let{router:r}=cT("useSubmit"),{basename:e}=P.useContext(er),t=pA();return P.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=CA(s,e);if(o.navigate===!1){let _=o.fetcherKey||XA();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function ZA(r,{relative:e}={}){let{basename:t}=P.useContext(er),s=P.useContext(tr);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},h=ls();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ri([t,u.pathname])),cu(u)}function JA(r,e={}){let t=P.useContext(eT);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cT("useViewTransitionState"),o=bu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=si(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=si(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ih(o.pathname,h)!=null||Ih(o.pathname,u)!=null}[...PA];const eR=()=>{};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},tR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,w=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(T=64)),s.push(t[_],t[w],t[T],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new nR;const T=u<<2|m>>4;if(s.push(T),g!==64){const D=m<<4&240|g>>2;if(s.push(D),w!==64){const N=g<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(r){const e=hT(r);return fT.encodeByteArray(e,!0)},Ch=function(r){return rR(r).replace(/\./g,"")},dT=function(r){try{return fT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=()=>iR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof u0>"u")return;const r=u0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&dT(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return eR()||sR()||aR()||oR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mT=r=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},lR=r=>{const e=mT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},pT=()=>{var r;return(r=Jh())===null||r===void 0?void 0:r.config},gT=r=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ch(JSON.stringify(t)),Ch(JSON.stringify(h)),""].join(".")}const ru={};function hR(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function fR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let c0=!1;function vT(r,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||ru[r]===e||ru[r]||c0)return;ru[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=hR().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{c0=!0,h()},T}function _(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=fR(s),D=t("text"),N=document.getElementById(D)||document.createElement("span"),U=t("learnmore"),B=document.getElementById(U)||document.createElement("a"),Q=t("preprendIcon"),K=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const re=T.element;m(re),_(B,U);const he=g();p(K,Q),re.append(K,N,B,he),document.body.appendChild(re)}u?(N.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function mR(){var r;const e=(r=Jh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _R(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ER(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="FirebaseError";class mi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=bR,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?wR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mi(o,m,s)}}function wR(r,e){return r.replace(SR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SR=/\{\$([^}]+)}/g;function AR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ai(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(h0(u)&&h0(h)){if(!ai(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function h0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function RR(r,e){const t=new IR(r,e);return t.subscribe.bind(t)}class IR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");CR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r){return r&&r._delegate?r._delegate:r}class oa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new uR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(r){return r===Ws?void 0:r}function NR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const MR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},VR=Ve.INFO,kR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},PR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=kR[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=VR,this._logHandler=PR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const LR=(r,e)=>e.some(t=>r instanceof t);let f0,d0;function UR(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jR(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,Zm=new WeakMap,ET=new WeakMap,Um=new WeakMap,Lp=new WeakMap;function zR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Wi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&_T.set(t,r)}).catch(()=>{}),Lp.set(e,r),e}function BR(r){if(Zm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Zm.set(r,e)}let Jm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ET.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qR(r){Jm=r(Jm)}function HR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(jm(this),e,...t);return ET.set(s,e.sort?e.sort():[e]),Wi(s)}:jR().includes(r)?function(...e){return r.apply(jm(this),e),Wi(_T.get(this))}:function(...e){return Wi(r.apply(jm(this),e))}}function FR(r){return typeof r=="function"?HR(r):(r instanceof IDBTransaction&&BR(r),LR(r,UR())?new Proxy(r,Jm):r)}function Wi(r){if(r instanceof IDBRequest)return zR(r);if(Um.has(r))return Um.get(r);const e=FR(r);return e!==r&&(Um.set(r,e),Lp.set(e,r)),e}const jm=r=>Lp.get(r);function GR(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Wi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Wi(h.result),p.oldVersion,p.newVersion,Wi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const YR=["get","getKey","getAll","getAllKeys","count"],QR=["put","add","delete","clear"],zm=new Map;function m0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=QR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||YR.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return zm.set(e,u),u}qR(r=>({...r,get:(e,t,s)=>m0(e,t)||r.get(e,t,s),has:(e,t)=>!!m0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function KR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",p0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Pp("@firebase/app"),XR="@firebase/app-compat",WR="@firebase/analytics-compat",ZR="@firebase/analytics",JR="@firebase/app-check-compat",eI="@firebase/app-check",tI="@firebase/auth",nI="@firebase/auth-compat",rI="@firebase/database",iI="@firebase/data-connect",sI="@firebase/database-compat",aI="@firebase/functions",oI="@firebase/functions-compat",lI="@firebase/installations",uI="@firebase/installations-compat",cI="@firebase/messaging",hI="@firebase/messaging-compat",fI="@firebase/performance",dI="@firebase/performance-compat",mI="@firebase/remote-config",pI="@firebase/remote-config-compat",gI="@firebase/storage",yI="@firebase/storage-compat",vI="@firebase/firestore",_I="@firebase/ai",EI="@firebase/firestore-compat",TI="firebase",bI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",wI={[ep]:"fire-core",[XR]:"fire-core-compat",[ZR]:"fire-analytics",[WR]:"fire-analytics-compat",[eI]:"fire-app-check",[JR]:"fire-app-check-compat",[tI]:"fire-auth",[nI]:"fire-auth-compat",[rI]:"fire-rtdb",[iI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[aI]:"fire-fn",[oI]:"fire-fn-compat",[lI]:"fire-iid",[uI]:"fire-iid-compat",[cI]:"fire-fcm",[hI]:"fire-fcm-compat",[fI]:"fire-perf",[dI]:"fire-perf-compat",[mI]:"fire-rc",[pI]:"fire-rc-compat",[gI]:"fire-gcs",[yI]:"fire-gcs-compat",[vI]:"fire-fst",[EI]:"fire-fst-compat",[_I]:"fire-vertex","fire-js":"fire-js",[TI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,SI=new Map,np=new Map;function g0(r,e){try{r.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function vo(r){const e=r.name;if(np.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,r);for(const t of xh.values())g0(t,r);for(const t of SI.values())g0(t,r);return!0}function Up(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new wu("app","Firebase",AI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=bI;function TT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Zi.create("bad-app-name",{appName:String(o)});if(t||(t=pT()),!t)throw Zi.create("no-options");const u=xh.get(o);if(u){if(ai(t,u.options)&&ai(s,u.config))return u;throw Zi.create("duplicate-app",{appName:o})}const h=new OR(o);for(const p of np.values())h.addComponent(p);const m=new RI(t,s,h);return xh.set(o,m),m}function bT(r=tp){const e=xh.get(r);if(!e&&r===tp&&pT())return TT();if(!e)throw Zi.create("no-app",{appName:r});return e}function na(r,e,t){var s;let o=(s=wI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(m.join(" "));return}vo(new oa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebase-heartbeat-database",CI=1,hu="firebase-heartbeat-store";let Bm=null;function wT(){return Bm||(Bm=GR(II,CI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Zi.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function xI(r){try{const t=(await wT()).transaction(hu),s=await t.objectStore(hu).get(ST(r));return await t.done,s}catch(e){if(e instanceof mi)oi.warn(e.message);else{const t=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(t.message)}}}async function y0(r,e){try{const s=(await wT()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,ST(r)),await s.done}catch(t){if(t instanceof mi)oi.warn(t.message);else{const s=Zi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oi.warn(s.message)}}}function ST(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1024,NI=30;class OI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=v0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>NI){const h=kI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=v0(),{heartbeatsToSend:s,unsentEntries:o}=MI(this._heartbeatsCache.heartbeats),u=Ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return oi.warn(t),""}}}function v0(){return new Date().toISOString().substring(0,10)}function MI(r,e=DI){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),_0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ER()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return y0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return y0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _0(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function kI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){vo(new oa("platform-logger",e=>new $R(e),"PRIVATE")),vo(new oa("heartbeat",e=>new OI(e),"PRIVATE")),na(ep,p0,r),na(ep,p0,"esm2017"),na("fire-js","")}PI("");function jp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LI=AT,RT=new wu("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Pp("@firebase/auth");function UI(r,...e){Dh.logLevel<=Ve.WARN&&Dh.warn(`Auth (${Do}): ${r}`,...e)}function mh(r,...e){Dh.logLevel<=Ve.ERROR&&Dh.error(`Auth (${Do}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,...e){throw Bp(r,...e)}function Zn(r,...e){return Bp(r,...e)}function zp(r,e,t){const s=Object.assign(Object.assign({},LI()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function ra(r){return zp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ar(r,"argument-error"),zp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return RT.create(r,...e)}function be(r,e,...t){if(!r)throw Bp(e,...t)}function ti(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function li(r,e){r||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function zI(){return E0()==="http:"||E0()==="https:"}function E0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||gR()||"connection"in navigator)?navigator.onLine:!0}function qI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=dR()||yR()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,e){li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new Au(3e4,6e4);function Hp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function No(r,e,t,s,o={}){return CT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Su(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return pR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&xo(r.emulatorConfig.host)&&(g.credentials="include"),IT.fetch()(await xT(r,r.config.apiHost,t,m),g)})}async function CT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},HI),e);try{const o=new QI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw zp(r,_,g);Ar(r,_)}}catch(o){if(o instanceof mi)throw o;Ar(r,"network-request-failed",{message:String(o)})}}async function YI(r,e,t,s,o={}){const u=await No(r,e,t,s,o);return"mfaPendingCredential"in u&&Ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?qp(r.config,o):`${r.config.apiScheme}://${o}`;return FI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),GI.get())})}}function sh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Zn(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e){return No(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return No(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KI(r,e=!1){const t=Ut(r),s=await t.getIdToken(e),o=Fp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(qm(o.auth_time)),issuedAtTime:iu(qm(o.iat)),expirationTime:iu(qm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qm(r){return Number(r)*1e3}function Fp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=dT(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function T0(r){const e=Fp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof mi&&XI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await fu(r,Nh(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?DT(u.providerUserInfo):[],m=JI(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ip(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function ZI(r){const e=Ut(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function DT(r){return r.map(e=>{var{providerId:t}=e,s=jp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,e){const t=await CT(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await xT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&xo(r.emulatorConfig.host)&&(p.credentials="include"),IT.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tC(r,e){return No(r,"POST","/v2/accounts:revokeToken",Hp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=T0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await eC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new mo;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ip(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await fu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await fu(this,$I(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,_;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,N=(h=t.photoURL)!==null&&h!==void 0?h:void 0,U=(m=t.tenantId)!==null&&m!==void 0?m:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:re,emailVerified:he,isAnonymous:ie,providerData:ye,stsTokenManager:M}=t;be(re&&M,e,"internal-error");const R=mo.fromJSON(this.name,M);be(typeof re=="string",e,"internal-error"),Fi(w,e.name),Fi(T,e.name),be(typeof he=="boolean",e,"internal-error"),be(typeof ie=="boolean",e,"internal-error"),Fi(D,e.name),Fi(N,e.name),Fi(U,e.name),Fi(B,e.name),Fi(Q,e.name),Fi(K,e.name);const I=new Wn({uid:re,auth:e,email:T,emailVerified:he,displayName:w,isAnonymous:ie,photoURL:N,phoneNumber:D,tenantId:U,stsTokenManager:R,createdAt:Q,lastLoginAt:K});return ye&&Array.isArray(ye)&&(I.providerData=ye.map(V=>Object.assign({},V))),B&&(I._redirectEventId=B),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new mo;o.updateFromServerResponse(t);const u=new Wn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;function ni(r){li(r instanceof Function,"Expected a class definition");let e=b0.get(r);return e?(li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,b0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NT.type="NONE";const w0=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,e,t){return`firebase:${r}:${e}:${t}`}class po{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nh(this.auth,{idToken:e}).catch(()=>{});return t?Wn._fromGetAccountInfoResponse(this.auth,t,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new po(ni(w0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ni(w0);const h=ph(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let w;if(typeof _=="string"){const T=await Nh(e,{idToken:_}).catch(()=>{});if(!T)break;w=await Wn._fromGetAccountInfoResponse(e,T,_)}else w=Wn._fromJSON(e,_);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LT(e))return"Blackberry";if(UT(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(PT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function OT(r=tn()){return/firefox\//i.test(r)}function MT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(r=tn()){return/crios\//i.test(r)}function kT(r=tn()){return/iemobile/i.test(r)}function PT(r=tn()){return/android/i.test(r)}function LT(r=tn()){return/blackberry/i.test(r)}function UT(r=tn()){return/webos/i.test(r)}function Gp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nC(r=tn()){var e;return Gp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rC(){return vR()&&document.documentMode===10}function jT(r=tn()){return Gp(r)||PT(r)||UT(r)||LT(r)||/windows phone/i.test(r)||kT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(r,e=[]){let t;switch(r){case"Browser":t=S0(tn());break;case"Worker":t=`${S0(tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e={}){return No(r,"GET","/v2/passwordPolicy",Hp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=6;class oC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:aC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new iC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nh(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ra(this));const t=e?Ut(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sC(this),t=new oC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await tC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ef(r){return Ut(r)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uC(r){Yp=r}function cC(r){return Yp.loadJS(r)}function hC(){return Yp.gapiScript}function fC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r,e){const t=Up(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ai(u,e??{}))return o;Ar(o,"already-initialized")}return t.initialize({options:e})}function mC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ni);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function pC(r,e,t){const s=ef(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=BT(e),{host:h,port:m}=gC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ai(g,s.config.emulator)&&ai(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,xo(h)?(yT(`${u}//${h}${p}`),vT("Auth",!0)):yC()}function BT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function gC(r){const e=BT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:R0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:R0(h)}}}function R0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function yC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,e){return YI(r,"POST","/v1/accounts:signInWithIdp",Hp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="http://localhost";class la extends qT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=jp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new la(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return go(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,go(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,go(e,t)}buildRequest(){const e={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Qp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ru{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return la._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ei.credential(t,s)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ru{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Ru{constructor(){super("twitter.com")}static credential(e,t){return la._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return $i.credential(t,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),h=I0(s);return new _o({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new _o({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function I0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends mi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Mh(e,t,s,o)}}function HT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function _C(r,e,t=!1){const s=await fu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return _o._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,e,t=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(ra(s));const o="reauthenticate";try{const u=await fu(r,HT(s,o,e,r),t);be(u.idToken,s,"internal-error");const h=Fp(u.idToken);be(h,s,"internal-error");const{sub:m}=h;return be(r.uid===m,s,"user-mismatch"),_o._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ar(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e,t=!1){if(Xn(r.app))return Promise.reject(ra(r));const s="signIn",o=await HT(r,s,e),u=await _o._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function bC(r,e,t,s){return Ut(r).onIdTokenChanged(e,t,s)}function wC(r,e,t){return Ut(r).beforeAuthStateChanged(e,t)}function SC(r,e,t,s){return Ut(r).onAuthStateChanged(e,t,s)}function AC(r){return Ut(r).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1e3,IC=10;class GT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);rC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}GT.type="LOCAL";const CC=GT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YT.type="SESSION";const QT=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new tf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await xC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=$p("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function NC(r){Er().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function OC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function VC(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebaseLocalStorageDb",kC=1,kh="firebaseLocalStorage",XT="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function PC(){const r=indexedDB.deleteDatabase(KT);return new Iu(r).toPromise()}function sp(){const r=indexedDB.open(KT,kC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:XT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await PC(),e(await sp()))})})}async function C0(r,e,t){const s=nf(r,!0).put({[XT]:e,value:t});return new Iu(s).toPromise()}async function LC(r,e){const t=nf(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function x0(r,e){const t=nf(r,!0).delete(e);return new Iu(t).toPromise()}const UC=800,jC=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>jC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(VC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new DC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await C0(e,Vh,"1"),await x0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>C0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>LC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>x0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nf(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const zC=WT;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e){return e?ni(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends qT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BC(r){return TC(r.auth,new Kp(r),r.bypassAuthState)}function qC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),EC(t,new Kp(r),r.bypassAuthState)}async function HC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),_C(t,new Kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:Ar(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Au(2e3,1e4);async function GC(r,e,t){if(Xn(r.app))return Promise.reject(Zn(r,"operation-not-supported-in-this-environment"));const s=ef(r);jI(r,e,Qp);const o=ZT(s,t);return new Js(s,"signInViaPopup",e,o).executeNotNull()}class Js extends JT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FC.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="pendingRedirect",gh=new Map;class QC extends JT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(r,e){const t=WC(e),s=XC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KC(r,e){gh.set(r._key(),e)}function XC(r){return ni(r._redirectPersistence)}function WC(r){return ph(YC,r.config.apiKey,r.name)}async function ZC(r,e,t=!1){if(Xn(r.app))return Promise.reject(ra(r));const s=ef(r),o=ZT(s,e),h=await new QC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=10*60*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!eb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(r,e={}){return No(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function s2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await n2(r);for(const t of e)try{if(a2(t))return}catch{}Ar(r,"unauthorized-domain")}function a2(r){const e=rp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!i2.test(t))return!1;if(r2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Au(3e4,6e4);function N0(){const r=Er().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function l2(r){return new Promise((e,t)=>{var s,o,u;function h(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),t(Zn(r,"network-request-failed"))},timeout:o2.get()})}if(!((o=(s=Er().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Er().gapi)===null||u===void 0)&&u.load)h();else{const m=fC("iframefcb");return Er()[m]=()=>{gapi.load?h():t(Zn(r,"network-request-failed"))},cC(`${hC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function u2(r){return yh=yh||l2(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Au(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?qp(e,f2):`https://${r.config.authDomain}/${h2}`,s={apiKey:e.apiKey,appName:r.name,v:Do},o=m2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Su(s).slice(1)}`}async function g2(r){const e=await u2(r),t=Er().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:p2(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Zn(r,"network-request-failed"),m=Er().setTimeout(()=>{u(h)},c2.get());function p(){Er().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v2=500,_2=600,E2="_blank",T2="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b2(r,e,t,s=v2,o=_2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},y2),{width:s.toString(),height:o.toString(),top:u,left:h}),g=tn().toLowerCase();t&&(m=VT(g)?E2:t),OT(g)&&(e=e||T2,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[D,N])=>`${T}${D}=${N},`,"");if(nC(g)&&m!=="_self")return w2(e||"",m),new O0(null);const w=window.open(e||"",m,_);be(w,r,"popup-blocked");try{w.focus()}catch{}return new O0(w)}function w2(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="__/auth/handler",A2="emulator/auth/handler",R2=encodeURIComponent("fac");async function M0(r,e,t,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Do,eventId:o};if(e instanceof Qp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",AR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))h[_]=w}if(e instanceof Ru){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${R2}=${encodeURIComponent(p)}`:"";return`${I2(r)}?${Su(m).slice(1)}${g}`}function I2({config:r}){return r.emulator?qp(r,A2):`https://${r.authDomain}/${S2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class C2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=ZC,this._overrideRedirectResult=KC}async _openPopup(e,t,s,o){var u;li((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await M0(e,t,s,rp(),o);return b2(e,h,$p())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await M0(e,t,s,rp(),o);return NC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(li(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await g2(e),s=new e2(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hm,{type:Hm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Hm];h!==void 0&&t(!!h),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jT()||MT()||Gp()}}const x2=C2;var V0="@firebase/auth",k0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(r){vo(new oa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zT(r)},g=new lC(s,o,u,p);return mC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),vo(new oa("auth-internal",e=>{const t=ef(e.getProvider("auth").getImmediate());return(s=>new D2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(V0,k0,N2(r)),na(V0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=5*60,V2=gT("authIdTokenMaxAge")||M2;let P0=null;const k2=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>V2)return;const o=t==null?void 0:t.token;P0!==o&&(P0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P2(r=bT()){const e=Up(r,"auth");if(e.isInitialized())return e.getImmediate();const t=dC(r,{popupRedirectResolver:x2,persistence:[zC,CC,QT]}),s=gT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=k2(u.toString());wC(t,h,()=>h(t.currentUser)),bC(t,m=>h(m))}}const o=mT("auth");return o&&pC(t,`http://${o}`),t}function L2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}uC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Zn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",L2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,tb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(V,L,z){for(var x=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)x[jt-2]=arguments[jt];return R.prototype[L].apply(V,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)V[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)V[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],L=M.g[2];var z=M.g[3],x=R+(z^I&(L^z))+V[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=z+(L^R&(I^L))+V[1]+3905402710&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(I^z&(R^I))+V[2]+606105819&4294967295,L=z+(x<<17&4294967295|x>>>15),x=I+(R^L&(z^R))+V[3]+3250441966&4294967295,I=L+(x<<22&4294967295|x>>>10),x=R+(z^I&(L^z))+V[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=z+(L^R&(I^L))+V[5]+1200080426&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(I^z&(R^I))+V[6]+2821735955&4294967295,L=z+(x<<17&4294967295|x>>>15),x=I+(R^L&(z^R))+V[7]+4249261313&4294967295,I=L+(x<<22&4294967295|x>>>10),x=R+(z^I&(L^z))+V[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=z+(L^R&(I^L))+V[9]+2336552879&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(I^z&(R^I))+V[10]+4294925233&4294967295,L=z+(x<<17&4294967295|x>>>15),x=I+(R^L&(z^R))+V[11]+2304563134&4294967295,I=L+(x<<22&4294967295|x>>>10),x=R+(z^I&(L^z))+V[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=z+(L^R&(I^L))+V[13]+4254626195&4294967295,z=R+(x<<12&4294967295|x>>>20),x=L+(I^z&(R^I))+V[14]+2792965006&4294967295,L=z+(x<<17&4294967295|x>>>15),x=I+(R^L&(z^R))+V[15]+1236535329&4294967295,I=L+(x<<22&4294967295|x>>>10),x=R+(L^z&(I^L))+V[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=z+(I^L&(R^I))+V[6]+3225465664&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^I&(z^R))+V[11]+643717713&4294967295,L=z+(x<<14&4294967295|x>>>18),x=I+(z^R&(L^z))+V[0]+3921069994&4294967295,I=L+(x<<20&4294967295|x>>>12),x=R+(L^z&(I^L))+V[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=z+(I^L&(R^I))+V[10]+38016083&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^I&(z^R))+V[15]+3634488961&4294967295,L=z+(x<<14&4294967295|x>>>18),x=I+(z^R&(L^z))+V[4]+3889429448&4294967295,I=L+(x<<20&4294967295|x>>>12),x=R+(L^z&(I^L))+V[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=z+(I^L&(R^I))+V[14]+3275163606&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^I&(z^R))+V[3]+4107603335&4294967295,L=z+(x<<14&4294967295|x>>>18),x=I+(z^R&(L^z))+V[8]+1163531501&4294967295,I=L+(x<<20&4294967295|x>>>12),x=R+(L^z&(I^L))+V[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=z+(I^L&(R^I))+V[2]+4243563512&4294967295,z=R+(x<<9&4294967295|x>>>23),x=L+(R^I&(z^R))+V[7]+1735328473&4294967295,L=z+(x<<14&4294967295|x>>>18),x=I+(z^R&(L^z))+V[12]+2368359562&4294967295,I=L+(x<<20&4294967295|x>>>12),x=R+(I^L^z)+V[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=z+(R^I^L)+V[8]+2272392833&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^I)+V[11]+1839030562&4294967295,L=z+(x<<16&4294967295|x>>>16),x=I+(L^z^R)+V[14]+4259657740&4294967295,I=L+(x<<23&4294967295|x>>>9),x=R+(I^L^z)+V[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=z+(R^I^L)+V[4]+1272893353&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^I)+V[7]+4139469664&4294967295,L=z+(x<<16&4294967295|x>>>16),x=I+(L^z^R)+V[10]+3200236656&4294967295,I=L+(x<<23&4294967295|x>>>9),x=R+(I^L^z)+V[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=z+(R^I^L)+V[0]+3936430074&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^I)+V[3]+3572445317&4294967295,L=z+(x<<16&4294967295|x>>>16),x=I+(L^z^R)+V[6]+76029189&4294967295,I=L+(x<<23&4294967295|x>>>9),x=R+(I^L^z)+V[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=z+(R^I^L)+V[12]+3873151461&4294967295,z=R+(x<<11&4294967295|x>>>21),x=L+(z^R^I)+V[15]+530742520&4294967295,L=z+(x<<16&4294967295|x>>>16),x=I+(L^z^R)+V[2]+3299628645&4294967295,I=L+(x<<23&4294967295|x>>>9),x=R+(L^(I|~z))+V[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=z+(I^(R|~L))+V[7]+1126891415&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~I))+V[14]+2878612391&4294967295,L=z+(x<<15&4294967295|x>>>17),x=I+(z^(L|~R))+V[5]+4237533241&4294967295,I=L+(x<<21&4294967295|x>>>11),x=R+(L^(I|~z))+V[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=z+(I^(R|~L))+V[3]+2399980690&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~I))+V[10]+4293915773&4294967295,L=z+(x<<15&4294967295|x>>>17),x=I+(z^(L|~R))+V[1]+2240044497&4294967295,I=L+(x<<21&4294967295|x>>>11),x=R+(L^(I|~z))+V[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=z+(I^(R|~L))+V[15]+4264355552&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~I))+V[6]+2734768916&4294967295,L=z+(x<<15&4294967295|x>>>17),x=I+(z^(L|~R))+V[13]+1309151649&4294967295,I=L+(x<<21&4294967295|x>>>11),x=R+(L^(I|~z))+V[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=z+(I^(R|~L))+V[11]+3174756917&4294967295,z=R+(x<<10&4294967295|x>>>22),x=L+(R^(z|~I))+V[2]+718787259&4294967295,L=z+(x<<15&4294967295|x>>>17),x=I+(z^(L|~R))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,V=this.B,L=this.h,z=0;z<R;){if(L==0)for(;z<=I;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(V[L++]=M.charCodeAt(z++),L==this.blockSize){o(this,V),L=0;break}}else for(;z<R;)if(V[L++]=M[z++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)M[I++]=this.g[R]>>>V&255;return M};function u(M,R){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function h(M,R){this.h=R;for(var I=[],V=!0,L=M.length-1;0<=L;L--){var z=M[L]|0;V&&z==R||(I[L]=z,V=!1)}this.g=I}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return B(g(-M));for(var R=[],I=1,V=0;M>=I;V++)R[V]=M/I|0,I*=4294967296;return new h(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return B(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=w,L=0;L<M.length;L+=8){var z=Math.min(8,M.length-L),x=parseInt(M.substring(L,L+z),R);8>z?(z=g(Math.pow(R,z)),V=V.j(z).add(g(x))):(V=V.j(I),V=V.add(g(x)))}return V}var w=p(0),T=p(1),D=p(16777216);r=h.prototype,r.m=function(){if(U(this))return-B(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);M+=(0<=V?V:4294967296+V)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(U(this))return"-"+B(this).toString(M);for(var R=g(Math.pow(M,6)),I=this,V="";;){var L=he(I,R).g;I=Q(I,L.j(R));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=L,N(I))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function U(M){return M.h==-1}r.l=function(M){return M=Q(this,M),U(M)?-1:N(M)?0:1};function B(M){for(var R=M.g.length,I=[],V=0;V<R;V++)I[V]=~M.g[V];return new h(I,~M.h).add(T)}r.abs=function(){return U(this)?B(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0,L=0;L<=R;L++){var z=V+(this.i(L)&65535)+(M.i(L)&65535),x=(z>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);V=x>>>16,z&=65535,x&=65535,I[L]=x<<16|z}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Q(M,R){return M.add(B(R))}r.j=function(M){if(N(this)||N(M))return w;if(U(this))return U(M)?B(this).j(B(M)):B(B(this).j(M));if(U(M))return B(this.j(B(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<M.g.length;L++){var z=this.i(V)>>>16,x=this.i(V)&65535,jt=M.i(L)>>>16,ut=M.i(L)&65535;I[2*V+2*L]+=x*ut,K(I,2*V+2*L),I[2*V+2*L+1]+=z*ut,K(I,2*V+2*L+1),I[2*V+2*L+1]+=x*jt,K(I,2*V+2*L+1),I[2*V+2*L+2]+=z*jt,K(I,2*V+2*L+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new h(I,0)};function K(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function re(M,R){this.g=M,this.h=R}function he(M,R){if(N(R))throw Error("division by zero");if(N(M))return new re(w,w);if(U(M))return R=he(B(M),R),new re(B(R.g),B(R.h));if(U(R))return R=he(M,B(R)),new re(B(R.g),R.h);if(30<M.g.length){if(U(M)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=T,V=R;0>=V.l(M);)I=ie(I),V=ie(V);var L=ye(I,1),z=ye(V,1);for(V=ye(V,2),I=ye(I,2);!N(V);){var x=z.add(V);0>=x.l(M)&&(L=L.add(I),z=x),V=ye(V,1),I=ye(I,1)}return R=Q(M,L.j(R)),new re(L,R)}for(L=w;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=g(I),x=z.j(R);U(x)||0<x.l(M);)I-=V,z=g(I),x=z.j(R);N(z)&&(z=T),L=L.add(z),M=Q(M,x)}return new re(L,M)}r.A=function(M){return he(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&M.i(V);return new h(I,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|M.i(V);return new h(I,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^M.i(V);return new h(I,this.h^M.h)};function ie(M){for(var R=M.g.length+1,I=[],V=0;V<R;V++)I[V]=M.i(V)<<1|M.i(V-1)>>>31;return new h(I,M.h)}function ye(M,R){var I=R>>5;R%=32;for(var V=M.g.length-I,L=[],z=0;z<V;z++)L[z]=0<R?M.i(z+I)>>>R|M.i(z+I+1)<<32-R:M.i(z+I);return new h(L,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Ji=h}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,Jl,rb,vh,ap,ib,sb,ab;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function T(c,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,$){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[q].apply(S,ae)}}function U(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function B(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const q=c.length||0,$=S.length||0;c.length=q+$;for(let ae=0;ae<$;ae++)c[q+ae]=S[ae]}else c.push(S)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ie=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ye(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let $=0;$<I.length;$++)v=I[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class jt{constructor(){this.h=this.g=null}add(y,v){const S=ut.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ut=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Be=new jt,O=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){z(v)}var y=ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{he(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}N(De,se);var we={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function nr(c,y,v,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=q,this.key=++tt,this.da=this.fa=!1}function pi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ir(c){this.src=c,this.g={},this.h=0}Ir.prototype.add=function(c,y,v,S,q){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=ps(c,y,S,q);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new nr(y,this.src,$,!!S,q),y.fa=v,c.push(y)),y};function ms(c,y){var v=y.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=q)&&Array.prototype.splice.call(S,q,1),$&&(pi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ps(c,y,v,S){for(var q=0;q<c.length;++q){var $=c[q];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return q}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),Uo={};function Vu(c,y,v,S,q){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Vu(c,y[$],v,S,q);return null}return v=ku(v),c&&c[Nt]?c.K(y,v,g(S)?!!S.capture:!1,q):Rn(c,y,v,!1,S,q)}function Rn(c,y,v,S,q,$){if(!y)throw Error("Invalid event type");var ae=g(q)?!!q.capture:!!q,Pe=ya(c);if(Pe||(c[gs]=Pe=new Ir(c)),v=Pe.add(y,v,S,ae,$),v.proxy)return v;if(S=xf(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ge||(q=ae),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(ys(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xf(){function c(v){return y.call(c.src,c.listener,v)}const y=Df;return c}function jo(c,y,v,S,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)jo(c,y[$],v,S,q);else S=g(S)?!!S.capture:!!S,v=ku(v),c&&c[Nt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=ps($,v,S,q),-1<v&&(pi($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ya(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ps(y,v,S,q)),(v=-1<c?y[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])ms(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ys(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ya(y))?(ms(v,c),v.h==0&&(v.src=null,y[gs]=null)):pi(c)}}}function ys(c){return c in Uo?Uo[c]:Uo[c]="on"+c}function Df(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&ga(c),c=v.call(S,y)}return c}function ya(c){return c=c[gs],c instanceof Ir?c:null}var zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[zo]||(c[zo]=function(y){return c.handleEvent(y)}),c[zo])}function ct(){le.call(this),this.i=new Ir(this),this.M=this,this.F=null}N(ct,le),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(c,y,v,S){jo(this,c,y,v,S)};function Ge(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var q=y;y=new se(S,c),V(y,q)}if(q=!0,v)for(var $=v.length-1;0<=$;$--){var ae=y.g=v[$];q=gn(ae,S,!0,y)&&q}if(ae=y.g=c,q=gn(ae,S,!0,y)&&q,q=gn(ae,S,!1,y)&&q,v)for($=0;$<v.length;$++)ae=y.g=v[$],q=gn(ae,S,!1,y)&&q}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)pi(v[S]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ct.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function gn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==v){var Pe=ae.listener,Rt=ae.ha||ae.src;ae.fa&&ms(c.i,ae),q=Pe.call(Rt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Kt(c,y,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Pu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Nf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){le.call(this),this.h=c,this.g={}}N(vs,le);var _s=[];function Es(c){ye(c.g,function(y,v){this.g.hasOwnProperty(v)&&ga(y)},c),c.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Es(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,va=m.JSON.parse,Ts=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Bo(){}Bo.prototype.h=null;function qo(c){return c.h||(c.h=c.i())}function Ho(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){se.call(this,"d")}N(xr,se);function Fo(){se.call(this,"c")}N(Fo,se);var rr={},Go=null;function gi(){return Go=Go||new ct}rr.La="serverreachability";function _a(c){se.call(this,rr.La,c)}N(_a,se);function yi(c){const y=gi();Ge(y,new _a(y))}rr.STAT_EVENT="statevent";function Lu(c,y){se.call(this,rr.STAT_EVENT,c),this.stat=y}N(Lu,se);function it(c){const y=gi();Ge(y,new Lu(y,c))}rr.Ma="timingevent";function At(c,y){se.call(this,rr.Ma,c),this.size=y}N(At,se);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Yo(c,y,v,S,q,$){c.info(function(){if(c.g)if($)for(var ae="",Pe=$.split("&"),Rt=0;Rt<Pe.length;Rt++){var Le=Pe[Rt].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var It=Mt.split("_");ae=2<=It.length&&It[1]=="type"?ae+(Mt+"="+Le+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+v+`
`+ae})}function Of(c,y,v,S,q,$,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+v+`
`+$+" "+ae})}function vi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bs(c,v)+(S?" "+S:"")})}function Uu(c,y){c.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function bs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return Hn(v)}catch{return y}}var _i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function sr(){}N(sr,Bo),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ir=new sr;function nn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Qo={},Ea={};function Fn(c,y,v){c.L=1,c.v=Is(yn(y)),c.m=v,c.P=!0,Nr(c,null)}function Nr(c,y){c.F=Date.now(),ws(c),c.A=yn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Jo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new mt,c.g=ec(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Nf(T(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(_s[0]=q.toString()),q=_s);for(var $=0;$<q.length;$++){var ae=Vu(v,q[$],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),yi(),Yo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const It=Nn(this.g);var y=this.g.Ba();const jr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||It!=4||y==7||(y==8||0>=jr?yi(3):yi(2)),Ei(this);var v=this.g.Z();this.X=v;t:if(ju(this)){var S=Yu(this.g);c="";var q=S.length,$=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ar(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Of(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Pe)){var Le=Pe;break t}}Le=null}if(v=Le)vi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,v);else{this.o=!1,this.s=3,it(12),zt(this),ar(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ae.length;)if(Bt=zu(this,ae),Bt==Ea){It==4&&(this.s=4,it(14),v=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Qo){this.s=4,it(15),vi(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else vi(this.i,this.l,Bt,null),Ss(this,Bt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ae.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)vi(this.i,this.l,ae,"[Invalid Chunked Response]"),zt(this),ar(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ks(Mt),Mt.M=!0,it(11))}}else vi(this.i,this.l,ae,null),Ss(this,ae);It==4&&zt(this),this.o&&!this.J&&(It==4?Wu(this.j,this):(this.o=!1,ws(this)))}else Lf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),zt(this),ar(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Ea:(v=Number(y.substring(v,S)),isNaN(v)?Qo:(S+=1,S+v>y.length?Ea:(y=y.slice(S,S+v),c.C=S+v,y)))}nn.prototype.cancel=function(){this.J=!0,zt(this)};function ws(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(T(c.ba,c),y)}function Ei(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Uu(this.i,this.A),this.L!=2&&(yi(),it(17)),zt(this),this.s=2,ar(this)):Bu(this,this.S-c)};function ar(c){c.j.G==0||c.J||Wu(c.j,c)}function zt(c){Ei(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ss(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||$o(v.h,c))){if(!c.K&&$o(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Oa(v),Da(v);else break e;il(v),it(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(T(v.Za,v),6e3));if(1>=ba(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ur(v,11)}else if((c.K||v.g==c)&&Oa(v),!K(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let Le=q[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Mt=Le[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const It=Le[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const jr=Le[5];jr!=null&&typeof jr=="number"&&0<jr&&(S=1.5*jr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const dr=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var $=S.h;$.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(wa($,$.h),$.h=null))}if(S.D){const al=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(S.ya=al,Xe(S.I,S.D,al))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),ae.K){rn(S.h,ae);var Pe=ae,Rt=S.L;Rt&&(Pe.I=Rt),Pe.B&&(Ei(Pe),ws(Pe)),S.g=ae}else Ku(S);0<v.i.length&&Na(v)}else Le[0]!="stop"&&Le[0]!="close"||Ur(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ur(v,7):nl(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}yi(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function Or(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ba(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function wa(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Or.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return U(c.i)}function Mf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Xo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Sa(c),S=Mf(c),q=S.length,$=0;$<q;$++)y.call(void 0,S[$],v&&v[$],c)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var $=c[v].substring(0,S);q=c[v].substring(S+1)}else $=c[v];y($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,Ti(this,c.s),this.l=c.l;var y=c.i,v=new Vr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Mr(this,v),this.m=c.m}else c&&(y=String(c).match(As))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),Ti(this,y[4]),this.l=Cn(y[5]||"",!0),Mr(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Cs(y,Wo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cs(y,Wo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cs(v,v.charAt(0)=="/"?kf:Zo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cs(v,Aa)),c.join("")};function yn(c){return new _t(c)}function Rs(c,y,v){c.j=v?Cn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ti(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mr(c,y,v){y instanceof Vr?(c.i=y,Fu(c.i,c.h)):(v||(y=Cs(y,Pf)),c.i=new Vr(y,c.h))}function Xe(c,y,v){c.i.set(y,v)}function Is(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Zo=/[#\?:]/g,kf=/[#\?]/g,Pf=/[#\?@]/g,Aa=/#/g;function Vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Vf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Vr.prototype,r.add=function(c,y){xn(this),this.i=null,c=or(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function kr(c,y){xn(c),y=or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Pr(c,y){return xn(c),y=or(c,y),c.g.has(y)}r.forEach=function(c,y){xn(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(y,q,S,this)},this)},this)},r.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const q=c[S];for(let $=0;$<q.length;$++)v.push(y[S])}return v},r.V=function(c){xn(this);let y=[];if(typeof c=="string")Pr(this,c)&&(y=y.concat(this.g.get(or(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return xn(this),this.i=null,c=or(this,c),Pr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Jo(c,y,v){kr(c,y),0<v.length&&(c.i=null,c.g.set(or(c,y),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const $=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var q=$;ae[S]!==""&&(q+="="+encodeURIComponent(String(ae[S]))),c.push(q)}}return this.i=c.join("&")};function or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(kr(this,S),Jo(this,q,v))},c)),c.j=y}function xs(c,y){const v=new In;if(m.Image){const S=new Image;S.onload=D(Dn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=D(Dn,v,"TestLoadImage: error",!1,y,S),S.onabort=D(Dn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(Dn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Gn(c,y){const v=new In,S=new AbortController,q=setTimeout(()=>{S.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function Ds(){this.g=new Ts}function lr(c,y,v){const S=v||"";try{Xo(c,function(q,$){let ae=q;g(q)&&(ae=Hn(q)),y.push(S+$+"="+encodeURIComponent(ae))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function bi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(bi,Bo),bi.prototype.g=function(){return new Lr(this.l,this.j)},bi.prototype.i=function(c){return function(){return c}}({});function Lr(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Lr,ct),r=Lr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ur(this):cr(this),this.readyState==3&&el(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},r.Qa=function(c){this.g&&(this.response=c,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let y="";return ye(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=tl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xe(c,y,v))}function He(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,ct);var Ra=/^https?$/i,Ns=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?qo(this.o):qo(ir),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Gu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of v)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Gu(this,$)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ia(c),hr(c)}function Ia(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},r.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Kt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ae===0){var q=String(c.D).match(As)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!Ra.test(q?q.toLowerCase():"")}v=S}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var $=2<Nn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ia(c)}}finally{hr(c)}}}}function hr(c,y){if(c.g){Os(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=S}catch{}}}function Os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),va(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lf(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(K(c[S]))continue;var v=L(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[q]||[];y[q]=$,$.push(v)}M(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function xa(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Or(c&&c.concurrentRequestLimit),this.Da=new Ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xa.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){it(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),Na(this)};function nl(c){if(Qu(c),c.G==3){var y=c.U++,v=yn(c.I);if(Xe(v,"SID",c.K),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Vs(c,v),y=new nn(c,c.j,y),y.L=2,y.v=Is(yn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ws(y)}Zu(c)}function Da(c){c.g&&(ks(c),c.g.cancel(),c.g=null)}function Qu(c){Da(c),c.u&&(m.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!Ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),me||(oe(),me=!0),Be.add(y,c),c.B=0}}function Uf(c,y){return ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(T(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new nn(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),V($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=$u(this,q,y),v=yn(this.I),Xe(v,"RID",c),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Vs(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(tl($)))+"&"+y:this.m&&Ot(v,this.m,$)),wa(this.h,q),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",y),Xe(v,"SID","null"),q.T=!0,Fn(q,v,null)):Fn(q,v,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||Ta(this.h)||rl(this))};function rl(c,y){var v;y?v=y.l:v=c.U++;const S=yn(c.I);Xe(S,"SID",c.K),Xe(S,"RID",v),Xe(S,"AID",c.T),Vs(c,S),c.m&&c.o&&Ot(S,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,v),Fn(v,S,y)}function Vs(c,y){c.H&&ye(c.H,function(v,S){Xe(y,S,v)}),c.l&&Xo({},function(v,S){Xe(y,S,v)})}function $u(c,y,v){v=Math.min(c.i.length,v);var S=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let $=-1;for(;;){const ae=["count="+v];$==-1?0<v?($=q[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Pe=!0;for(let Rt=0;Rt<v;Rt++){let Le=q[Rt].g;const Mt=q[Rt].map;if(Le-=$,0>Le)$=Math.max(0,q[Rt].g-100),Pe=!1;else try{lr(Mt,ae,"req"+Le+"_")}catch{S&&S(Mt)}}if(Pe){S=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),me||(oe(),me=!0),Be.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(T(c.Fa,c),sl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Da(this),Xu(this))};function ks(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Vs(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Is(yn(y)),v.m=null,v.P=!0,Nr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Da(this),il(this),it(19))};function Oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){Oa(c),ks(c),c.g=null;var S=2}else if($o(c.h,y))v=y.D,rn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=gi(),Ge(S,new At(S,v)),Na(c)}else Ku(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Uf(c,y)||S==2&&il(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function sl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ur(c,y){if(c.j.info("Error code "+y),y==2){var v=T(c.fb,c),S=c.Xa;const q=!S;S=new _t(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rs(S,"https"),Is(S),q?xs(S.toString(),v):Gn(S.toString(),v)}else it(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,v){var S=v instanceof _t?yn(v):new _t(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ti(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var $=new _t(null);S&&Rs($,S),y&&($.g=y),q&&Ti($,q),v&&($.l=v),S=$}return v=c.D,y=c.ya,v&&y&&Xe(S,v,y),Xe(S,"VER",c.la),Vs(c,S),S}function ec(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new bi({eb:v})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ma(){}Ma.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ct.call(this),this.g=new xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!K(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fr(this)}N(sn,ct),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){nl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hn(c),c=v);y.i.push(new qu(y.Ya++,c)),y.G==3&&Na(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,sn.aa.N.call(this)};function nc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(nc,xr);function rc(){Fo.call(this),this.status=1}N(rc,Fo);function fr(c){this.g=c}N(fr,tc),fr.prototype.ua=function(){Ge(this.g,"a")},fr.prototype.ta=function(c){Ge(this.g,new nc(c))},fr.prototype.sa=function(c){Ge(this.g,new rc)},fr.prototype.ra=function(){Ge(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,ab=function(){return new Ma},sb=function(){return gi()},ib=rr,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,vh=_i,Dr.COMPLETE="complete",rb=Dr,Ho.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Jl=Ho,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,nb=He}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore",j0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Pp("@firebase/firestore");function uo(){return ua.logLevel}function ce(r,...e){if(ua.logLevel<=Ve.DEBUG){const t=e.map(Xp);ua.debug(`Firestore (${Oo}): ${r}`,...t)}}function ui(r,...e){if(ua.logLevel<=Ve.ERROR){const t=e.map(Xp);ua.error(`Firestore (${Oo}): ${r}`,...t)}}function ts(r,...e){if(ua.logLevel<=Ve.WARN){const t=e.map(Xp);ua.warn(`Firestore (${Oo}): ${r}`,...t)}}function Xp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ob(r,s,t)}function ob(r,e,t){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ui(s),new Error(s)}function Fe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||ob(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class z2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ii)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new lb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class B2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new B2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new z0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=F2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function op(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=ub(),h=G2(u.encode(B0(r,t)),u.encode(B0(e,t)));return h!==0?h:xe(s,o)}}t+=s>65535?2:1}return xe(r.length,e.length)}function B0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function G2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return xe(r[t],e[t]);return xe(r.length,e.length)}function Eo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="__name__";class _r{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=_r.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return xe(e.length,t.length)}static compareSegments(e,t){const s=_r.isNumericId(e),o=_r.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):op(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class rt extends _r{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const Y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends _r{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return Y2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q0}static keyField(){return new Yt([q0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e,t){if(!t)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Q2(r,e,t,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function H0(r){if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function F0(r){if(pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function mn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rf(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function Cu(r,e){if(!hb(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ue(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,Y0=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Y0);return new Ce(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G0)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:St("string",Ce._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ce(0,0))}static max(){return new Se(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function $2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Ce(t+1,0):new Ce(t,s));return new ns(o,pe.empty(),e)}function K2(r){return new ns(r.readTime,r.key,du)}class ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ns(Se.min(),pe.empty(),du)}static max(){return new ns(Se.max(),pe.empty(),du)}}function X2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==W2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function J2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}sf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-1;function af(r){return r==null}function Ph(r){return r===0&&1/r==-1/0}function ex(r){return typeof r=="number"&&Number.isInteger(r)&&!Ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="";function tx(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Q0(e)),e=nx(r.get(t),e);return Q0(e)}function nx(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case fb:t+="";break;default:t+=u}}return t}function Q0(r){return r+fb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function us(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function db(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(e){return new K0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class K0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new An([])}unionWith(e){let t=new Dt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mb("Invalid base64 string: "+u):u}}(e);return new $t(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const t=rx.exec(r);if(Fe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="server_timestamp",gb="__type__",yb="__previous_value__",vb="__local_write_time__";function Jp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[gb])===null||t===void 0?void 0:t.stringValue)===pb}function of(r){const e=r.mapValue.fields[yb];return Jp(e)?of(e):e}function mu(r){const e=rs(r.mapValue.fields[vb].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Lh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__type__",sx="__max__",lh={mapValue:{}},Eb="__vector__",Uh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jp(r)?4:ox(r)?9007199254740991:ax(r)?10:11:Ee(28295,{value:r})}function Rr(r,e){if(r===e)return!0;const t=ss(r);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=rs(o.timestampValue),m=rs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Ph(h)===Ph(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if($0(h)!==$0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Rr(h[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function gu(r,e){return(r.values||[]).find(t=>Rr(t,e))!==void 0}function To(r,e){if(r===e)return 0;const t=ss(r),s=ss(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return X0(r.timestampValue,e.timestampValue);case 4:return X0(mu(r),mu(e));case 5:return op(r.stringValue,e.stringValue);case 6:return function(u,h){const m=is(u),p=is(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=xe(m[g],p[g]);if(_!==0)return _}return xe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=xe(yt(u.latitude),yt(h.latitude));return m!==0?m:xe(yt(u.longitude),yt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return W0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const w=u.fields||{},T=h.fields||{},D=(m=w[Uh])===null||m===void 0?void 0:m.arrayValue,N=(p=T[Uh])===null||p===void 0?void 0:p.arrayValue,U=xe(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:W0(D,N)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=op(p[w],_[w]);if(T!==0)return T;const D=To(m[p[w]],g[_[w]]);if(D!==0)return D}return xe(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function X0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=rs(r),s=rs(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function W0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=To(t[o],s[o]);if(u)return u}return xe(t.length,s.length)}function bo(r){return lp(r)}function lp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=rs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return is(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=lp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${lp(t.fields[h])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,h)=>{o+=u.length+_h(h)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Z0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function up(r){return!!r&&"integerValue"in r}function eg(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function eE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function ax(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[_b])===null||t===void 0?void 0:t.stringValue)===Eb}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=su(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ox(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=su(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){us(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new dn(su(this.value))}}function Tb(r){const e=[];return us(r.fields,(t,s)=>{const o=new Yt([t]);if(Eh(s)){const u=Tb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,Se.min(),Se.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Se.min(),Se.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.position=e,this.inclusive=t}}function tE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=To(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Rr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function lx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{}class wt extends bb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new cx(e,t,s):t==="array-contains"?new dx(e,s):t==="in"?new mx(e,s):t==="not-in"?new px(e,s):t==="array-contains-any"?new gx(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new hx(e,s):new fx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(To(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends bb{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Jn(e,t)}matches(e){return wb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function wb(r){return r.op==="and"}function Sb(r){return ux(r)&&wb(r)}function ux(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function cp(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(Sb(r))return r.filters.map(e=>cp(e)).join(",");{const e=r.filters.map(t=>cp(t)).join(",");return`${r.op}(${e})`}}function Ab(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Rr(s.value,o.value)}(r,e):r instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Ab(h,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function Rb(r){return r instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`}(r):r instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(Rb).join(" ,")+"}"}(r):"Filter"}class cx extends wt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class hx extends wt{constructor(e,t){super(e,"in",t),this.keys=Ib("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fx extends wt{constructor(e,t){super(e,"not-in",t),this.keys=Ib("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ib(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class dx extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&gu(t.arrayValue,this.value)}}class mx extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class px extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class gx extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function rE(r,e=null,t=[],s=[],o=null,u=null,h=null){return new yx(r,e,t,s,o,u,h)}function tg(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>cp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>bo(s)).join(",")),e.Pe=t}return e.Pe}function ng(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!lx(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ab(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nE(r.startAt,e.startAt)&&nE(r.endAt,e.endAt)}function hp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function vx(r,e,t,s,o,u,h,m){return new ko(r,e,t,s,o,u,h,m)}function lf(r){return new ko(r)}function iE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cb(r){return r.collectionGroup!==null}function au(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new yu(u,s))}),t.has(Yt.keyField().canonicalString())||e.Te.push(new yu(Yt.keyField(),s))}return e.Te}function Tr(r){const e=Ae(r);return e.Ie||(e.Ie=_x(e,au(r))),e.Ie}function _x(r,e){if(r.limitType==="F")return rE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)});const t=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return rE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function fp(r,e){const t=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function dp(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function uf(r,e){return ng(Tr(r),Tr(e))&&r.limitType===e.limitType}function xb(r){return`${tg(Tr(r))}|lt:${r.limitType}`}function co(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Rb(o)).join(", ")}]`),af(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>bo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>bo(o)).join(",")),`Target(${s})`}(Tr(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=tE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,au(s),o)||s.endAt&&!function(h,m,p){const g=tE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,au(s),o))}(r,e)}function Ex(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Db(r){return(e,t)=>{let s=!1;for(const o of au(r)){const u=Tx(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Tx(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?To(p,g):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return db(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new lt(pe.comparator);function ci(){return bx}const Nb=new lt(pe.comparator);function eu(...r){let e=Nb;for(const t of r)e=e.insert(t.key,t);return e}function Ob(r){let e=Nb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ea(){return ou()}function Mb(){return ou()}function ou(){return new fa(r=>r.toString(),(r,e)=>r.isEqual(e))}const wx=new lt(pe.comparator),Sx=new Dt(pe.comparator);function ke(...r){let e=Sx;for(const t of r)e=e.add(t);return e}const Ax=new Dt(xe);function Rx(){return Ax}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function Vb(r){return{integerValue:""+r}}function Ix(r,e){return ex(e)?Vb(e):rg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function Cx(r,e,t){return r instanceof vu?function(o,u){const h={fields:{[gb]:{stringValue:pb},[vb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=of(u)),u&&(h.fields[yb]=u),{mapValue:h}}(t,e):r instanceof wo?Pb(r,e):r instanceof So?Lb(r,e):function(o,u){const h=kb(o,u),m=sE(h)+sE(o.Ee);return up(h)&&up(o.Ee)?Vb(m):rg(o.serializer,m)}(r,e)}function xx(r,e,t){return r instanceof wo?Pb(r,e):r instanceof So?Lb(r,e):t}function kb(r,e){return r instanceof zh?function(s){return up(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class vu extends hf{}class wo extends hf{constructor(e){super(),this.elements=e}}function Pb(r,e){const t=Ub(e);for(const s of r.elements)t.some(o=>Rr(o,s))||t.push(s);return{arrayValue:{values:t}}}class So extends hf{constructor(e){super(),this.elements=e}}function Lb(r,e){let t=Ub(e);for(const s of r.elements)t=t.filter(o=>!Rr(o,s));return{arrayValue:{values:t}}}class zh extends hf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function sE(r){return yt(r.integerValue||r.doubleValue)}function Ub(r){return eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.field=e,this.transform=t}}function Dx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof wo&&o instanceof wo||s instanceof So&&o instanceof So?Eo(s.elements,o.elements,Rr):s instanceof zh&&o instanceof zh?Rr(s.Ee,o.Ee):s instanceof vu&&o instanceof vu}(r.transform,e.transform)}class Nx{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function jb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sg(r.key,zn.none()):new xu(r.key,r.data,zn.none());{const t=r.data,s=dn.empty();let o=new Dt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new cs(r.key,s,new An(o.toArray()),zn.none())}}function Ox(r,e,t){r instanceof xu?function(o,u,h){const m=o.value.clone(),p=oE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof cs?function(o,u,h){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=oE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(zb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function lu(r,e,t,s){return r instanceof xu?function(u,h,m,p){if(!Th(u.precondition,h))return m;const g=u.value.clone(),_=lE(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof cs?function(u,h,m,p){if(!Th(u.precondition,h))return m;const g=lE(u.fieldTransforms,p,h),_=h.data;return _.setAll(zb(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(u,h,m){return Th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function Mx(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=kb(s.transform,o||null);u!=null&&(t===null&&(t=dn.empty()),t.set(s.field,u))}return t||null}function aE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,(u,h)=>Dx(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends ff{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends ff{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function oE(r,e,t){const s=new Map;Fe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,xx(h,m,t[o]))}return s}function lE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,Cx(u,h,e))}return s}class sg extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Ox(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Mb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=jb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,s)=>aE(t,s))&&Eo(this.baseMutations,e.baseMutations,(t,s)=>aE(t,s))}}class ag{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return wx}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ag(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,je;function Ux(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Bb(r){if(r===void 0)return ui("GRPC error has no .code"),J.UNKNOWN;switch(r){case bt.OK:return J.OK;case bt.CANCELLED:return J.CANCELLED;case bt.UNKNOWN:return J.UNKNOWN;case bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case bt.INTERNAL:return J.INTERNAL;case bt.UNAVAILABLE:return J.UNAVAILABLE;case bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case bt.NOT_FOUND:return J.NOT_FOUND;case bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case bt.ABORTED:return J.ABORTED;case bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case bt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Ji([4294967295,4294967295],0);function uE(r){const e=ub().encode(r),t=new tb;return t.update(e),new Uint8Array(t.digest())}function cE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ji([t,s],0),new Ji([o,u],0)]}class og{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new tu(`Invalid padding: ${t}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new tu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ji.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Ji.fromNumber(s)));return o.compare(jx)===1&&(o=new Ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=uE(e),[s,o]=cE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new og(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=uE(e),[s,o]=cE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new df(Se.min(),o,new lt(xe),ci(),ke())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class qb{constructor(e,t){this.targetId=e,this.De=t}}class Hb{constructor(e,t,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class hE{constructor(){this.ve=0,this.Ce=fE(),this.Fe=$t.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),s=ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Du(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=fE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class zx{constructor(e){this.We=e,this.Ge=new Map,this.ze=ci(),this.je=uh(),this.Je=uh(),this.He=new lt(xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(hp(u))if(s===0){const h=new pe(u.path);this.Xe(t,h,en.newNoDocument(h,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=is(s).toUint8Array()}catch(p){if(p instanceof mb)return ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new og(h,o,u)}catch(p){return ts(p instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&hp(m.target)){const p=new pe(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,en.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=ke();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new df(e,t,this.He,this.ze,s);return this.ze=ci(),this.je=uh(),this.Je=uh(),this.He=new lt(xe),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new hE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new hE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function uh(){return new lt(pe.comparator)}function fE(){return new lt(pe.comparator)}const Bx={asc:"ASCENDING",desc:"DESCENDING"},qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hx={and:"AND",or:"OR"};class Fx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mp(r,e){return r.useProto3Json||af(e)?e:{value:e}}function Bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Gx(r,e){return Bh(r,e.toTimestamp())}function br(r){return Fe(!!r,49232),Se.fromTimestamp(function(t){const s=rs(t);return new Ce(s.seconds,s.nanos)}(r))}function lg(r,e){return pp(r,e).canonicalString()}function pp(r,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Gb(r){const e=rt.fromString(r);return Fe(Xb(e),10190,{key:e.toString()}),e}function gp(r,e){return lg(r.databaseId,e.path)}function Fm(r,e){const t=Gb(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(Qb(t))}function Yb(r,e){return lg(r.databaseId,e)}function Yx(r){const e=Gb(r);return e.length===4?rt.emptyPath():Qb(e)}function yp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dE(r,e,t){return{name:gp(r,e),fields:t.value.mapValue.fields}}function Qx(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),$t.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),$t.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?J.UNKNOWN:Bb(g.code);return new ue(_,g.message||"")}(h);t=new Hb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fm(r,s.document.name),u=br(s.document.updateTime),h=s.document.createTime?br(s.document.createTime):Se.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new bh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fm(r,s.document),u=s.readTime?br(s.readTime):Se.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];t=new bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fm(r,s.document),u=s.removedTargetIds||[];t=new bh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Lx(o,u),m=s.targetId;t=new qb(m,h)}}return t}function $x(r,e){let t;if(e instanceof xu)t={update:dE(r,e.key,e.value)};else if(e instanceof sg)t={delete:gp(r,e.key)};else if(e instanceof cs)t={update:dE(r,e.key,e.data),updateMask:rD(e.fieldMask)};else{if(!(e instanceof Vx))return Ee(16599,{Rt:e.type});t={verify:gp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof vu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof So)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Gx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),t}function Kx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?br(o.updateTime):br(u);return h.isEqual(Se.min())&&(h=br(u)),new Nx(h,o.transformResults||[])}(t,e))):[]}function Xx(r,e){return{documents:[Yb(r,e.path)]}}function Wx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Yb(r,o);const u=function(g){if(g.length!==0)return Kb(Jn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:ho(T.field),direction:eD(T.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=mp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function Zx(r){let e=Yx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(w){const T=$b(w);return T instanceof Jn&&Sb(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(T=>function(N){return new yu(fo(N.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(w){let T;return T=typeof w=="object"?w.value:w,af(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,D=w.values||[];return new jh(D,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,D=w.values||[];return new jh(D,T)}(t.endAt)),vx(e,o,h,u,m,"F",p,g)}function Jx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $b(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=fo(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(t.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(t.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return wt.create(fo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(s=>$b(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function eD(r){return Bx[r]}function tD(r){return qx[r]}function nD(r){return Hx[r]}function ho(r){return{fieldPath:r.canonicalString()}}function fo(r){return Yt.fromServerFormat(r.fieldPath)}function Kb(r){return r instanceof wt?function(t){if(t.op==="=="){if(eE(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NAN"}};if(J0(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eE(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NAN"}};if(J0(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(t.field),op:tD(t.op),value:t.value}}}(r):r instanceof Jn?function(t){const s=t.getFilters().map(o=>Kb(o));return s.length===1?s[0]:{compositeFilter:{op:nD(t.op),filters:s}}}(r):Ee(54877,{filter:r})}function rD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,s,o,u=Se.min(),h=Se.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.gt=e}}function sD(r){const e=Zx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Dn=new oD}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ns.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class oD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(rt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Wb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ao(0)}static ur(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LruGarbageCollector",lD=1048576;function gE([r,e],[t,s]){const o=xe(r,t);return o===0?xe(e,s):o}class uD{constructor(e){this.Tr=e,this.buffer=new Dt(gE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();gE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(pE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?ce(pE,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.Rr(3e5)})}}class hD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(sf.ue);const s=new uD(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(mE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),uo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function fD(r,e){return new hD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.changes=new fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&lu(s.mutation,o,An.empty(),Ce.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=ea();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=eu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ea();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=ci();const h=ou(),m=function(){return ou()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof cs)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),lu(_.mutation,g,_.mutation.getFieldMask(),Ce.now())):h.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var w;return m.set(g,new mD(_,(w=h.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const s=ou();let o=new lt((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||An.empty();_=m.applyToLocalView(g,_),s.set(p,_);const w=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,w=Mb();_.forEach(T=>{if(!u.has(T)){const D=jb(t.get(T),s.get(T));D!==null&&w.set(T,D),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(ea());let m=du,p=u;return h.next(g=>te.forEach(g,(_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(_=>({batchId:m,changes:Ob(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=eu();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,T){return new ko(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((w,T)=>{h=h.insert(w,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,en.newInvalidDocument(_)))});let m=eu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&lu(_.mutation,g,An.empty(),Ce.now()),cf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:sD(o.bundledQuery),readTime:br(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new lt(pe.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ea();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=ea(),u=t.length+1,h=new pe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ea(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return te.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Px(t,s));let u=this.kr.get(t);u===void 0&&(u=ke(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.qr=new Dt(Lt.Qr),this.$r=new Dt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new pe(new rt([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new pe(new rt([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=ke();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return pe.comparator(e.key,t.key)||xe(e.Hr,t.Hr)}static Ur(e,t){return xe(e.Hr,t.Hr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(Lt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kx(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Zp:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(xe);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new pe(u),0);let m=new Dt(xe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.ni=e,this.docs=function(){return new lt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=ci();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ci();const h=t.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||X2(K2(_),s)<=0||(o.has(_.key)||cf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new TD(this)}getSize(e){return te.resolve(this.size)}}class TD extends dD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.persistence=e,this.ii=new fa(t=>tg(t),ng),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new ug,this.targetCount=0,this._i=Ao.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t){this.ai={},this.overlays={},this.ui=new sf(0),this.ci=!1,this.ci=!0,this.li=new vD,this.referenceDelegate=e(this),this.hi=new bD(this),this.indexManager=new aD,this.remoteDocumentCache=function(o){return new ED(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new iD(t),this.Ti=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new _D(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new wD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class wD extends Z2{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ai=new ug,this.Ri=null}static Vi(e){return new cg(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=pe.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class qh{constructor(e,t){this.persistence=e,this.gi=new fa(s=>tx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fD(this,t)}static Vi(e,t){return new qh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}Sr(e,t,s){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return _R()?8:J2(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new SD;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(uo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(uo()<=Ve.DEBUG&&ce("QueryEngine","Query:",co(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(uo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(t))):te.resolve())}ps(e,t){if(iE(t))return te.resolve(null);let s=Tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=dp(t,null,"F"),s=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,h,p.readTime)?this.ps(e,dp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return iE(t)||o.isEqual(Se.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?te.resolve(null):(uo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(t)),this.vs(e,h,t,$2(o,du)).next(m=>m))})}bs(e,t){let s=new Dt(Db(e));return t.forEach((o,u)=>{cf(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return uo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",co(t)),this.gs.getDocumentsMatchingQuery(e,t,ns.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",RD=3e8;class ID{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new lt(xe),this.Ms=new fa(u=>tg(u),ng),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function CD(r,e,t,s){return new ID(r,e,t,s)}async function Jb(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function xD(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const w=g.batch,T=w.keys();let D=te.resolve();return T.forEach(N=>{D=D.next(()=>_.getEntry(p,N)).next(U=>{const B=g.docVersions.get(N);Fe(B!==null,48541),U.version.compareTo(B)<0&&(w.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),_.addEntry(U)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function ew(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function DD(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;m.push(t.hi.removeMatchingKeys(u,_.removedDocuments,w).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,w)));let D=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(w,D),function(U,B,Q){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=RD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(T,D,_)&&m.push(t.hi.updateTargetData(u,D))});let p=ci(),g=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(ND(u,h,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!s.isEqual(Se.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(w=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function ND(r,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ci();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(fg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function OD(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Zp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function MD(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new Xi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function vp(r,e,t){const s=Ae(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Vo(h))throw h;ce(fg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function yE(r,e,t){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const w=Ae(p),T=w.Ms.get(_);return T!==void 0?te.resolve(w.Fs.get(T)):w.hi.getTargetData(g,_)}(s,h,Tr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:ke())).next(m=>(VD(s,Ex(e),m),{documents:m,qs:u})))}function VD(r,e,t){let s=r.xs.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class vE{constructor(){this.activeTargetIds=Rx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kD{constructor(){this.Fo=new vE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class EE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(_E,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(_E,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function _p(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",LD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=_p(),m=this.Go(e,t.toUriEncodedString());ce(Gm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),_=xo(g);return this.jo(e,m,p,s,_).then(w=>(ce(Gm,`Received RPC '${e}' ${h}: `,w),w),w=>{throw ts(Gm,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=LD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class zD extends UD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=_p();return new Promise((m,p)=>{const g=new nb;g.setWithCredentials(!0),g.listenOnce(rb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const w=g.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case vh.TIMEOUT:ce(Zt,`RPC '${e}' ${h} timed out`),p(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const T=g.getStatus();if(ce(Zt,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D==null?void 0:D.error;if(N&&N.status&&N.message){const U=function(Q){const K=Q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(K)>=0?K:J.UNKNOWN}(N.status);p(new ue(U,N.message))}else p(new ue(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);ce(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}P_(e,t,s){const o=_p(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ab(),m=sb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=h.createWebChannel(_,p);this.T_(w);let T=!1,D=!1;const N=new jD({Ho:B=>{D?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,B),w.send(B))},Yo:()=>w.close()}),U=(B,Q,K)=>{B.listen(Q,re=>{try{K(re)}catch(he){setTimeout(()=>{throw he},0)}})};return U(w,Jl.EventType.OPEN,()=>{D||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),N.s_())}),U(w,Jl.EventType.CLOSE,()=>{D||(D=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),N.__(),this.I_(w))}),U(w,Jl.EventType.ERROR,B=>{D||(D=!0,ts(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),N.__(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),U(w,Jl.EventType.MESSAGE,B=>{var Q;if(!D){const K=B.data[0];Fe(!!K,16349);const re=K,he=(re==null?void 0:re.error)||((Q=re[0])===null||Q===void 0?void 0:Q.error);if(he){ce(Zt,`RPC '${e}' stream ${o} received error:`,he);const ie=he.status;let ye=function(I){const V=bt[I];if(V!==void 0)return Bb(V)}(ie),M=he.message;ye===void 0&&(ye=J.INTERNAL,M="Unknown error status: "+ie+" with message "+he.message),D=!0,N.__(new ue(ye,M)),w.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,K),N.a_(K)}}),U(m,ib.STAT_EVENT,B=>{B.stat===ap.PROXY?ce(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===ap.NOPROXY&&ce(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(r){return new Fx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class nw{constructor(e,t,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new tw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ce(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BD extends nw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Qx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?br(h.readTime):Se.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=yp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=hp(p)?{documents:Xx(u,p)}:{query:Wx(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Fb(u,h.resumeToken);const g=mp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=mp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Jx(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=yp(this.serializer),t.removeTarget=e,this.k_(t)}}class qD extends nw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Kx(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=yp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$x(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{}class FD extends HD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,pp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,pp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(J.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class GD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ui(t),this._a=!1):ce("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class YD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{da(this)&&(ce(ca,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Nu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await pf(g)}(this))})}),this.Aa=new GD(s,o)}}async function pf(r){if(da(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function rw(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),gg(t)?pg(t):Po(t).x_()&&mg(t,e))}function dg(r,e){const t=Ae(r),s=Po(t);t.Ta.delete(e),s.x_()&&iw(t,e),t.Ta.size===0&&(s.x_()?s.B_():da(t)&&t.Aa.set("Unknown"))}function mg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).H_(e)}function iw(r,e){r.Ra.$e(e),Po(r).Y_(e)}function pg(r){r.Ra=new zx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Aa.aa()}function gg(r){return da(r)&&!Po(r).M_()&&r.Ta.size>0}function da(r){return Ae(r).Ia.size===0}function sw(r){r.Ra=void 0}async function QD(r){r.Aa.set("Online")}async function $D(r){r.Ta.forEach((e,t)=>{mg(r,e)})}async function KD(r,e){sw(r),gg(r)?(r.Aa.la(e),pg(r)):r.Aa.set("Unknown")}async function XD(r,e,t){if(r.Aa.set("Online"),e instanceof Hb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){ce(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof bh?r.Ra.Ye(e):e instanceof qb?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Se.min()))try{const s=await ew(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(g);_&&u.Ta.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken($t.EMPTY_BYTE_STRING,_.snapshotVersion)),iw(u,p);const w=new Xi(_.target,p,g,_.sequenceNumber);mg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ce(ca,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,t){if(!Vo(e))throw e;r.Ia.add(1),await Nu(r),r.Aa.set("Offline"),t||(t=()=>ew(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(ca,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await pf(r)})}function aw(r,e){return e().catch(t=>Hh(r,t,e))}async function gf(r){const e=Ae(r),t=as(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Zp;for(;WD(e);)try{const o=await OD(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,ZD(e,o)}catch(o){await Hh(e,o)}ow(e)&&lw(e)}function WD(r){return da(r)&&r.Pa.length<10}function ZD(r,e){r.Pa.push(e);const t=as(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function ow(r){return da(r)&&!as(r).M_()&&r.Pa.length>0}function lw(r){as(r).start()}async function JD(r){as(r).na()}async function eN(r){const e=as(r);for(const t of r.Pa)e.X_(t.mutations)}async function tN(r,e,t){const s=r.Pa.shift(),o=ag.from(s,e,t);await aw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await gf(r)}async function nN(r,e){e&&as(r).Z_&&await async function(s,o){if(function(h){return Ux(h)&&h!==J.ABORTED}(o.code)){const u=s.Pa.shift();as(s).N_(),await aw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await gf(s)}}(r,e),ow(r)&&lw(r)}async function bE(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),ce(ca,"RemoteStore received new credentials");const s=da(t);t.Ia.add(3),await Nu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await pf(t)}async function rN(r,e){const t=Ae(r);e?(t.Ia.delete(2),await pf(t)):e||(t.Ia.add(2),await Nu(t),t.Aa.set("Unknown"))}function Po(r){return r.Va||(r.Va=function(t,s,o){const u=Ae(t);return u.ia(),new BD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:QD.bind(null,r),e_:$D.bind(null,r),n_:KD.bind(null,r),J_:XD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),gg(r)?pg(r):r.Aa.set("Unknown")):(await r.Va.stop(),sw(r))})),r.Va}function as(r){return r.ma||(r.ma=function(t,s,o){const u=Ae(t);return u.ia(),new qD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:JD.bind(null,r),n_:nN.bind(null,r),ea:eN.bind(null,r),ta:tN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await gf(r)):(await r.ma.stop(),r.Pa.length>0&&(ce(ca,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new yg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(r,e){if(ui("AsyncQueue",`${e}: ${r}`),Vo(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=eu(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.fa=new lt(pe.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Ro(e,t,yo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class sN{constructor(){this.queries=SE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=SE(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function SE(){return new fa(r=>xb(r),uf)}async function _g(r,e){const t=Ae(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new iN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=vg(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&Tg(t)}async function Eg(r,e){const t=Ae(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function aN(r,e){const t=Ae(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Tg(t)}function oN(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function Tg(r){r.Da.forEach(e=>{e.next()})}var Ep,AE;(AE=Ep||(Ep={})).Fa="default",AE.Cache="cache";class bg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.key=e}}class cw{constructor(e){this.key=e}}class lN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=Db(e),this.eu=new yo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new wE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),D=cf(this.query,w)?w:null,N=!!T&&this.mutatedKeys.has(T.key),U=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let B=!1;T&&D?T.data.isEqual(D.data)?N!==U&&(s.track({type:3,doc:D}),B=!0):this.iu(T,D)||(s.track({type:2,doc:D}),B=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(m=!0)):!T&&D?(s.track({type:0,doc:D}),B=!0):T&&!D&&(s.track({type:1,doc:T}),B=!0,(p||g)&&(m=!0)),B&&(D?(h=h.add(D),u=U?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,w)=>function(D,N){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:B})}};return U(D)-U(N)}(_.type,w.type)||this.Xa(_.doc,w.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Ro(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new cw(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new uw(s))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ro.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const wg="SyncEngine";class uN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class cN{constructor(e){this.key=e,this.lu=!1}}class hN{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new fa(m=>xb(m),uf),this.Tu=new Map,this.Iu=new Set,this.du=new lt(pe.comparator),this.Eu=new Map,this.Au=new ug,this.Ru={},this.Vu=new Map,this.mu=Ao.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function fN(r,e,t=!0){const s=gw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await hw(s,e,t,!0),o}async function dN(r,e){const t=gw(r);await hw(t,e,!0,!1)}async function hw(r,e,t,s){const o=await MD(r.localStore,Tr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await mN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&rw(r.remoteStore,o),m}async function mN(r,e,t,s,o){r.gu=(w,T,D)=>async function(U,B,Q,K){let re=B.view.nu(Q);re.Ds&&(re=await yE(U.localStore,B.query,!1).then(({documents:M})=>B.view.nu(M,re)));const he=K&&K.targetChanges.get(B.targetId),ie=K&&K.targetMismatches.get(B.targetId)!=null,ye=B.view.applyChanges(re,U.isPrimaryClient,he,ie);return IE(U,B.targetId,ye._u),ye.snapshot}(r,w,T,D);const u=await yE(r.localStore,e,!0),h=new lN(e,u.qs),m=h.nu(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);IE(r,t,g._u);const _=new uN(e,t,h);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function pN(r,e,t){const s=Ae(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!uf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&dg(s.remoteStore,o.targetId),Tp(s,o.targetId)}).catch(Mo)):(Tp(s,o.targetId),await vp(s.localStore,o.targetId,!0))}async function gN(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),dg(t.remoteStore,s.targetId))}async function yN(r,e,t){const s=SN(r);try{const o=await function(h,m){const p=Ae(h),g=Ce.now(),_=m.reduce((D,N)=>D.add(N.key),ke());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=ci(),U=ke();return p.Os.getEntries(D,_).next(B=>{N=B,N.forEach((Q,K)=>{K.isValidDocument()||(U=U.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,N)).next(B=>{w=B;const Q=[];for(const K of m){const re=Mx(K,w.get(K.key).overlayedDocument);re!=null&&Q.push(new cs(K.key,re,Tb(re.value.mapValue),zn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Q,m)}).next(B=>{T=B;const Q=B.applyToLocalDocumentSet(w,U);return p.documentOverlayCache.saveOverlays(D,B.batchId,Q)})}).then(()=>({batchId:T.batchId,changes:Ob(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new lt(xe)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Ou(s,o.changes),await gf(s.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");t.reject(u)}}async function fw(r,e){const t=Ae(r);try{const s=await DD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Fe(h.lu,14607):o.removedDocuments.size>0&&(Fe(h.lu,42227),h.lu=!1))}),await Ou(t,s,e)}catch(s){await Mo(s)}}function RE(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach((_,w)=>{for(const T of w.wa)T.va(m)&&(g=!0)}),g&&Tg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vN(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new lt(pe.comparator);h=h.insert(u,en.newNoDocument(u,Se.min()));const m=ke().add(u),p=new df(Se.min(),new Map,new lt(xe),h,m);await fw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Sg(s)}else await vp(s.localStore,e,!1).then(()=>Tp(s,e,t)).catch(Mo)}async function _N(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await xD(t.localStore,e);mw(t,s,null),dw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(t,o)}catch(o){await Mo(o)}}async function EN(r,e,t){const s=Ae(r);try{const o=await function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Fe(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);mw(s,e,t),dw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ou(s,o)}catch(o){await Mo(o)}}function dw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function mw(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Tp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||pw(r,s)})}function pw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(dg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Sg(r))}function IE(r,e,t){for(const s of t)s instanceof uw?(r.Au.addReference(s.key,e),TN(r,s)):s instanceof cw?(ce(wg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||pw(r,s.key)):Ee(19791,{yu:s})}function TN(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ce(wg,"New document in limbo: "+t),r.Iu.add(s),Sg(r))}function Sg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new pe(rt.fromString(e)),s=r.mu.next();r.Eu.set(s,new cN(t)),r.du=r.du.insert(t,s),rw(r.remoteStore,new Xi(Tr(lf(t.path)),s,"TargetPurposeLimboResolution",sf.ue))}}async function Ou(r,e,t){const s=Ae(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=hg.Es(p.targetId,g);u.push(w)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const _=Ae(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,T=>te.forEach(T.Is,D=>_.persistence.referenceDelegate.addReference(w,T.targetId,D)).next(()=>te.forEach(T.ds,D=>_.persistence.referenceDelegate.removeReference(w,T.targetId,D)))))}catch(w){if(!Vo(w))throw w;ce(fg,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const D=_.Fs.get(T),N=D.snapshotVersion,U=D.withLastLimboFreeSnapshotVersion(N);_.Fs=_.Fs.insert(T,U)}}}(s.localStore,u))}async function bN(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){ce(wg,"User change. New user:",e.toKey());const s=await Jb(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ue(J.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(t,s.Bs)}}function wN(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const m=t.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function gw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vN.bind(null,e),e.hu.J_=aN.bind(null,e.eventManager),e.hu.pu=oN.bind(null,e.eventManager),e}function SN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EN.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return CD(this.persistence,new AD,e.initialUser,this.serializer)}Du(e){return new Zb(cg.Vi,this.serializer)}bu(e){return new kD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class AN extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cD(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Zb(s=>qh.Vi(s,t),this.serializer)}}class bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await rN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sN}()}createDatastore(e){const t=mf(e.databaseInfo.databaseId),s=function(u){return new zD(u)}(e.databaseInfo);return function(u,h,m,p){return new FD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new YD(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>RE(this.syncEngine,t,0),function(){return EE.C()?new EE:new PD}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const w=new hN(o,u,h,m,p,g);return _&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);ce(ca,"RemoteStore shutting down."),u.Ia.add(5),await Nu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class RN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=vg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(os,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Jb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{ts("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ts("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function CE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await IN(r);ce(os,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>bE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>bE(e.remoteStore,o)),r._onlineComponents=e}async function IN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(os,"Using user provided OfflineComponentProvider");try{await Qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ts("Error using user provided cache. Falling back to memory cache: "+t),await Qm(r,new Fh)}}else ce(os,"Using default OfflineComponentProvider"),await Qm(r,new AN(void 0));return r._offlineComponents}async function yw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(os,"Using user provided OnlineComponentProvider"),await CE(r,r._uninitializedComponentsProvider._online)):(ce(os,"Using default OnlineComponentProvider"),await CE(r,new bp))),r._onlineComponents}function CN(r){return yw(r).then(e=>e.syncEngine)}async function Gh(r){const e=await yw(r),t=e.eventManager;return t.onListen=fN.bind(null,e.syncEngine),t.onUnlisten=pN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gN.bind(null,e.syncEngine),t}function xN(r,e,t={}){const s=new ii;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new Ag({next:T=>{_.Ou(),h.enqueueAndForget(()=>Eg(u,w));const D=T.docs.has(m);!D&&T.fromCache?g.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&p&&p.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new bg(lf(m.path),_,{includeMetadataChanges:!0,ka:!0});return _g(u,w)}(await Gh(r),r.asyncQueue,e,t,s)),s.promise}function DN(r,e,t={}){const s=new ii;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new Ag({next:T=>{_.Ou(),h.enqueueAndForget(()=>Eg(u,w)),T.fromCache&&p.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new bg(m,_,{includeMetadataChanges:!0,ka:!0});return _g(u,w)}(await Gh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firestore.googleapis.com",DE=!0;class NE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_w,this.ssl=DE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lD)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new U2;switch(s.type){case"firstParty":return new q2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=xE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),xE.delete(t),s.terminate())}(this),Promise.resolve()}}function NN(r,e,t,s={}){var o;r=mn(r,yf);const u=xo(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(yT(`https://${p}`),vT("Firestore",!0)),h.host!==_w&&h.host!==p&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ai(g,m)&&(r._setSettings(g),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Jt.MOCK_USER;else{_=cR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Jt(T)}r._authCredentials=new j2(new lb(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Cu(t,dt._jsonSchema))return new dt(e,s||null,new pe(rt.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:St("string",dt._jsonSchemaVersion),referencePath:St("string")};class es extends hs{constructor(e,t,s){super(e,t,lf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new pe(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function ia(r,e,...t){if(r=Ut(r),cb("collection","path",e),r instanceof yf){const s=rt.fromString(e,...t);return F0(s),new es(r,null,s)}{if(!(r instanceof dt||r instanceof es))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...t));return F0(s),new es(r.firestore,null,s)}}function hi(r,e,...t){if(r=Ut(r),arguments.length===1&&(e=Wp.newId()),cb("doc","path",e),r instanceof yf){const s=rt.fromString(e,...t);return H0(s),new dt(r,null,new pe(s))}{if(!(r instanceof dt||r instanceof es))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...t));return H0(s),new dt(r.firestore,r instanceof es?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new tw(this,"async_queue_retry"),this.oc=()=>{const s=Ym();s&&ce(OE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ii;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Vo(e))throw e;ce(OE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,ui("INTERNAL UNHANDLED ERROR: ",VE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=yg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:VE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function VE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class fi extends yf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ME,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function ON(r,e){const t=typeof r=="object"?r:bT(),s=typeof r=="string"?r:Lh,o=Up(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lR("firestore");u&&NN(o,...u)}return o}function vf(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MN(r),r._firestoreClient}function MN(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,_){return new ix(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,vw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new RN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(t){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:St("string",jn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:St("string",wr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Sr(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:St("string",Sr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=/^__.*__$/;class kN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class Ew{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Tw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class Ef{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Yh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Tw(this.Ec)&&VN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class PN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||mf(e)}Dc(e,t,s,o=!1){return new Ef({Ec:e,methodName:t,bc:s,path:Yt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(r){const e=r._freezeSettings(),t=mf(r._databaseId);return new PN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function bw(r,e,t,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);xg("Data must be an object, but it was:",h,s);const m=Sw(s,h);let p,g;if(u.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const T=wp(e,w,t);if(!h.contains(T))throw new ue(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Rw(_,T)||_.push(T)}p=new An(_),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new kN(new dn(m),p,g)}class bf extends Lo{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function ww(r,e,t){return new Ef({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rg extends Lo{_toFieldTransform(e){return new ig(e.path,new vu)}isEqual(e){return e instanceof Rg}}class Ig extends Lo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=ww(this,e,!0),s=this.vc.map(u=>ma(u,t)),o=new wo(s);return new ig(e.path,o)}isEqual(e){return e instanceof Ig&&ai(this.vc,e.vc)}}class Cg extends Lo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=ww(this,e,!0),s=this.vc.map(u=>ma(u,t)),o=new So(s);return new ig(e.path,o)}isEqual(e){return e instanceof Cg&&ai(this.vc,e.vc)}}function LN(r,e,t,s){const o=r.Dc(1,e,t);xg("Data must be an object, but it was:",o,s);const u=[],h=dn.empty();us(s,(p,g)=>{const _=Dg(e,p,t);g=Ut(g);const w=o.gc(_);if(g instanceof bf)u.push(_);else{const T=ma(g,w);T!=null&&(u.push(_),h.set(_,T))}});const m=new An(u);return new Ew(h,m,o.fieldTransforms)}function UN(r,e,t,s,o,u){const h=r.Dc(1,e,t),m=[wp(e,s,t)],p=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(wp(e,u[T])),p.push(u[T+1]);const g=[],_=dn.empty();for(let T=m.length-1;T>=0;--T)if(!Rw(g,m[T])){const D=m[T];let N=p[T];N=Ut(N);const U=h.gc(D);if(N instanceof bf)g.push(D);else{const B=ma(N,U);B!=null&&(g.push(D),_.set(D,B))}}const w=new An(g);return new Ew(_,w,h.fieldTransforms)}function jN(r,e,t,s=!1){return ma(t,r.Dc(s?4:3,e))}function ma(r,e){if(Aw(r=Ut(r)))return xg("Unsupported field value:",e,r),Sw(r,e);if(r instanceof Lo)return function(s,o){if(!Tw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=ma(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ix(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:Fb(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Sr)return function(h,m){return{mapValue:{fields:{[_b]:{stringValue:Eb},[Uh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return rg(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${rf(s)}`)}(r,e)}function Sw(r,e){const t={};return db(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,(s,o)=>{const u=ma(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Aw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof wr||r instanceof jn||r instanceof dt||r instanceof Lo||r instanceof Sr)}function xg(r,e,t){if(!Aw(t)||!hb(t)){const s=rf(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function wp(r,e,t){if((e=Ut(e))instanceof _f)return e._internalPath;if(typeof e=="string")return Dg(r,e);throw Yh("Field path arguments must be of type string or ",r,!1,void 0,t)}const zN=new RegExp("[~\\*/\\[\\]]");function Dg(r,e,t){if(e.search(zN)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new _f(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Yh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(J.INVALID_ARGUMENT,m+r+p)}function Rw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BN extends Iw{data(){return super.data()}}function wf(r,e){return typeof e=="string"?Dg(r,e):e instanceof _f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class xw extends Ng{}function Og(r,e,...t){let s=[];e instanceof Ng&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Mg).length,m=u.filter(p=>p instanceof Sf).length;if(h>1||h>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Sf extends xw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Sf(e,t,s)}_apply(e){const t=this._parse(e);return Dw(e._query,t),new hs(e.firestore,e.converter,fp(e._query,t))}_parse(e){const t=Tf(e.firestore);return function(u,h,m,p,g,_,w){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){LE(w,_);const N=[];for(const U of w)N.push(PE(p,u,U));T={arrayValue:{values:N}}}else T=PE(p,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||LE(w,_),T=jN(m,h,w,_==="in"||_==="not-in");return wt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sp(r,e,t){const s=e,o=wf("where",r);return Sf._create(o,s,t)}class Mg extends Ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Dw(h,p),h=fp(h,p)}(e._query,t),new hs(e.firestore,e.converter,fp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends xw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,h)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new ko(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function qN(r,e="asc"){const t=e,s=wf("orderBy",r);return Vg._create(s,t)}function PE(r,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cb(e)&&t.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z0(r,new pe(s))}if(t instanceof dt)return Z0(r,t._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(t)}.`)}function LE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dw(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class HN{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>yt(h.doubleValue));return new Sr(u)}convertGeoPoint(e){return new wr(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=rs(e);return new Ce(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);Fe(Xb(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends Iw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=sa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:St("string",sa._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class wh extends sa{data(e={}){return super.data(e)}}class aa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wh(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:FN(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){r=mn(r,dt);const e=mn(r.firestore,fi);return xN(vf(e),r._key).then(t=>Mw(e,r,t))}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:St("string",aa._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class kg extends HN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function GN(r){r=mn(r,hs);const e=mn(r.firestore,fi),t=vf(e),s=new kg(e);return Cw(r._query),DN(t,r._query).then(o=>new aa(e,s,r,o))}function YN(r,e,t){r=mn(r,dt);const s=mn(r.firestore,fi),o=Nw(r.converter,e);return Af(s,[bw(Tf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,zn.none())])}function Qh(r,e,t,...s){r=mn(r,dt);const o=mn(r.firestore,fi),u=Tf(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof _f?UN(u,"updateDoc",r._key,e,t,s):LN(u,"updateDoc",r._key,e),Af(o,[h.toMutation(r._key,zn.exists(!0))])}function QN(r){return Af(mn(r.firestore,fi),[new sg(r._key,zn.none())])}function Sh(r,e){const t=mn(r.firestore,fi),s=hi(r),o=Nw(r.converter,e);return Af(t,[bw(Tf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then(()=>s)}function Ap(r,...e){var t,s,o;r=Ut(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||kE(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(kE(e[h])){const w=e[h];e[h]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,_;if(r instanceof dt)g=mn(r.firestore,fi),_=lf(r._key.path),p={next:w=>{e[h]&&e[h](Mw(g,r,w))},error:e[h+1],complete:e[h+2]};else{const w=mn(r,hs);g=mn(w.firestore,fi),_=w._query;const T=new kg(g);p={next:D=>{e[h]&&e[h](new aa(g,T,w,D))},error:e[h+1],complete:e[h+2]},Cw(r._query)}return function(T,D,N,U){const B=new Ag(U),Q=new bg(D,B,N);return T.asyncQueue.enqueueAndForget(async()=>_g(await Gh(T),Q)),()=>{B.Ou(),T.asyncQueue.enqueueAndForget(async()=>Eg(await Gh(T),Q))}}(vf(g),_,m,p)}function Af(r,e){return function(s,o){const u=new ii;return s.asyncQueue.enqueueAndForget(async()=>yN(await CN(s),o,u)),u.promise}(vf(r),e)}function Mw(r,e,t){const s=t.docs.get(e._key),o=new kg(r);return new sa(r,o,e._key,s,new nu(t.hasPendingWrites,t.fromCache),e.converter)}function Vw(){return new Rg("serverTimestamp")}function $N(...r){return new Ig("arrayUnion",r)}function KN(...r){return new Cg("arrayRemove",r)}(function(e,t=!0){(function(o){Oo=o})(Do),vo(new oa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new fi(new z2(s.getProvider("auth-internal")),new H2(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),na(U0,j0,e),na(U0,j0,"esm2017")})();const XN={apiKey:"AIzaSyDw27FOHVgIPBzP2gP8b68U-RYX2uGcYfc",authDomain:"event-tool-internal.firebaseapp.com",projectId:"event-tool-internal",storageBucket:"event-tool-internal.firebasestorage.app",messagingSenderId:"39341001525",appId:"1:39341001525:web:1b5b19c4f5da1784f81a7c",measurementId:"G-4M23FC4X1N"},kw=TT(XN),Pg=P2(kw),ln=ON(kw),WN=new ei,Pw=P.createContext(void 0),ZN=({children:r})=>{const[e,t]=P.useState(null),[s,o]=P.useState(null),[u,h]=P.useState(!0);P.useEffect(()=>{const p=SC(Pg,async g=>{if(g){t(g);const _=hi(ln,"users",g.uid),w=await Ow(_);if(w.exists())o(w.data());else{const T={uid:g.uid,email:g.email||"",displayName:g.displayName||"Googler",photoURL:g.photoURL||"",attendanceHistory:{}};await YN(_,T),o(T)}}else t(null),o(null);h(!1)});return()=>p()},[]);const m={user:e,userProfile:s,loading:u};return A.jsx(Pw.Provider,{value:m,children:r})},fs=()=>{const r=P.useContext(Pw);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},Qt=({children:r,variant:e="primary",size:t="md",isLoading:s=!1,className:o="",...u})=>{const h="rounded-md font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-dark-surface disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",m={primary:"bg-primary text-white hover:bg-blue-600 focus:ring-primary",secondary:"bg-secondary text-white hover:bg-green-600 focus:ring-secondary",danger:"bg-danger text-white hover:bg-red-600 focus:ring-danger",ghost:"bg-transparent text-dark-text-secondary hover:bg-dark-surface hover:text-dark-text border border-dark-border"},p={sm:"px-2 py-1 text-xs",md:"px-4 py-2 text-sm"};return A.jsxs("button",{className:`${h} ${m[e]} ${p[t]} ${o}`,disabled:s||u.disabled,...u,children:[s&&A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})};let JN={data:""},eO=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||JN,tO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nO=/\/\*[^]*?\*\/|  +/g,UE=/\n+/g,Ki=(r,e)=>{let t="",s="",o="";for(let u in r){let h=r[u];u[0]=="@"?u[1]=="i"?t=u+" "+h+";":s+=u[1]=="f"?Ki(h,u):u+"{"+Ki(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=Ki(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Ki.p?Ki.p(u,h):u+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Jr={},Lw=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Lw(r[t]);return e}return r},rO=(r,e,t,s,o)=>{let u=Lw(r),h=Jr[u]||(Jr[u]=(p=>{let g=0,_=11;for(;g<p.length;)_=101*_+p.charCodeAt(g++)>>>0;return"go"+_})(u));if(!Jr[h]){let p=u!==r?r:(g=>{let _,w,T=[{}];for(;_=tO.exec(g.replace(nO,""));)_[4]?T.shift():_[3]?(w=_[3].replace(UE," ").trim(),T.unshift(T[0][w]=T[0][w]||{})):T[0][_[1]]=_[2].replace(UE," ").trim();return T[0]})(r);Jr[h]=Ki(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let m=t&&Jr.g?Jr.g:null;return t&&(Jr.g=Jr[h]),((p,g,_,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=_?p+g.data:g.data+p)})(Jr[h],e,s,m),h},iO=(r,e,t)=>r.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":Ki(m,""):m===!1?"":m}return s+o+(h??"")},"");function Rf(r){let e=this||{},t=r.call?r(e.p):r;return rO(t.unshift?t.raw?iO(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,eO(e.target),e.g,e.o,e.k)}let Uw,Rp,Ip;Rf.bind({g:1});let di=Rf.bind({k:1});function sO(r,e,t,s){Ki.p=e,Uw=r,Rp=t,Ip=s}function ds(r,e){let t=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:Rp&&Rp()},m),t.o=/ *go\d+/.test(p),m.className=Rf.apply(t,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),Ip&&g[0]&&Ip(m),Uw(g,m)}return o}}var aO=r=>typeof r=="function",$h=(r,e)=>aO(r)?r(e):r,oO=(()=>{let r=0;return()=>(++r).toString()})(),jw=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),lO=20,zw=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,lO)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return zw(r,{type:r.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},Ah=[],ta={toasts:[],pausedAt:void 0},pa=r=>{ta=zw(ta,r),Ah.forEach(e=>{e(ta)})},uO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cO=(r={})=>{let[e,t]=P.useState(ta),s=P.useRef(ta);P.useEffect(()=>(s.current!==ta&&t(ta),Ah.push(t),()=>{let u=Ah.indexOf(t);u>-1&&Ah.splice(u,1)}),[]);let o=e.toasts.map(u=>{var h,m,p;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((h=r[u.type])==null?void 0:h.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((m=r[u.type])==null?void 0:m.duration)||(r==null?void 0:r.duration)||uO[u.type],style:{...r.style,...(p=r[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},hO=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||oO()}),Mu=r=>(e,t)=>{let s=hO(e,r,t);return pa({type:2,toast:s}),s.id},on=(r,e)=>Mu("blank")(r,e);on.error=Mu("error");on.success=Mu("success");on.loading=Mu("loading");on.custom=Mu("custom");on.dismiss=r=>{pa({type:3,toastId:r})};on.remove=r=>pa({type:4,toastId:r});on.promise=(r,e,t)=>{let s=on.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?$h(e.success,o):void 0;return u?on.success(u,{id:s,...t,...t==null?void 0:t.success}):on.dismiss(s),o}).catch(o=>{let u=e.error?$h(e.error,o):void 0;u?on.error(u,{id:s,...t,...t==null?void 0:t.error}):on.dismiss(s)}),r};var fO=(r,e)=>{pa({type:1,toast:{id:r,height:e}})},dO=()=>{pa({type:5,time:Date.now()})},uu=new Map,mO=1e3,pO=(r,e=mO)=>{if(uu.has(r))return;let t=setTimeout(()=>{uu.delete(r),pa({type:4,toastId:r})},e);uu.set(r,t)},gO=r=>{let{toasts:e,pausedAt:t}=cO(r);P.useEffect(()=>{if(t)return;let u=Date.now(),h=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&on.dismiss(m.id);return}return setTimeout(()=>on.dismiss(m.id),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[e,t]);let s=P.useCallback(()=>{t&&pa({type:6,time:Date.now()})},[t]),o=P.useCallback((u,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=h||{},_=e.filter(D=>(D.position||g)===(u.position||g)&&D.height),w=_.findIndex(D=>D.id===u.id),T=_.filter((D,N)=>N<w&&D.visible).length;return _.filter(D=>D.visible).slice(...m?[T+1]:[0,T]).reduce((D,N)=>D+(N.height||0)+p,0)},[e]);return P.useEffect(()=>{e.forEach(u=>{if(u.dismissed)pO(u.id,u.removeDelay);else{let h=uu.get(u.id);h&&(clearTimeout(h),uu.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:fO,startPause:dO,endPause:s,calculateOffset:o}}},yO=di`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vO=di`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_O=di`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EO=ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_O} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TO=di`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bO=ds("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${TO} 1s linear infinite;
`,wO=di`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SO=di`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,AO=ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RO=ds("div")`
  position: absolute;
`,IO=ds("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CO=di`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xO=ds("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,DO=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?P.createElement(xO,null,e):e:t==="blank"?null:P.createElement(IO,null,P.createElement(bO,{...s}),t!=="loading"&&P.createElement(RO,null,t==="error"?P.createElement(EO,{...s}):P.createElement(AO,{...s})))},NO=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,OO=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,MO="0%{opacity:0;} 100%{opacity:1;}",VO="0%{opacity:1;} 100%{opacity:0;}",kO=ds("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,PO=ds("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LO=(r,e)=>{let t=r.includes("top")?1:-1,[s,o]=jw()?[MO,VO]:[NO(t),OO(t)];return{animation:e?`${di(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${di(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},UO=P.memo(({toast:r,position:e,style:t,children:s})=>{let o=r.height?LO(r.position||e||"top-center",r.visible):{opacity:0},u=P.createElement(DO,{toast:r}),h=P.createElement(PO,{...r.ariaProps},$h(r.message,r));return P.createElement(kO,{className:r.className,style:{...o,...t,...r.style}},typeof s=="function"?s({icon:u,message:h}):P.createElement(P.Fragment,null,u,h))});sO(P.createElement);var jO=({id:r,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=P.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return P.createElement("div",{ref:u,className:e,style:t},o)},zO=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},BO=Rf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hh=16,qO=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:u,containerClassName:h})=>{let{toasts:m,handlers:p}=gO(t);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hh,left:hh,right:hh,bottom:hh,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let _=g.position||e,w=p.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),T=zO(_,w);return P.createElement(jO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?BO:"",style:T},g.type==="custom"?$h(g.message,g):o?o(g):P.createElement(UO,{toast:g,position:_}))}))},Ke=on;const HO=()=>{const r=Tu(),{user:e,loading:t}=fs();P.useEffect(()=>{e&&r("/")},[e,r]);const s=async()=>{try{await GC(Pg,WN),Ke.success("Signed in successfully!"),r("/")}catch(o){console.error("Authentication error: ",o),Ke.error(o.message||"Failed to sign in.")}};return t||e?A.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-dark-bg",children:A.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-bg text-dark-text p-4",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:" FairPlay Scheduler"}),A.jsx("p",{className:"text-lg text-dark-text-secondary",children:"Fair event sign-ups for everyone."})]}),A.jsxs("div",{className:"bg-dark-surface p-8 rounded-lg shadow-2xl max-w-sm w-full text-center",children:[A.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Googler!"}),A.jsx("p",{className:"text-dark-text-secondary mb-6",children:"Sign in to continue."}),A.jsxs(Qt,{onClick:s,className:"w-full bg-primary hover:bg-blue-600",children:[A.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[A.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.06 6.21C12.43 13.72 17.74 9.5 24 9.5z"}),A.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),A.jsx("path",{fill:"#FBBC05",d:"M10.62 27.58c-.52-1.57-.82-3.24-.82-5.04s.3-3.47.82-5.04l-8.06-6.21C.96 15.7 0 20.05 0 24.55s.96 8.85 2.56 12.78l8.06-6.75z"}),A.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-8.06 6.21C6.51 42.62 14.62 48 24 48z"}),A.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Sign in with Google"]}),A.jsx("p",{className:"text-xs text-dark-text-secondary mt-4",children:"Restricted to @google.com accounts."})]})]})},Rh=({isOpen:r,onClose:e,title:t,children:s,closeOnOverlayClick:o=!1})=>{if(!r)return null;const u=()=>{o&&e()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4",onClick:u,children:A.jsxs("div",{className:"bg-dark-surface w-full max-w-2xl rounded-lg shadow-xl p-6 relative",onClick:h=>h.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-2xl font-bold text-white",children:t}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-200","aria-label":"Close",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{children:s})]})})},If=()=>A.jsx("div",{className:"flex justify-center items-center",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),Bw=({initialOwnerUids:r,onOwnersChange:e})=>{const[t,s]=P.useState([]),[o,u]=P.useState(""),[h,m]=P.useState(!0),[p,g]=P.useState(!1),[_,w]=P.useState([]),T=P.useMemo(()=>new Set(r),[r]);P.useEffect(()=>{(async()=>{if(m(!0),r.length===0){s([]),m(!1);return}try{const B=[];for(const Q of r){const K=hi(ln,"users",Q),re=await Ow(K);re.exists()&&B.push({...re.data(),uid:Q})}s(B)}catch(B){console.error("Error fetching owner profiles:",B),Ke.error("Could not load owner details.")}finally{m(!1)}})()},[r]),P.useEffect(()=>{const U=async()=>{if(o.trim().length<3){w([]);return}g(!0);try{const Q=o.trim().toLowerCase(),K=Og(ia(ln,"users"),Sp("email",">=",Q),Sp("email","<=",Q+"")),re=await GN(K),he=[];re.forEach(ie=>{T.has(ie.id)||he.push({...ie.data(),uid:ie.id})}),w(he)}catch(Q){console.error("Error searching for users:",Q)}finally{g(!1)}},B=setTimeout(()=>{U()},300);return()=>clearTimeout(B)},[o,T]);const D=U=>{e([...r,U.uid]),u(""),w([])},N=U=>{if(r.length<=1){Ke.error("A group must have at least one owner.");return}e(r.filter(B=>B!==U))};return A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Group Owners"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"email",value:o,onChange:U=>u(U.target.value),placeholder:"Search to add owner by email...",className:"input-style"}),(p||_.length>0||o.length>=3)&&A.jsxs("ul",{className:"absolute z-10 w-full bg-dark-bg border border-dark-border rounded-md mt-1 max-h-48 overflow-y-auto shadow-lg",children:[p&&A.jsx("li",{className:"px-3 py-2 text-dark-text-secondary",children:"Searching..."}),!p&&_.map(U=>A.jsxs("li",{onClick:()=>D(U),className:"px-3 py-2 hover:bg-dark-surface cursor-pointer flex items-center gap-2",children:[A.jsx("img",{src:U.photoURL,alt:U.displayName,className:"w-8 h-8 rounded-full"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:U.displayName}),A.jsx("p",{className:"text-xs text-dark-text-secondary",children:U.email})]})]},U.uid)),!p&&_.length===0&&o.length>=3&&A.jsx("li",{className:"px-3 py-2 text-dark-text-secondary",children:"No matching users found."})]})]}),A.jsx("div",{className:"mt-3 space-y-2",children:h?A.jsx(If,{}):t.map(U=>A.jsxs("li",{className:"flex items-center justify-between bg-dark-bg p-2 rounded-md list-none",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("img",{src:U.photoURL,alt:U.displayName,className:"w-8 h-8 rounded-full"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:U.displayName}),A.jsx("p",{className:"text-xs text-dark-text-secondary",children:U.email})]})]}),A.jsx(Qt,{type:"button",variant:"danger",size:"sm",onClick:()=>N(U.uid),disabled:r.length<=1,children:"Remove"})]},U.uid))}),A.jsx("style",{children:".input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; } .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }"})]})},FO=({onClose:r})=>{const[e,t]=P.useState(""),[s,o]=P.useState(""),[u,h]=P.useState(!1),{user:m}=fs(),[p,g]=P.useState(m?[m.uid]:[]),_=async w=>{if(w.preventDefault(),!(!e.trim()||!m)){if(p.length===0){Ke.error("A group must have at least one owner.");return}h(!0);try{await Sh(ia(ln,"groups"),{name:e,description:s,ownerUids:p,createdAt:Vw()}),Ke.success("Group created successfully!"),r()}catch(T){console.error("Error creating group:",T),Ke.error("Failed to create group.")}finally{h(!1)}}};return m?A.jsxs("form",{onSubmit:_,children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupName",className:"label-style",children:"Group Name"}),A.jsx("input",{id:"groupName",type:"text",value:e,onChange:w=>t(w.target.value),placeholder:"e.g., Football-WAW",className:"input-style",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupDesc",className:"label-style",children:"Description"}),A.jsx("textarea",{id:"groupDesc",value:s,onChange:w=>o(w.target.value),placeholder:"A short description of the group and its activities.",className:"input-style",rows:3})]}),A.jsx(Bw,{initialOwnerUids:p,onOwnersChange:g})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx(Qt,{type:"button",variant:"ghost",onClick:r,children:"Cancel"}),A.jsx(Qt,{type:"submit",isLoading:u,children:"Create Group"})]}),A.jsx("style",{children:".input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; } .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }"})]}):null},GO=()=>{const[r,e]=P.useState([]),[t,s]=P.useState(!0),[o,u]=P.useState(!1),h=Tu();return P.useEffect(()=>{s(!0);const m=Og(ia(ln,"groups")),p=Ap(m,g=>{const _=[];g.forEach(w=>{_.push({id:w.id,...w.data()})}),e(_),s(!1)});return()=>p()},[]),A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold",children:"Groups"}),A.jsx(Qt,{onClick:()=>u(!0),children:"Create New Group"})]}),t?A.jsx(If,{}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(m=>A.jsxs("div",{className:"bg-dark-surface p-6 rounded-lg shadow-lg hover:shadow-primary/20 hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>h(`/group/${m.id}`),children:[A.jsx("h2",{className:"text-xl font-bold text-primary mb-2",children:m.name}),A.jsx("p",{className:"text-dark-text-secondary line-clamp-2",children:m.description})]},m.id)):A.jsx("p",{className:"text-dark-text-secondary col-span-full text-center",children:"No groups found. Create one to get started!"})}),A.jsx(Rh,{isOpen:o,onClose:()=>u(!1),title:"Create a New Group",children:A.jsx(FO,{onClose:()=>u(!1)})})]})},qw=6048e5,YO=864e5,jE=Symbol.for("constructDateFrom");function qn(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&jE in r?r[jE](e):r instanceof Date?new r.constructor(e):new Date(e)}function pn(r,e){return qn(e||r,r)}function QO(r,e,t){const s=pn(r,t==null?void 0:t.in);return isNaN(e)?qn(r,NaN):(e&&s.setDate(s.getDate()+e),s)}function $O(r,e,t){const s=pn(r,t==null?void 0:t.in);if(isNaN(e))return qn(r,NaN);if(!e)return s;const o=s.getDate(),u=qn(r,s.getTime());u.setMonth(s.getMonth()+e+1,0);const h=u.getDate();return o>=h?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}function $m(r,e,t){const{years:s=0,months:o=0,weeks:u=0,days:h=0,hours:m=0,minutes:p=0,seconds:g=0}=e,_=pn(r,t==null?void 0:t.in),w=o||s?$O(_,o+s*12):_,T=h||u?QO(w,h+u*7):w,D=p+m*60,U=(g+D*60)*1e3;return qn(r,+T+U)}let KO={};function Cf(){return KO}function _u(r,e){var m,p,g,_;const t=Cf(),s=(e==null?void 0:e.weekStartsOn)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((_=(g=t.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,o=pn(r,e==null?void 0:e.in),u=o.getDay(),h=(u<s?7:0)+u-s;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Kh(r,e){return _u(r,{...e,weekStartsOn:1})}function Hw(r,e){const t=pn(r,e==null?void 0:e.in),s=t.getFullYear(),o=qn(t,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=Kh(o),h=qn(t,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const m=Kh(h);return t.getTime()>=u.getTime()?s+1:t.getTime()>=m.getTime()?s:s-1}function zE(r){const e=pn(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function XO(r,...e){const t=qn.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function BE(r,e){const t=pn(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function WO(r,e,t){const[s,o]=XO(t==null?void 0:t.in,r,e),u=BE(s),h=BE(o),m=+u-zE(u),p=+h-zE(h);return Math.round((m-p)/YO)}function ZO(r,e){const t=Hw(r,e),s=qn(r,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Kh(s)}function JO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function eM(r){return!(!JO(r)&&typeof r!="number"||isNaN(+pn(r)))}function tM(r,e){const t=pn(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const nM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rM=(r,e,t)=>{let s;const o=nM[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Km(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const iM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oM={date:Km({formats:iM,defaultWidth:"full"}),time:Km({formats:sM,defaultWidth:"full"}),dateTime:Km({formats:aM,defaultWidth:"full"})},lM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uM=(r,e,t,s)=>lM[r];function Xl(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,m=t!=null&&t.width?String(t.width):h;o=r.formattingValues[m]||r.formattingValues[h]}else{const h=r.defaultWidth,m=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[m]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const cM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gM=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},yM={ordinalNumber:gM,era:Xl({values:cM,defaultWidth:"wide"}),quarter:Xl({values:hM,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Xl({values:fM,defaultWidth:"wide"}),day:Xl({values:dM,defaultWidth:"wide"}),dayPeriod:Xl({values:mM,defaultWidth:"wide",formattingValues:pM,defaultFormattingWidth:"wide"})};function Wl(r){return(e,t={})=>{const s=t.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?_M(m,w=>w.test(h)):vM(m,w=>w.test(h));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const _=e.slice(h.length);return{value:g,rest:_}}}function vM(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function _M(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function EM(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=t.valueCallback?t.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const TM=/^(\d+)(th|st|nd|rd)?/i,bM=/\d+/i,wM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SM={any:[/^b/i,/^(a|c)/i]},AM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RM={any:[/1/i,/2/i,/3/i,/4/i]},IM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MM={ordinalNumber:EM({matchPattern:TM,parsePattern:bM,valueCallback:r=>parseInt(r,10)}),era:Wl({matchPatterns:wM,defaultMatchWidth:"wide",parsePatterns:SM,defaultParseWidth:"any"}),quarter:Wl({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:RM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Wl({matchPatterns:IM,defaultMatchWidth:"wide",parsePatterns:CM,defaultParseWidth:"any"}),day:Wl({matchPatterns:xM,defaultMatchWidth:"wide",parsePatterns:DM,defaultParseWidth:"any"}),dayPeriod:Wl({matchPatterns:NM,defaultMatchWidth:"any",parsePatterns:OM,defaultParseWidth:"any"})},VM={code:"en-US",formatDistance:rM,formatLong:oM,formatRelative:uM,localize:yM,match:MM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kM(r,e){const t=pn(r,e==null?void 0:e.in);return WO(t,tM(t))+1}function PM(r,e){const t=pn(r,e==null?void 0:e.in),s=+Kh(t)-+ZO(t);return Math.round(s/qw)+1}function Fw(r,e){var _,w,T,D;const t=pn(r,e==null?void 0:e.in),s=t.getFullYear(),o=Cf(),u=(e==null?void 0:e.firstWeekContainsDate)??((w=(_=e==null?void 0:e.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((D=(T=o.locale)==null?void 0:T.options)==null?void 0:D.firstWeekContainsDate)??1,h=qn((e==null?void 0:e.in)||r,0);h.setFullYear(s+1,0,u),h.setHours(0,0,0,0);const m=_u(h,e),p=qn((e==null?void 0:e.in)||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=_u(p,e);return+t>=+m?s+1:+t>=+g?s:s-1}function LM(r,e){var m,p,g,_;const t=Cf(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((_=(g=t.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??1,o=Fw(r,e),u=qn((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),_u(u,e)}function UM(r,e){const t=pn(r,e==null?void 0:e.in),s=+_u(t,e)-+LM(t,e);return Math.round(s/qw)+1}function $e(r,e){const t=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return t+s}const Gi={y(r,e){const t=r.getFullYear(),s=t>0?t:1-t;return $e(e==="yy"?s%100:s,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):$e(t+1,2)},d(r,e){return $e(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return $e(r.getHours()%12||12,e.length)},H(r,e){return $e(r.getHours(),e.length)},m(r,e){return $e(r.getMinutes(),e.length)},s(r,e){return $e(r.getSeconds(),e.length)},S(r,e){const t=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,t-3));return $e(o,e.length)}},lo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qE={G:function(r,e,t){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return t.ordinalNumber(o,{unit:"year"})}return Gi.y(r,e)},Y:function(r,e,t,s){const o=Fw(r,s),u=o>0?o:1-o;if(e==="YY"){const h=u%100;return $e(h,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):$e(u,e.length)},R:function(r,e){const t=Hw(r);return $e(t,e.length)},u:function(r,e){const t=r.getFullYear();return $e(t,e.length)},Q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return $e(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,t){const s=r.getMonth();switch(e){case"M":case"MM":return Gi.M(r,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,t){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,t,s){const o=UM(r,s);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):$e(o,e.length)},I:function(r,e,t){const s=PM(r);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):$e(s,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Gi.d(r,e)},D:function(r,e,t){const s=kM(r);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,e.length)},E:function(r,e,t){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return $e(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return $e(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return $e(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const s=r.getHours();let o;switch(s===12?o=lo.noon:s===0?o=lo.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const s=r.getHours();let o;switch(s>=17?o=lo.evening:s>=12?o=lo.afternoon:s>=4?o=lo.morning:o=lo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Gi.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Gi.H(r,e)},K:function(r,e,t){const s=r.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):$e(s,e.length)},k:function(r,e,t){let s=r.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):$e(s,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Gi.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Gi.s(r,e)},S:function(r,e){return Gi.S(r,e)},X:function(r,e,t){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return FE(s);case"XXXX":case"XX":return Zs(s);case"XXXXX":case"XXX":default:return Zs(s,":")}},x:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"x":return FE(s);case"xxxx":case"xx":return Zs(s);case"xxxxx":case"xxx":default:return Zs(s,":")}},O:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HE(s,":");case"OOOO":default:return"GMT"+Zs(s,":")}},z:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HE(s,":");case"zzzz":default:return"GMT"+Zs(s,":")}},t:function(r,e,t){const s=Math.trunc(+r/1e3);return $e(s,e.length)},T:function(r,e,t){return $e(+r,e.length)}};function HE(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?t+String(o):t+String(o)+e+$e(u,2)}function FE(r,e){return r%60===0?(r>0?"-":"+")+$e(Math.abs(r)/60,2):Zs(r,e)}function Zs(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=$e(Math.trunc(s/60),2),u=$e(s%60,2);return t+o+e+u}const GE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Gw=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},jM=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],s=t[1],o=t[2];if(!o)return GE(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",GE(s,e)).replace("{{time}}",Gw(o,e))},zM={p:Gw,P:jM},BM=/^D+$/,qM=/^Y+$/,HM=["D","DD","YY","YYYY"];function FM(r){return BM.test(r)}function GM(r){return qM.test(r)}function YM(r,e,t){const s=QM(r,e,t);if(console.warn(s),HM.includes(r))throw new RangeError(s)}function QM(r,e,t){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $M=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XM=/^'([^]*?)'?$/,WM=/''/g,ZM=/[a-zA-Z]/;function Kn(r,e,t){var _,w,T,D;const s=Cf(),o=s.locale??VM,u=s.firstWeekContainsDate??((w=(_=s.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,h=s.weekStartsOn??((D=(T=s.locale)==null?void 0:T.options)==null?void 0:D.weekStartsOn)??0,m=pn(r,t==null?void 0:t.in);if(!eM(m))throw new RangeError("Invalid time value");let p=e.match(KM).map(N=>{const U=N[0];if(U==="p"||U==="P"){const B=zM[U];return B(N,o.formatLong)}return N}).join("").match($M).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const U=N[0];if(U==="'")return{isToken:!1,value:JM(N)};if(qE[U])return{isToken:!0,value:N};if(U.match(ZM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map(N=>{if(!N.isToken)return N.value;const U=N.value;(GM(U)||FM(U))&&YM(U,e,String(r));const B=qE[U[0]];return B(m,U,o.localize,g)}).join("")}function JM(r){const e=r.match(XM);return e?e[1].replace(WM,"'"):r}const e4=({groupId:r,onClose:e})=>{const[t,s]=P.useState(!1),[o,u]=P.useState(!0),h=async m=>{m.preventDefault(),s(!0);const p=new FormData(m.currentTarget),g=Object.fromEntries(p.entries());try{const _=new Date(`${g.eventStartDate}T${g.eventStartTime}`),w=new Date(`${g.regOpenDate}T${g.regOpenTime}`),T=new Date(`${g.revealDate}T${g.revealTime}`),D=new Date,N=new Date(D.getTime()+3*60*60*1e3);if(_<N){Ke.error("Event must start at least 3 hours from now."),s(!1);return}if(w>=T){Ke.error("Registration must open before the list reveal date."),s(!1);return}const U=new Date(_.getTime()-3*60*60*1e3);if(T>U){Ke.error("List must be revealed at least 3 hours before the event starts."),s(!1);return}if(o){const B=new Date(g.recurrenceEndDate),Q={groupId:r,title:g.title,description:g.description,location:g.location,spots:Number(g.spots),eventStartDateTime:Ce.fromDate(_),registrationOpenDateTime:Ce.fromDate(w),listRevealDateTime:Ce.fromDate(T),recurrence:{type:g.recurrenceType,value:Number(g.recurrenceValue)},recurrenceEndDate:Ce.fromDate(B)},K=await Sh(ia(ln,"events"),{...Q,createdAt:Vw()});let re=_,he=w,ie=T;for(;re<=B;){const ye={eventId:K.id,groupId:r,title:Q.title,description:Q.description,location:Q.location,spots:Q.spots,eventStartDateTime:Ce.fromDate(re),registrationOpenDateTime:Ce.fromDate(he),listRevealDateTime:Ce.fromDate(ie),participants:[],participantsListProcessed:!1,attendanceProcessed:!1};await Sh(ia(ln,"eventInstances"),ye);const M={[Q.recurrence.type]:Q.recurrence.value};re=$m(re,M),he=$m(he,M),ie=$m(ie,M)}Ke.success("Recurring event created successfully!")}else{const B={eventId:"one-time-event",groupId:r,title:g.title,description:g.description,location:g.location,spots:Number(g.spots),eventStartDateTime:Ce.fromDate(_),registrationOpenDateTime:Ce.fromDate(w),listRevealDateTime:Ce.fromDate(T),participants:[],participantsListProcessed:!1,attendanceProcessed:!1};await Sh(ia(ln,"eventInstances"),B),Ke.success("Event created successfully!")}e()}catch(_){console.error("Error creating event:",_),Ke.error("Failed to create event.")}finally{s(!1)}};return A.jsxs("form",{onSubmit:h,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[A.jsx("input",{name:"title",placeholder:"Event Title",required:!0,className:"input-style"}),A.jsx("textarea",{name:"description",placeholder:"Event Description",required:!0,className:"input-style",rows:3}),A.jsx("input",{name:"location",placeholder:"Location (e.g., Google Maps Link)",required:!0,className:"input-style"}),A.jsx("input",{name:"spots",type:"number",placeholder:"Available Spots",required:!0,min:"1",className:"input-style"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Date"}),A.jsx("input",{name:"eventStartDate",type:"date",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Time"}),A.jsx("input",{name:"eventStartTime",type:"time",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Date"}),A.jsx("input",{name:"regOpenDate",type:"date",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Time"}),A.jsx("input",{name:"regOpenTime",type:"time",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Date"}),A.jsx("input",{name:"revealDate",type:"date",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Time"}),A.jsx("input",{name:"revealTime",type:"time",required:!0,className:"input-style"})]})]}),A.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[A.jsx("input",{type:"checkbox",checked:o,onChange:m=>u(m.target.checked),className:"form-checkbox bg-dark-bg border-dark-border text-primary focus:ring-primary"}),A.jsx("span",{children:"Make this a recurring event"})]}),o&&A.jsxs("div",{className:"space-y-4 border-t border-dark-border pt-4",children:[A.jsx("label",{className:"label-style",children:"Recurrence"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{children:"Every"}),A.jsx("input",{name:"recurrenceValue",type:"number",min:"1",defaultValue:"1",required:o,className:"input-style w-20"}),A.jsxs("select",{name:"recurrenceType",required:o,className:"input-style",children:[A.jsx("option",{value:"days",children:"Day(s)"}),A.jsx("option",{value:"weeks",children:"Week(s)"}),A.jsx("option",{value:"months",children:"Month(s)"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Recurrence End Date"}),A.jsx("input",{name:"recurrenceEndDate",type:"date",required:o,className:"input-style"})]})]}),A.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[A.jsx(Qt,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),A.jsxs(Qt,{type:"submit",isLoading:t,children:["Create Event",o&&"s"]})]}),A.jsx("style",{children:`
                .input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }
            `})]})},t4=({group:r,onClose:e})=>{const[t,s]=P.useState(r.name),[o,u]=P.useState(r.description),[h,m]=P.useState(r.ownerUids),[p,g]=P.useState(!1),{user:_}=fs(),w=async T=>{if(T.preventDefault(),!t.trim())return;if(h.length===0){Ke.error("A group must have at least one owner.");return}g(!0);const D=hi(ln,"groups",r.id);try{await Qh(D,{name:t,description:o,ownerUids:h}),Ke.success("Group updated successfully!"),e()}catch(N){console.error("Error updating group:",N),Ke.error("Failed to update group.")}finally{g(!1)}};return _?A.jsxs("form",{onSubmit:w,children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupName",className:"label-style",children:"Group Name"}),A.jsx("input",{id:"groupName",type:"text",value:t,onChange:T=>s(T.target.value),className:"input-style",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupDesc",className:"label-style",children:"Description"}),A.jsx("textarea",{id:"groupDesc",value:o,onChange:T=>u(T.target.value),className:"input-style",rows:3})]}),A.jsx(Bw,{initialOwnerUids:h,onOwnersChange:m})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx(Qt,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),A.jsx(Qt,{type:"submit",isLoading:p,children:"Save Changes"})]}),A.jsx("style",{children:".input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; } .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }"})]}):null},YE=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block text-dark-text-secondary",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10"}),A.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),A.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),n4=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block",children:[A.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),r4=({instance:r,userProfile:e,isOwner:t,isPastEvent:s,onEdit:o,onDelete:u})=>{const{user:h}=fs(),[m,p]=P.useState(!1),[g,_]=P.useState([]),[w,T]=P.useState(!1),D=P.useMemo(()=>r.participants.find(ie=>ie.uid===(h==null?void 0:h.uid)),[r.participants,h]),N=P.useMemo(()=>{const ie=new Date;return r.registrationOpenDateTime.toDate()<=ie&&r.eventStartDateTime.toDate()>ie},[r.registrationOpenDateTime,r.eventStartDateTime]),U=P.useMemo(()=>r.participantsListProcessed===!0,[r.participantsListProcessed]),B=P.useMemo(()=>g.slice(0,r.spots),[g,r.spots]),Q=P.useMemo(()=>g.slice(r.spots),[g,r.spots]);P.useEffect(()=>{(async()=>{if(r.participants.length===0){_([]);return}_(r.participants)})()},[r,e]);const K=async()=>{if(!h||!e)return;p(!0);const ie=document.getElementById("organizer-checkbox")?document.getElementById("organizer-checkbox").checked:!1,ye={uid:h.uid,displayName:h.displayName||"Googler",photoURL:h.photoURL||"",isOrganizer:ie,registeredAt:Ce.now()};try{const M=hi(ln,"eventInstances",r.id);await Qh(M,{participants:$N(ye)}),Ke.success("You're on the list!")}catch(M){console.error(M),Ke.error("Failed to register.")}finally{p(!1),T(!1)}},re=async()=>{if(!(!h||!D)){p(!0);try{const ie=hi(ln,"eventInstances",r.id);await Qh(ie,{participants:KN(D)}),Ke.success("You have resigned from the event.")}catch(ie){console.error(ie),Ke.error("Failed to resign.")}finally{p(!1)}}},he=(ie,ye)=>A.jsxs("li",{className:"flex items-center gap-3 py-2",children:[A.jsxs("span",{className:"font-mono text-dark-text-secondary w-6 text-right",children:[ye+1,"."]}),A.jsx("img",{src:ie.photoURL,alt:ie.displayName,className:"w-8 h-8 rounded-full"}),A.jsx("span",{className:"flex-grow",children:ie.displayName}),ie.isOrganizer&&A.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},ie.uid);return A.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-lg p-6 flex flex-col md:flex-row gap-6 relative",children:[A.jsxs("div",{className:"md:w-1/3 border-b md:border-b-0 md:border-r border-dark-border pb-6 md:pb-0 md:pr-6",children:[A.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.title}),A.jsx("p",{className:"text-lg font-semibold text-primary",children:Kn(r.eventStartDateTime.toDate(),"eeee, MMMM d, yyyy")}),A.jsx("p",{className:"text-md text-dark-text-secondary mb-4",children:Kn(r.eventStartDateTime.toDate(),"p")}),A.jsx("p",{className:"text-sm text-dark-text-secondary mb-4",children:r.description}),r.location&&A.jsx("a",{href:r.location,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Location"}),A.jsxs("div",{className:"mt-4 text-sm text-dark-text-secondary space-y-2",children:[A.jsxs("p",{children:[A.jsx(YE,{})," Registration opened:"," ",Kn(r.registrationOpenDateTime.toDate(),"PP p")]}),A.jsxs("p",{children:[A.jsx(YE,{})," List reveals:"," ",Kn(r.listRevealDateTime.toDate(),"PP p")]})]})]}),A.jsxs("div",{className:"md:w-2/3",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold",children:[A.jsx(n4,{})," Participants",A.jsxs("span",{className:"text-dark-text-secondary text-lg",children:["(",r.participants.length," / ",r.spots,")"]})]}),N&&(D?A.jsx(Qt,{variant:"danger",onClick:re,isLoading:m,children:"Resign"}):A.jsxs("div",{className:"flex gap-2 items-center",children:[w&&A.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[A.jsx("input",{id:"organizer-checkbox",type:"checkbox",className:"form-checkbox bg-dark-bg border-dark-border text-primary focus:ring-primary"}),A.jsx("span",{children:"Organizer?"})]}),A.jsx(Qt,{variant:"secondary",onClick:()=>w?K():T(!0),isLoading:m,children:w?"Confirm Registration":"Register"})]}))]}),U?A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"font-bold text-secondary mb-2",children:[" Confirmed List (",B.length,"/",r.spots,")"]}),A.jsx("ul",{className:"divide-y divide-dark-border",children:B.map(he)})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"font-bold text-warning mb-2",children:[" Waiting List (",Q.length,")"]}),Q.length>0?A.jsx("ul",{className:"divide-y divide-dark-border",children:Q.map((ie,ye)=>he(ie,ye+r.spots))}):A.jsx("p",{className:"text-sm text-dark-text-secondary italic",children:"Waiting list is empty."})]})]}):A.jsxs("div",{children:[A.jsxs("p",{className:"text-center text-dark-text-secondary bg-dark-bg p-4 rounded-md",children:["The participant list will be sorted and revealed on ",A.jsx("br",{}),A.jsx("span",{className:"font-semibold text-dark-text",children:Kn(r.listRevealDateTime.toDate(),"MMMM d, yyyy 'at' p")})]}),A.jsxs("h4",{className:"font-bold text-white mt-4 mb-2",children:["Registered (",r.participants.length,")"]}),A.jsx("ul",{className:"divide-y divide-dark-border max-h-48 overflow-y-auto",children:r.participants.map((ie,ye)=>A.jsxs("li",{className:"flex items-center gap-3 py-2",children:[A.jsx("img",{src:ie.photoURL,alt:ie.displayName,className:"w-8 h-8 rounded-full"}),A.jsx("span",{children:ie.displayName}),ie.isOrganizer&&A.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},ie.uid))})]})]}),t&&A.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[!s&&A.jsx(Qt,{variant:"ghost",onClick:o,children:"Edit"}),A.jsx(Qt,{variant:"danger",onClick:u,children:"Delete"})]})]})},i4=({upcomingEvents:r,pastEvents:e,userProfile:t,isOwner:s,onEdit:o,onDelete:u})=>{const[h,m]=P.useState("upcoming"),p=(_,w)=>_.map(T=>A.jsx(r4,{instance:T,userProfile:t,isOwner:s,onEdit:()=>o(T),onDelete:()=>u(T.id),isPastEvent:w},T.id)),g=_=>A.jsxs("div",{className:"text-center py-10 bg-dark-surface rounded-lg",children:[A.jsx("p",{className:"text-dark-text-secondary",children:_==="upcoming"?"No upcoming events scheduled for this group.":"No past events found for this group."}),_==="upcoming"&&s&&A.jsx("p",{className:"mt-2 text-sm text-dark-text-secondary",children:'Click "Create New Events" to get started.'})]});return A.jsxs("div",{className:"mt-8",children:[A.jsxs("div",{className:"flex border-b border-dark-border mb-6",children:[A.jsxs("button",{onClick:()=>m("upcoming"),className:`px-6 py-2 text-lg font-medium transition-colors duration-200 ${h==="upcoming"?"border-b-2 border-primary text-white":"text-dark-text-secondary hover:text-white"}`,children:["Upcoming (",r.length,")"]}),A.jsxs("button",{onClick:()=>m("past"),className:`px-6 py-2 text-lg font-medium transition-colors duration-200 ${h==="past"?"border-b-2 border-primary text-white":"text-dark-text-secondary hover:text-white"}`,children:["Past (",e.length,")"]})]}),A.jsx("div",{className:"space-y-6",children:h==="upcoming"?r.length>0?p(r,!1):g("upcoming"):e.length>0?p(e,!0):g("past")})]})},s4=({group:r,isOwner:e,onOpenCreateEventModal:t,onOpenEditGroupModal:s})=>A.jsxs("div",{className:"mb-8",children:[A.jsx(Zh,{to:"/",className:"text-primary hover:underline",children:" Back to Groups"}),A.jsxs("div",{className:"flex justify-between items-center mt-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-4xl font-bold",children:r==null?void 0:r.name}),A.jsx("p",{className:"text-dark-text-secondary mt-1",children:r==null?void 0:r.description})]}),e&&A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Qt,{variant:"secondary",onClick:s,children:"Edit Group"}),A.jsx(Qt,{onClick:t,children:"Create New Event"})]})]})]}),a4=({instance:r,onClose:e})=>{const[t,s]=P.useState(!1),o=async u=>{u.preventDefault(),s(!0);const h=new FormData(u.currentTarget),m=Object.fromEntries(h.entries());try{const p=new Date(`${m.eventStartDate}T${m.eventStartTime}`),g=new Date(`${m.regOpenDate}T${m.regOpenTime}`),_=new Date(`${m.revealDate}T${m.revealTime}`),w={title:m.title,description:m.description,location:m.location,spots:Number(m.spots),eventStartDateTime:Ce.fromDate(p),registrationOpenDateTime:Ce.fromDate(g),listRevealDateTime:Ce.fromDate(_)},T=hi(ln,"eventInstances",r.id);await Qh(T,w),Ke.success("Event instance updated successfully!"),e()}catch(p){console.error("Error updating event:",p),Ke.error("Failed to update event.")}finally{s(!1)}};return A.jsxs("form",{onSubmit:o,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[A.jsx("input",{name:"title",placeholder:"Event Title",required:!0,defaultValue:r.title,className:"input-style"}),A.jsx("textarea",{name:"description",placeholder:"Event Description",required:!0,defaultValue:r.description,className:"input-style",rows:3}),A.jsx("input",{name:"location",placeholder:"Location (e.g., Google Maps Link)",required:!0,defaultValue:r.location,className:"input-style"}),A.jsx("input",{name:"spots",type:"number",placeholder:"Available Spots",required:!0,min:"1",defaultValue:r.spots,className:"input-style"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Date"}),A.jsx("input",{name:"eventStartDate",type:"date",required:!0,defaultValue:Kn(r.eventStartDateTime.toDate(),"yyyy-MM-dd"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Time"}),A.jsx("input",{name:"eventStartTime",type:"time",required:!0,defaultValue:Kn(r.eventStartDateTime.toDate(),"HH:mm"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Date"}),A.jsx("input",{name:"regOpenDate",type:"date",required:!0,defaultValue:Kn(r.registrationOpenDateTime.toDate(),"yyyy-MM-dd"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Time"}),A.jsx("input",{name:"regOpenTime",type:"time",required:!0,defaultValue:Kn(r.registrationOpenDateTime.toDate(),"HH:mm"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Date"}),A.jsx("input",{name:"revealDate",type:"date",required:!0,defaultValue:Kn(r.listRevealDateTime.toDate(),"yyyy-MM-dd"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Time"}),A.jsx("input",{name:"revealTime",type:"time",required:!0,defaultValue:Kn(r.listRevealDateTime.toDate(),"HH:mm"),className:"input-style"})]})]}),A.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[A.jsx(Qt,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),A.jsx(Qt,{type:"submit",isLoading:t,children:"Update Event"})]}),A.jsx("style",{children:`
                .input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }
            `})]})},o4=r=>{const[e,t]=P.useState(null),[s,o]=P.useState([]),[u,h]=P.useState([]),[m,p]=P.useState(!0);return P.useEffect(()=>{if(!r){p(!1);return}p(!0);const g=hi(ln,"groups",r),_=Ap(g,D=>{D.exists()?t({id:D.id,...D.data()}):(Ke.error("Group not found."),t(null))},D=>{console.error("Error fetching group details:",D),Ke.error("Failed to load group details.")}),w=Og(ia(ln,"eventInstances"),Sp("groupId","==",r),qN("eventStartDateTime","asc")),T=Ap(w,D=>{const N=new Date(new Date().getTime()-72e5),U=[],B=[];D.forEach(Q=>{const K={id:Q.id,...Q.data()};K.eventStartDateTime.toDate()<N?B.push(K):U.push(K)}),o(U),h(B.sort((Q,K)=>K.eventStartDateTime.toDate().getTime()-Q.eventStartDateTime.toDate().getTime())),p(!1)},D=>{console.error("Error fetching events: ",D),Ke.error("Failed to load events."),p(!1)});return()=>{_(),T()}},[r]),{group:e,upcomingEvents:s,pastEvents:u,loading:m}},l4=()=>{const{groupId:r}=sA(),{user:e,userProfile:t}=fs(),{group:s,upcomingEvents:o,pastEvents:u,loading:h}=o4(r),[m,p]=P.useState(!1),[g,_]=P.useState(!1),[w,T]=P.useState(!1),[D,N]=P.useState(null),U=(s==null?void 0:s.ownerUids.includes((e==null?void 0:e.uid)||""))||!1,B=K=>{N(K),_(!0)},Q=async K=>{if(window.confirm("Are you sure you want to delete this event instance? This action cannot be undone."))try{await QN(hi(ln,"eventInstances",K)),Ke.success("Event instance deleted successfully.")}catch(re){console.error("Error deleting event instance: ",re),Ke.error("Failed to delete event instance.")}};return h?A.jsx("div",{className:"flex justify-center items-center h-64",children:A.jsx(If,{})}):A.jsxs("div",{children:[A.jsx(s4,{group:s,isOwner:U,onOpenCreateEventModal:()=>p(!0),onOpenEditGroupModal:()=>T(!0)}),A.jsx(i4,{upcomingEvents:o,pastEvents:u,userProfile:t,isOwner:U,onEdit:B,onDelete:Q}),U&&A.jsxs(A.Fragment,{children:[A.jsx(Rh,{isOpen:m,onClose:()=>p(!1),closeOnOverlayClick:!1,title:"Create New Event",children:A.jsx(e4,{groupId:r,onClose:()=>p(!1)})}),D&&A.jsx(Rh,{isOpen:g,onClose:()=>_(!1),closeOnOverlayClick:!1,title:"Edit Event Instance",children:A.jsx(a4,{instance:D,onClose:()=>_(!1)})}),s&&A.jsx(Rh,{isOpen:w,onClose:()=>T(!1),closeOnOverlayClick:!1,title:"Edit Group Details",children:A.jsx(t4,{group:s,onClose:()=>T(!1)})})]})]})},u4=()=>{const{user:r,userProfile:e}=fs(),t=Tu(),s=async()=>{try{await AC(Pg),Ke.success("Signed out successfully"),t("/login")}catch(o){console.error("Error signing out: ",o),Ke.error("Failed to sign out")}};return A.jsx("nav",{className:"bg-dark-surface shadow-md",children:A.jsx("div",{className:"container mx-auto px-4",children:A.jsxs("div",{className:"flex justify-between items-center py-3",children:[A.jsx(Zh,{to:"/",className:"text-xl font-bold text-primary flex items-center gap-2",children:" FairPlay Scheduler"}),r&&e&&A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-8 h-8 rounded-full"}),A.jsx("span",{className:"text-sm font-medium text-dark-text-secondary hidden sm:block",children:e.displayName})]}),A.jsx("button",{onClick:s,className:"bg-danger text-white px-3 py-1.5 rounded-md text-sm font-semibold hover:bg-red-600 transition-colors",children:"Logout"})]})]})})})},QE=({children:r})=>A.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[A.jsx(u4,{}),A.jsx("main",{className:"container mx-auto px-4 py-8",children:r})]}),$E=({children:r})=>{var s;const{user:e,loading:t}=fs();return t?A.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-dark-bg",children:A.jsx(If,{})}):e?(s=e.email)!=null&&s.endsWith("@google.com")?A.jsx(A.Fragment,{children:r}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-dark-bg text-red-500",children:[A.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),A.jsx("p",{children:"This application is restricted to @google.com users only."}),A.jsx("p",{children:"Please sign in with a valid Google corporate account."})]}):A.jsx(sT,{to:"/login",replace:!0})},c4=()=>{P.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const{user:r,loading:e}=fs();return A.jsx(FA,{children:A.jsxs(EA,{children:[A.jsx(Zl,{path:"/login",element:A.jsx(HO,{})}),A.jsx(Zl,{path:"/",element:A.jsx($E,{children:A.jsx(QE,{children:A.jsx(GO,{})})})}),A.jsx(Zl,{path:"/group/:groupId",element:A.jsx($E,{children:A.jsx(QE,{children:A.jsx(l4,{})})})}),A.jsx(Zl,{path:"*",element:A.jsx(sT,{to:r&&!e?"/":"/login"})})]})})},Yw=document.getElementById("root");if(!Yw)throw new Error("Could not find root element to mount to");const h4=C1.createRoot(Yw);h4.render(A.jsx(E1.StrictMode,{children:A.jsxs(ZN,{children:[A.jsx(c4,{}),A.jsx(qO,{position:"bottom-right",toastOptions:{className:"dark:bg-dark-surface dark:text-dark-text",style:{background:"#333",color:"#fff"}}})]})}));
