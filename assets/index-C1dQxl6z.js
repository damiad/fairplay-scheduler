(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function GE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sm={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function gS(){if(q_)return Fl;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=t,Fl.jsxs=t,Fl}var H_;function yS(){return H_||(H_=1,Sm.exports=gS()),Sm.exports}var M=yS(),Am={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function vS(){if(F_)return Re;F_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function G(N,re,oe){this.props=N,this.context=re,this.refs=j,this.updater=oe||x}G.prototype.isReactComponent={},G.prototype.setState=function(N,re){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,re,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=G.prototype;function $(N,re,oe){this.props=N,this.context=re,this.refs=j,this.updater=oe||x}var ne=$.prototype=new H;ne.constructor=$,D(ne,G.prototype),ne.isPureReactComponent=!0;var ce=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function k(N,re,oe,ie,ye,xe){return oe=xe.ref,{$$typeof:r,type:N,key:re,ref:oe!==void 0?oe:null,props:xe}}function A(N,re){return k(N.type,re,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var re={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return re[oe]})}var P=/\/+/g;function U(N,re){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):re.toString(36)}function C(){}function Ut(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(re){N.status==="pending"&&(N.status="fulfilled",N.value=re)},function(re){N.status==="pending"&&(N.status="rejected",N.reason=re)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function lt(N,re,oe,ie,ye){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case r:case e:we=!0;break;case _:return we=N._init,lt(we(N._payload),re,oe,ie,ye)}}if(we)return ye=ye(N),we=ie===""?"."+U(N,0):ie,ce(ye)?(oe="",we!=null&&(oe=we.replace(P,"$&/")+"/"),lt(ye,re,oe,"",function(Jn){return Jn})):ye!=null&&(R(ye)&&(ye=A(ye,oe+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+we)),re.push(ye)),1;we=0;var Dt=ie===""?".":ie+":";if(ce(N))for(var et=0;et<N.length;et++)ie=N[et],xe=Dt+U(ie,et),we+=lt(ie,re,oe,xe,ye);else if(et=b(N),typeof et=="function")for(N=et.call(N),et=0;!(ie=N.next()).done;)ie=ie.value,xe=Dt+U(ie,et++),we+=lt(ie,re,oe,xe,ye);else if(xe==="object"){if(typeof N.then=="function")return lt(Ut(N),re,oe,ie,ye);throw re=String(N),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(N,re,oe){if(N==null)return N;var ie=[],ye=0;return lt(N,ie,"","",function(xe){return re.call(oe,xe,ye++)}),ie}function ae(N){if(N._status===-1){var re=N._result;re=re(),re.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=re)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Be(){}return Re.Children={map:X,forEach:function(N,re,oe){X(N,function(){re.apply(this,arguments)},oe)},count:function(N){var re=0;return X(N,function(){re++}),re},toArray:function(N){return X(N,function(re){return re})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=G,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=$,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,re,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=D({},N.props),ye=N.key,xe=void 0;if(re!=null)for(we in re.ref!==void 0&&(xe=void 0),re.key!==void 0&&(ye=""+re.key),re)!me.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ie[we]=re[we]);var we=arguments.length-2;if(we===1)ie.children=oe;else if(1<we){for(var Dt=Array(we),et=0;et<we;et++)Dt[et]=arguments[et+2];ie.children=Dt}return k(N.type,ye,void 0,void 0,xe,ie)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,re,oe){var ie,ye={},xe=null;if(re!=null)for(ie in re.key!==void 0&&(xe=""+re.key),re)me.call(re,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=re[ie]);var we=arguments.length-2;if(we===1)ye.children=oe;else if(1<we){for(var Dt=Array(we),et=0;et<we;et++)Dt[et]=arguments[et+2];ye.children=Dt}if(N&&N.defaultProps)for(ie in we=N.defaultProps,we)ye[ie]===void 0&&(ye[ie]=we[ie]);return k(N,xe,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=R,Re.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:ae}},Re.memo=function(N,re){return{$$typeof:g,type:N,compare:re===void 0?null:re}},Re.startTransition=function(N){var re=he.T,oe={};he.T=oe;try{var ie=N(),ye=he.S;ye!==null&&ye(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,pe)}catch(xe){pe(xe)}finally{he.T=re}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(N){return he.H.use(N)},Re.useActionState=function(N,re,oe){return he.H.useActionState(N,re,oe)},Re.useCallback=function(N,re){return he.H.useCallback(N,re)},Re.useContext=function(N){return he.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,re){return he.H.useDeferredValue(N,re)},Re.useEffect=function(N,re,oe){var ie=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,re)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(N,re,oe){return he.H.useImperativeHandle(N,re,oe)},Re.useInsertionEffect=function(N,re){return he.H.useInsertionEffect(N,re)},Re.useLayoutEffect=function(N,re){return he.H.useLayoutEffect(N,re)},Re.useMemo=function(N,re){return he.H.useMemo(N,re)},Re.useOptimistic=function(N,re){return he.H.useOptimistic(N,re)},Re.useReducer=function(N,re,oe){return he.H.useReducer(N,re,oe)},Re.useRef=function(N){return he.H.useRef(N)},Re.useState=function(N){return he.H.useState(N)},Re.useSyncExternalStore=function(N,re,oe){return he.H.useSyncExternalStore(N,re,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.0",Re}var G_;function bp(){return G_||(G_=1,Am.exports=vS()),Am.exports}var z=bp();const _S=GE(z);var Rm={exports:{}},Gl={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function ES(){return Y_||(Y_=1,function(r){function e(X,ae){var pe=X.length;X.push(ae);e:for(;0<pe;){var Be=pe-1>>>1,N=X[Be];if(0<o(N,ae))X[Be]=ae,X[pe]=N,pe=Be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],pe=X.pop();if(pe!==ae){X[0]=pe;e:for(var Be=0,N=X.length,re=N>>>1;Be<re;){var oe=2*(Be+1)-1,ie=X[oe],ye=oe+1,xe=X[ye];if(0>o(ie,pe))ye<N&&0>o(xe,ie)?(X[Be]=xe,X[ye]=pe,Be=ye):(X[Be]=ie,X[oe]=pe,Be=oe);else if(ye<N&&0>o(xe,pe))X[Be]=xe,X[ye]=pe,Be=ye;else break e}}return ae}function o(X,ae){var pe=X.sortIndex-ae.sortIndex;return pe!==0?pe:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],_=1,w=null,b=3,x=!1,D=!1,j=!1,G=!1,H=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ce(X){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=X)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function he(X){if(j=!1,ce(X),!D)if(t(p)!==null)D=!0,me||(me=!0,U());else{var ae=t(g);ae!==null&&lt(he,ae.startTime-X)}}var me=!1,k=-1,A=5,R=-1;function O(){return G?!0:!(r.unstable_now()-R<A)}function P(){if(G=!1,me){var X=r.unstable_now();R=X;var ae=!0;try{e:{D=!1,j&&(j=!1,$(k),k=-1),x=!0;var pe=b;try{t:{for(ce(X),w=t(p);w!==null&&!(w.expirationTime>X&&O());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,b=w.priorityLevel;var N=Be(w.expirationTime<=X);if(X=r.unstable_now(),typeof N=="function"){w.callback=N,ce(X),ae=!0;break t}w===t(p)&&s(p),ce(X)}else s(p);w=t(p)}if(w!==null)ae=!0;else{var re=t(g);re!==null&&lt(he,re.startTime-X),ae=!1}}break e}finally{w=null,b=pe,x=!1}ae=void 0}}finally{ae?U():me=!1}}}var U;if(typeof ne=="function")U=function(){ne(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ut=C.port2;C.port1.onmessage=P,U=function(){Ut.postMessage(null)}}else U=function(){H(P,0)};function lt(X,ae){k=H(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var pe=b;b=ae;try{return X()}finally{b=pe}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=b;b=X;try{return ae()}finally{b=pe}},r.unstable_scheduleCallback=function(X,ae,pe){var Be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,X={id:_++,callback:ae,priorityLevel:X,startTime:pe,expirationTime:N,sortIndex:-1},pe>Be?(X.sortIndex=pe,e(g,X),t(p)===null&&X===t(g)&&(j?($(k),k=-1):j=!0,lt(he,pe-Be))):(X.sortIndex=N,e(p,X),D||x||(D=!0,me||(me=!0,U()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var ae=b;return function(){var pe=b;b=ae;try{return X.apply(this,arguments)}finally{b=pe}}}}(Cm)),Cm}var Q_;function TS(){return Q_||(Q_=1,Im.exports=ES()),Im.exports}var xm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function bS(){if(K_)return $t;K_=1;var r=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},$t.flushSync=function(p){var g=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=_,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,_){return f.H.useFormState(p,g,_)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var $_;function wS(){if($_)return xm.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=bS(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function SS(){if(X_)return Gl;X_=1;var r=TS(),e=bp(),t=wS();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===a){E=!0,a=h,l=d;break}if(T===l){E=!0,l=h,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=h;break}if(T===l){E=!0,l=d,a=h;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Ut(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case G:return"Profiler";case j:return"StrictMode";case he:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case $:return(n._context.displayName||"Context")+".Consumer";case ce:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return i=n.displayName||null,i!==null?i:Ut(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return Ut(n(i))}catch{}}return null}var lt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],N=-1;function re(n){return{current:n}}function oe(n){0>N||(n.current=Be[N],Be[N]=null,N--)}function ie(n,i){N++,Be[N]=n.current,n.current=i}var ye=re(null),xe=re(null),we=re(null),Dt=re(null);function et(n,i){switch(ie(we,i),ie(xe,n),ie(ye,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?g_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=g_(i),n=y_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(ye),ie(ye,n)}function Jn(){oe(ye),oe(xe),oe(we)}function fi(n){n.memoizedState!==null&&ie(Dt,n);var i=ye.current,a=y_(i,n.type);i!==a&&(ie(xe,n),ie(ye,a))}function Ar(n){xe.current===n&&(oe(ye),oe(xe)),Dt.current===n&&(oe(Dt),jl._currentValue=pe)}var hs=Object.prototype.hasOwnProperty,fs=r.unstable_scheduleCallback,ds=r.unstable_cancelCallback,Po=r.unstable_shouldYield,Vu=r.unstable_requestPaint,Sn=r.unstable_now,Sf=r.unstable_getCurrentPriorityLevel,Lo=r.unstable_ImmediatePriority,da=r.unstable_UserBlockingPriority,ms=r.unstable_NormalPriority,Af=r.unstable_LowPriority,ma=r.unstable_IdlePriority,Uo=r.log,ku=r.unstable_setDisableYieldValue,ut=null,Ge=null;function dn(n){if(typeof Uo=="function"&&ku(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,n)}catch{}}var Qt=Math.clz32?Math.clz32:ps,Pu=Math.log,Rf=Math.LN2;function ps(n){return n>>>=0,n===0?32:31-(Pu(n)/Rf|0)|0}var gs=256,ys=4194304;function zn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pa(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(E&=T,E!==0?h=zn(E):a||(a=T&~n,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):E!==0?h=zn(E):a||(a=l&~n,a!==0&&(h=zn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function vs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function jo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var n=gs;return gs<<=1,(gs&4194048)===0&&(gs=256),n}function Bo(){var n=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),n}function Rr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ir(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qo(n,i,a,l,h,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Qt(a),ee=1<<W;T[W]=0,I[W]=-1;var Y=F[W];if(Y!==null)for(F[W]=null,W=0;W<Y.length;W++){var Q=Y[W];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&er(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function er(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Qt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Ho(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function di(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ga(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function mi(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:P_(n.type))}function Lu(n,i){var a=ae.p;try{return ae.p=n,i()}finally{ae.p=a}}var rt=Math.random().toString(36).slice(2),St="__reactFiber$"+rt,yt="__reactProps$"+rt,An="__reactContainer$"+rt,Fo="__reactEvents$"+rt,If="__reactListeners$"+rt,pi="__reactHandles$"+rt,Uu="__reactResources$"+rt,_s="__reactMarker$"+rt;function gi(n){delete n[St],delete n[yt],delete n[Fo],delete n[If],delete n[pi]}function Cr(n){var i=n[St];if(i)return i;for(var a=n.parentNode;a;){if(i=a[An]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=T_(n);n!==null;){if(a=n[St])return a;n=T_(n)}return i}n=a,a=n.parentNode}return null}function tr(n){if(n=n[St]||n[An]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function nr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function en(n){var i=n[Uu];return i||(i=n[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(n){n[_s]=!0}var Go=new Set,ya={};function Bn(n,i){xr(n,i),xr(n+"Capture",i)}function xr(n,i){for(ya[n]=i,n=0;n<i.length;n++)Go.add(i[n])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},Es={};function Bu(n){return hs.call(Es,n)?!0:hs.call(zu,n)?!1:ju.test(n)?Es[n]=!0:(zu[n]=!0,!1)}function yi(n,i,a){if(Bu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function rr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function jt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Ts,qu;function Dr(n){if(Ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ts=i&&i[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+n+qu}var va=!1;function _a(n,i){if(!n||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var Y=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){Y=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var I=E.split(`
`),F=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var W=`
`+I[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=h);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Dr(a):""}function Yo(n){switch(n.tag){case 26:case 27:case 5:return Dr(n.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return _a(n.type,!1);case 11:return _a(n.type.render,!1);case 1:return _a(n.type,!0);case 31:return Dr("Activity");default:return""}}function Ea(n){try{var i="";do i+=Yo(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Cf(n){var i=Qo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ta(n){n._valueTracker||(n._valueTracker=Cf(n))}function Ko(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Qo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function bs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xf=/[\n"\\]/g;function vt(n){return n.replace(xf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(n,i,a,l,h,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+tn(i)):n.value!==""+tn(i)&&(n.value=""+tn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?vi(n,E,tn(i)):a!=null?vi(n,E,tn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function ws(n,i,a,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function vi(n,i,a){i==="number"&&bs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Nr(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function $e(n,i,a){if(i!=null&&(i=""+tn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+tn(a):""}function Ss(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Rn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||As.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function $o(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Hu(n,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(n,d,i[d])}function Xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(n){return Nf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Or=null;function In(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mr=null,Vr=null;function Wo(n){var i=tr(n);if(i&&(n=i.stateNode)){var a=n[yt]||null;e:switch(n=i.stateNode,i.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[yt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Ko(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Nr(n,!!a.multiple,i,!1)}}}var ir=!1;function Fu(n,i,a){if(ir)return n(i,a);ir=!0;try{var l=n(i);return l}finally{if(ir=!1,(Mr!==null||Vr!==null)&&(Lc(),Mr&&(i=Mr,n=Vr,Vr=Mr=null,Wo(i),n)))for(i=0;i<n.length;i++)Wo(n[i])}}function Rs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(qn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Cn=!1}var sr=null,_i=null,kr=null;function Zo(){if(kr)return kr;var n,i=_i,a=i.length,l,h="value"in sr?sr.value:sr.textContent,d=h.length;for(n=0;n<a&&i[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return kr=h.slice(n,1<l?1-l:void 0)}function ar(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function or(){return!0}function Jo(){return!1}function Nt(n){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Jo,this.isPropagationStopped=Jo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Nt(He),Cs=_({},He,{view:0,detail:0}),Gu=Nt(Cs),Sa,Aa,lr,xs=_({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lr&&(lr&&n.type==="mousemove"?(Sa=n.screenX-lr.screenX,Aa=n.screenY-lr.screenY):Aa=Sa=0,lr=n),Sa)},movementY:function(n){return"movementY"in n?n.movementY:Aa}}),xn=Nt(xs),Yu=_({},xs,{dataTransfer:0}),Of=Nt(Yu),Ds=_({},Cs,{relatedTarget:0}),Ra=Nt(Ds),el=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=Nt(el),Qu=_({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ca=Nt(Qu),Mf=_({},He,{data:0}),tl=Nt(Mf),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$u[n])?!!i[n]:!1}function Os(){return nl}var Xu=_({},Cs,{key:function(n){if(n.key){var i=Ns[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ar(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ku[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(n){return n.type==="keypress"?ar(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ar(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xa=Nt(Xu),Wu=_({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Nt(Wu),Pr=_({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Zu=Nt(Pr),Ju=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Nt(Ju),tc=_({},xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Nt(tc),nn=_({},He,{newState:0,oldState:0}),nc=Nt(nn),rc=[9,13,27,32],ur=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,v=qn&&(!ur||c&&8<c&&11>=c),S=" ",B=!1;function K(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ke=!1;function At(n,i){switch(n){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return n=i.data,n===S&&B?null:n;default:return null}}function Pe(n,i){if(ke)return n==="compositionend"||!ur&&K(n,i)?(n=Zo(),kr=_i=sr=null,ke=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ot[n.type]:i==="textarea"}function Lr(n,i,a,l){Mr?Vr?Vr.push(l):Vr=[l]:Mr=l,i=Hc(i,"onChange"),0<i.length&&(a=new wa("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var zt=null,cr=null;function il(n){h_(n,0)}function ic(n){var i=nr(n);if(Ko(i))return n}function Og(n,i){if(n==="change")return i}var Mg=!1;if(qn){var Vf;if(qn){var kf="oninput"in document;if(!kf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),kf=typeof Vg.oninput=="function"}Vf=kf}else Vf=!1;Mg=Vf&&(!document.documentMode||9<document.documentMode)}function kg(){zt&&(zt.detachEvent("onpropertychange",Pg),cr=zt=null)}function Pg(n){if(n.propertyName==="value"&&ic(cr)){var i=[];Lr(i,cr,n,In(n)),Fu(il,i)}}function Yw(n,i,a){n==="focusin"?(kg(),zt=i,cr=a,zt.attachEvent("onpropertychange",Pg)):n==="focusout"&&kg()}function Qw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(cr)}function Kw(n,i){if(n==="click")return ic(i)}function $w(n,i){if(n==="input"||n==="change")return ic(i)}function Xw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var pn=typeof Object.is=="function"?Object.is:Xw;function sl(n,i){if(pn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!hs.call(i,h)||!pn(n[h],i[h]))return!1}return!0}function Lg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ug(n,i){var a=Lg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function jg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?jg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function zg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=bs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=bs(n.document)}return i}function Pf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Ww=qn&&"documentMode"in document&&11>=document.documentMode,Na=null,Lf=null,al=null,Uf=!1;function Bg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uf||Na==null||Na!==bs(l)||(l=Na,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Hc(Lf,"onSelect"),0<l.length&&(i=new wa("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Na)))}function Ms(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Oa={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},jf={},qg={};qn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Vs(n){if(jf[n])return jf[n];if(!Oa[n])return n;var i=Oa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in qg)return jf[n]=i[a];return n}var Hg=Vs("animationend"),Fg=Vs("animationiteration"),Gg=Vs("animationstart"),Zw=Vs("transitionrun"),Jw=Vs("transitionstart"),e1=Vs("transitioncancel"),Yg=Vs("transitionend"),Qg=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function Hn(n,i){Qg.set(n,i),Bn(i,[n])}var Kg=new WeakMap;function Dn(n,i){if(typeof n=="object"&&n!==null){var a=Kg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ea(i)},Kg.set(n,i),i)}return{value:n,source:i,stack:Ea(i)}}var Nn=[],Ma=0,Bf=0;function sc(){for(var n=Ma,i=Bf=Ma=0;i<n;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&$g(a,h,d)}}function ac(n,i,a,l){Nn[Ma++]=n,Nn[Ma++]=i,Nn[Ma++]=a,Nn[Ma++]=l,Bf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function qf(n,i,a,l){return ac(n,i,a,l),oc(n)}function Va(n,i){return ac(n,null,null,i),oc(n)}function $g(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&i!==null&&(h=31-Qt(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(n){if(50<Nl)throw Nl=0,Kd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ka={};function t1(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,i,a,l){return new t1(n,i,a,l)}function Hf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ur(n,i){var a=n.alternate;return a===null?(a=gn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Xg(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lc(n,i,a,l,h,d){var E=0;if(l=n,typeof n=="function")Hf(n)&&(E=1);else if(typeof n=="string")E=rS(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=gn(31,a,i,h),n.elementType=R,n.lanes=d,n;case D:return ks(a.children,h,d,i);case j:E=8,h|=24;break;case G:return n=gn(12,a,i,h|2),n.elementType=G,n.lanes=d,n;case he:return n=gn(13,a,i,h),n.elementType=he,n.lanes=d,n;case me:return n=gn(19,a,i,h),n.elementType=me,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case ne:E=10;break e;case $:E=9;break e;case ce:E=11;break e;case k:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=gn(E,a,i,h),i.elementType=n,i.type=l,i.lanes=d,i}function ks(n,i,a,l){return n=gn(7,n,l,i),n.lanes=a,n}function Ff(n,i,a){return n=gn(6,n,null,i),n.lanes=a,n}function Gf(n,i,a){return i=gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Pa=[],La=0,uc=null,cc=0,On=[],Mn=0,Ps=null,jr=1,zr="";function Ls(n,i){Pa[La++]=cc,Pa[La++]=uc,uc=n,cc=i}function Wg(n,i,a){On[Mn++]=jr,On[Mn++]=zr,On[Mn++]=Ps,Ps=n;var l=jr;n=zr;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,jr=1<<32-Qt(i)+h|a<<h|l,zr=d+n}else jr=1<<d|a<<h|l,zr=n}function Yf(n){n.return!==null&&(Ls(n,1),Wg(n,1,0))}function Qf(n){for(;n===uc;)uc=Pa[--La],Pa[La]=null,cc=Pa[--La],Pa[La]=null;for(;n===Ps;)Ps=On[--Mn],On[Mn]=null,zr=On[--Mn],On[Mn]=null,jr=On[--Mn],On[Mn]=null}var rn=null,ct=null,qe=!1,Us=null,hr=!1,Kf=Error(s(519));function js(n){var i=Error(s(418,""));throw ul(Dn(i,n)),Kf}function Zg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[St]=n,i[yt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Oe(Ml[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),ws(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ss(i,l.value,l.defaultValue,l.children),Ta(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||js(n)}function Jg(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:rn=rn.return}}function ol(n){if(n!==rn)return!1;if(!qe)return Jg(n),qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||cm(n.type,n.memoizedProps)),a=!a),a&&ct&&js(n),Jg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ct=Gn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ct=null}}else i===27?(i=ct,ki(n.type)?(n=mm,mm=null,ct=n):ct=i):ct=rn?Gn(n.stateNode.nextSibling):null;return!0}function ll(){ct=rn=null,qe=!1}function ey(){var n=Us;return n!==null&&(un===null?un=n:un.push.apply(un,n),Us=null),n}function ul(n){Us===null?Us=[n]:Us.push(n)}var $f=re(null),zs=null,Br=null;function Ei(n,i,a){ie($f,i._currentValue),i._currentValue=a}function qr(n){n._currentValue=$f.current,oe($f)}function Xf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Wf(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Xf(d.return,a,n),l||(E=null);break e}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Xf(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function cl(n,i,a,l){n=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=h.type;pn(h.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(h===Dt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(jl):n=[jl])}h=h.return}n!==null&&Wf(i,n,a,l),i.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Bs(n){zs=n,Br=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return ty(zs,n)}function fc(n,i){return zs===null&&Bs(n),ty(n,i)}function ty(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Br===null){if(n===null)throw Error(s(308));Br=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Br=Br.next=i;return a}var n1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},r1=r.unstable_scheduleCallback,i1=r.unstable_NormalPriority,It={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new n1,data:new Map,refCount:0}}function hl(n){n.refCount--,n.refCount===0&&r1(i1,function(){n.controller.abort()})}var fl=null,Jf=0,Ua=0,ja=null;function s1(n,i){if(fl===null){var a=fl=[];Jf=0,Ua=tm(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,i.then(ny,ny),i}function ny(){if(--Jf===0&&fl!==null){ja!==null&&(ja.status="fulfilled");var n=fl;fl=null,Ua=0,ja=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function a1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ry=X.S;X.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&s1(n,i),ry!==null&&ry(n,i)};var qs=re(null);function ed(){var n=qs.current;return n!==null?n:tt.pooledCache}function dc(n,i){i===null?ie(qs,qs.current):ie(qs,i.pool)}function iy(){var n=ed();return n===null?null:{parent:It._currentValue,pool:n}}var dl=Error(s(460)),sy=Error(s(474)),mc=Error(s(542)),td={then:function(){}};function ay(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function oy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(pc,pc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,uy(n),n;default:if(typeof i.status=="string")i.then(pc,pc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,uy(n),n}throw ml=i,dl}}var ml=null;function ly(){if(ml===null)throw Error(s(459));var n=ml;return ml=null,n}function uy(n){if(n===dl||n===mc)throw Error(s(483))}var Ti=!1;function nd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function wi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=oc(n),$g(n,null,a),i}return ac(n,l,i,a),oc(n)}function pl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ho(n,a)}}function id(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var sd=!1;function gl(){if(sd){var n=ja;if(n!==null)throw n}}function yl(n,i,a,l){sd=!1;var h=n.updateQueue;Ti=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,F=I.next;I.next=null,E===null?d=F:E.next=F,E=I;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==E&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;E=0,W=F=I=null,T=d;do{var Y=T.lane&-536870913,Q=Y!==T.lane;if(Q?(Le&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ua&&(sd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=n,ve=T;Y=i;var Ze=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){ee=Te.call(Ze,ee,Y);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,Y=typeof Te=="function"?Te.call(Ze,ee,Y):Te,Y==null)break e;ee=_({},ee,Y);break e;case 2:Ti=!0}}Y=T.callback,Y!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=Q,I=ee):W=W.next=Q,E|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Ni|=E,n.lanes=E,n.memoizedState=ee}}function cy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function hy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)cy(a[n],i)}var za=re(null),gc=re(0);function fy(n,i){n=$r,ie(gc,n),ie(za,i),$r=n|i.baseLanes}function ad(){ie(gc,$r),ie(za,za.current)}function od(){$r=gc.current,oe(za),oe(gc)}var Si=0,Ie=null,Xe=null,_t=null,yc=!1,Ba=!1,Hs=!1,vc=0,vl=0,qa=null,o1=0;function mt(){throw Error(s(321))}function ld(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!pn(n[a],i[a]))return!1;return!0}function ud(n,i,a,l,h,d){return Si=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=n===null||n.memoizedState===null?$y:Xy,Hs=!1,d=a(l,h),Hs=!1,Ba&&(d=my(i,a,l,h)),dy(n),d}function dy(n){X.H=Sc;var i=Xe!==null&&Xe.next!==null;if(Si=0,_t=Xe=Ie=null,yc=!1,vl=0,qa=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&hc(n)&&(Mt=!0))}function my(n,i,a,l){Ie=n;var h=0;do{if(Ba&&(qa=null),vl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,_t=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=m1,d=i(a,l)}while(Ba);return d}function l1(){var n=X.H,i=n.useState()[0];return i=typeof i.then=="function"?_l(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),i}function cd(){var n=vc!==0;return vc=0,n}function hd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function fd(n){if(yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yc=!1}Si=0,_t=Xe=Ie=null,Ba=!1,vl=vc=0,qa=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=n:_t=_t.next=n,_t}function Et(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=_t===null?Ie.memoizedState:_t.next;if(i!==null)_t=i,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?Ie.memoizedState=_t=n:_t=_t.next=n}return _t}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(n){var i=vl;return vl+=1,qa===null&&(qa=[]),n=oy(qa,n,i),i=Ie,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?$y:Xy),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _l(n);if(n.$$typeof===ne)return Kt(n)}throw Error(s(438,String(n)))}function md(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=O;return i.index++,a}function Hr(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=Et();return pd(i,Xe,n)}function pd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{i=h.next;var T=E=null,I=null,F=i,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Le&ee)===ee:(Si&ee)===ee){var Y=F.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ua&&(W=!0);else if((Si&Y)===Y){F=F.next,Y===Ua&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=ee,E=d):I=I.next=ee,Ie.lanes|=Y,Ni|=Y;ee=F.action,Hs&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else Y={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=Y,E=d):I=I.next=Y,Ie.lanes|=ee,Ni|=ee;F=F.next}while(F!==null&&F!==i);if(I===null?E=d:I.next=T,!pn(d,n.memoizedState)&&(Mt=!0,W&&(a=ja,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function gd(n){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=n(d,E.action),E=E.next;while(E!==h);pn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function py(n,i,a){var l=Ie,h=Et(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!pn((Xe||h).memoizedState,a);E&&(h.memoizedState=a,Mt=!0),h=h.queue;var T=vy.bind(null,l,h,n);if(El(2048,8,T,[n]),h.getSnapshot!==i||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Tc(),yy.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Si&124)!==0||gy(l,i,a)}return a}function gy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=dd(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function yy(n,i,a,l){i.value=a,i.getSnapshot=l,_y(i)&&Ey(n)}function vy(n,i,a){return a(function(){_y(i)&&Ey(n)})}function _y(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!pn(n,a)}catch{return!0}}function Ey(n){var i=Va(n,2);i!==null&&Tn(i,n,2)}function yd(n){var i=on();if(typeof n=="function"){var a=n;if(n=a(),Hs){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:n},i}function Ty(n,i,a,l){return n.baseState=a,pd(n,Xe,typeof l=="function"?l:Hr)}function u1(n,i,a,l,h){if(wc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,by(i,d)):(d.next=a.next,i.pending=a.next=d)}}function by(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var d=X.T,E={};X.T=E;try{var T=a(h,l),I=X.S;I!==null&&I(E,T),wy(n,i,T)}catch(F){vd(n,i,F)}finally{X.T=d}}else try{d=a(h,l),wy(n,i,d)}catch(F){vd(n,i,F)}}function wy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(n,i,l)},function(l){return vd(n,i,l)}):Sy(n,i,a)}function Sy(n,i,a){i.status="fulfilled",i.value=a,Ay(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,by(n,a)))}function vd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}n.action=null}function Ay(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ry(n,i){return i}function Iy(n,i){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(qe){if(ct){t:{for(var h=ct,d=hr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Gn(h.nextSibling),l=h.data==="F!";break e}}js(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:i},a.queue=l,a=Yy.bind(null,Ie,l),l.dispatch=a,l=yd(!1),d=wd.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=u1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function Cy(n){var i=Et();return xy(i,Xe,n)}function xy(n,i,a){if(i=pd(n,i,Ry)[0],n=Ec(Hr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(E){throw E===dl?mc:E}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ha(9,Tc(),c1.bind(null,h,a),null)),[l,d,n]}function c1(n,i){n.action=i}function Dy(n){var i=Et(),a=Xe;if(a!==null)return xy(i,a,n);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ha(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=dd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function Ny(){return Et().memoizedState}function bc(n,i,a,l){var h=on();l=l===void 0?null:l,Ie.flags|=n,h.memoizedState=Ha(1|i,Tc(),a,l)}function El(n,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&ld(l,Xe.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(Ie.flags|=n,h.memoizedState=Ha(1|i,d,a,l))}function Oy(n,i){bc(8390656,8,n,i)}function My(n,i){El(2048,8,n,i)}function Vy(n,i){return El(4,2,n,i)}function ky(n,i){return El(4,4,n,i)}function Py(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ly(n,i,a){a=a!=null?a.concat([n]):null,El(4,4,Py.bind(null,i,n),a)}function _d(){}function Uy(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ld(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function jy(n,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ld(i,l[1]))return l[0];if(l=n(),Hs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function Ed(n,i,a){return a===void 0||(Si&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=qv(),Ie.lanes|=n,Ni|=n,a)}function zy(n,i,a,l){return pn(a,i)?a:za.current!==null?(n=Ed(n,a,l),pn(n,i)||(Mt=!0),n):(Si&42)===0?(Mt=!0,n.memoizedState=a):(n=qv(),Ie.lanes|=n,Ni|=n,i)}function By(n,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=X.T,T={};X.T=T,wd(n,!1,i,a);try{var I=h(),F=X.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=a1(I,l);Tl(n,i,W,En(n))}else Tl(n,i,l,En(n))}catch(ee){Tl(n,i,{then:function(){},status:"rejected",reason:ee},En())}finally{ae.p=d,X.T=E}}function h1(){}function Td(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=qy(n).queue;By(n,h,i,pe,a===null?h1:function(){return Hy(n),a(l)})}function qy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Hy(n){var i=qy(n).next.queue;Tl(n,i,{},En())}function bd(){return Kt(jl)}function Fy(){return Et().memoizedState}function Gy(){return Et().memoizedState}function f1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();n=bi(a);var l=wi(i,n,a);l!==null&&(Tn(l,i,a),pl(l,i,a)),i={cache:Zf()},n.payload=i;return}i=i.return}}function d1(n,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?Qy(i,a):(a=qf(n,i,a,l),a!==null&&(Tn(a,n,l),Ky(a,i,l)))}function Yy(n,i,a){var l=En();Tl(n,i,a,l)}function Tl(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))Qy(i,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,E))return ac(n,i,h,0),tt===null&&sc(),!1}catch{}finally{}if(a=qf(n,i,h,l),a!==null)return Tn(a,n,l),Ky(a,i,l),!0}return!1}function wd(n,i,a,l){if(l={lane:2,revertLane:tm(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(s(479))}else i=qf(n,a,l,2),i!==null&&Tn(i,n,2)}function wc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function Qy(n,i){Ba=yc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Ky(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ho(n,a)}}var Sc={readContext:Kt,use:_c,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},$y={readContext:Kt,use:_c,useCallback:function(n,i){return on().memoizedState=[n,i===void 0?null:i],n},useContext:Kt,useEffect:Oy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,bc(4194308,4,Py.bind(null,i,n),a)},useLayoutEffect:function(n,i){return bc(4194308,4,n,i)},useInsertionEffect:function(n,i){bc(4,2,n,i)},useMemo:function(n,i){var a=on();i=i===void 0?null:i;var l=n();if(Hs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=on();if(a!==void 0){var h=a(i);if(Hs){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=d1.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=on();return n={current:n},i.memoizedState=n},useState:function(n){n=yd(n);var i=n.queue,a=Yy.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(n,i){var a=on();return Ed(a,n,i)},useTransition:function(){var n=yd(!1);return n=By.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,h=on();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Le&124)!==0||gy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Oy(vy.bind(null,l,d,n),[n]),l.flags|=2048,Ha(9,Tc(),yy.bind(null,l,d,a,i),null),a},useId:function(){var n=on(),i=tt.identifierPrefix;if(qe){var a=zr,l=jr;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=o1++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:bd,useFormState:Iy,useActionState:Iy,useOptimistic:function(n){var i=on();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=wd.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:md,useCacheRefresh:function(){return on().memoizedState=f1.bind(null,Ie)}},Xy={readContext:Kt,use:_c,useCallback:Uy,useContext:Kt,useEffect:My,useImperativeHandle:Ly,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:jy,useReducer:Ec,useRef:Ny,useState:function(){return Ec(Hr)},useDebugValue:_d,useDeferredValue:function(n,i){var a=Et();return zy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Ec(Hr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:_l(n),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:bd,useFormState:Cy,useActionState:Cy,useOptimistic:function(n,i){var a=Et();return Ty(a,Xe,n,i)},useMemoCache:md,useCacheRefresh:Gy},m1={readContext:Kt,use:_c,useCallback:Uy,useContext:Kt,useEffect:My,useImperativeHandle:Ly,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:jy,useReducer:gd,useRef:Ny,useState:function(){return gd(Hr)},useDebugValue:_d,useDeferredValue:function(n,i){var a=Et();return Xe===null?Ed(a,n,i):zy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=gd(Hr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:_l(n),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:bd,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,i){var a=Et();return Xe!==null?Ty(a,Xe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:md,useCacheRefresh:Gy},Fa=null,bl=0;function Ac(n){var i=bl;return bl+=1,Fa===null&&(Fa=[]),oy(Fa,n,i)}function wl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rc(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Wy(n){var i=n._init;return i(n._payload)}function Zy(n){function i(L,V){if(n){var q=L.deletions;q===null?(L.deletions=[V],L.flags|=16):q.push(V)}}function a(L,V){if(!n)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Ur(L,V),L.index=0,L.sibling=null,L}function d(L,V,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<V?(L.flags|=67108866,V):q):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,q,Z){return V===null||V.tag!==6?(V=Ff(q,L.mode,Z),V.return=L,V):(V=h(V,q),V.return=L,V)}function I(L,V,q,Z){var fe=q.type;return fe===D?W(L,V,q.props.children,Z,q.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Wy(fe)===V.type)?(V=h(V,q.props),wl(V,q),V.return=L,V):(V=lc(q.type,q.key,q.props,null,L.mode,Z),wl(V,q),V.return=L,V)}function F(L,V,q,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Gf(q,L.mode,Z),V.return=L,V):(V=h(V,q.children||[]),V.return=L,V)}function W(L,V,q,Z,fe){return V===null||V.tag!==7?(V=ks(q,L.mode,Z,fe),V.return=L,V):(V=h(V,q),V.return=L,V)}function ee(L,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ff(""+V,L.mode,q),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return q=lc(V.type,V.key,V.props,null,L.mode,q),wl(q,V),q.return=L,q;case x:return V=Gf(V,L.mode,q),V.return=L,V;case A:var Z=V._init;return V=Z(V._payload),ee(L,V,q)}if(lt(V)||U(V))return V=ks(V,L.mode,q,null),V.return=L,V;if(typeof V.then=="function")return ee(L,Ac(V),q);if(V.$$typeof===ne)return ee(L,fc(L,V),q);Rc(L,V)}return null}function Y(L,V,q,Z){var fe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:T(L,V,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===fe?I(L,V,q,Z):null;case x:return q.key===fe?F(L,V,q,Z):null;case A:return fe=q._init,q=fe(q._payload),Y(L,V,q,Z)}if(lt(q)||U(q))return fe!==null?null:W(L,V,q,Z,null);if(typeof q.then=="function")return Y(L,V,Ac(q),Z);if(q.$$typeof===ne)return Y(L,V,fc(L,q),Z);Rc(L,q)}return null}function Q(L,V,q,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,T(V,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return L=L.get(Z.key===null?q:Z.key)||null,I(V,L,Z,fe);case x:return L=L.get(Z.key===null?q:Z.key)||null,F(V,L,Z,fe);case A:var De=Z._init;return Z=De(Z._payload),Q(L,V,q,Z,fe)}if(lt(Z)||U(Z))return L=L.get(q)||null,W(V,L,Z,fe,null);if(typeof Z.then=="function")return Q(L,V,q,Ac(Z),fe);if(Z.$$typeof===ne)return Q(L,V,q,fc(V,Z),fe);Rc(V,Z)}return null}function Te(L,V,q,Z){for(var fe=null,De=null,de=V,_e=V=0,kt=null;de!==null&&_e<q.length;_e++){de.index>_e?(kt=de,de=null):kt=de.sibling;var ze=Y(L,de,q[_e],Z);if(ze===null){de===null&&(de=kt);break}n&&de&&ze.alternate===null&&i(L,de),V=d(ze,V,_e),De===null?fe=ze:De.sibling=ze,De=ze,de=kt}if(_e===q.length)return a(L,de),qe&&Ls(L,_e),fe;if(de===null){for(;_e<q.length;_e++)de=ee(L,q[_e],Z),de!==null&&(V=d(de,V,_e),De===null?fe=de:De.sibling=de,De=de);return qe&&Ls(L,_e),fe}for(de=l(de);_e<q.length;_e++)kt=Q(de,L,_e,q[_e],Z),kt!==null&&(n&&kt.alternate!==null&&de.delete(kt.key===null?_e:kt.key),V=d(kt,V,_e),De===null?fe=kt:De.sibling=kt,De=kt);return n&&de.forEach(function(zi){return i(L,zi)}),qe&&Ls(L,_e),fe}function ve(L,V,q,Z){if(q==null)throw Error(s(151));for(var fe=null,De=null,de=V,_e=V=0,kt=null,ze=q.next();de!==null&&!ze.done;_e++,ze=q.next()){de.index>_e?(kt=de,de=null):kt=de.sibling;var zi=Y(L,de,ze.value,Z);if(zi===null){de===null&&(de=kt);break}n&&de&&zi.alternate===null&&i(L,de),V=d(zi,V,_e),De===null?fe=zi:De.sibling=zi,De=zi,de=kt}if(ze.done)return a(L,de),qe&&Ls(L,_e),fe;if(de===null){for(;!ze.done;_e++,ze=q.next())ze=ee(L,ze.value,Z),ze!==null&&(V=d(ze,V,_e),De===null?fe=ze:De.sibling=ze,De=ze);return qe&&Ls(L,_e),fe}for(de=l(de);!ze.done;_e++,ze=q.next())ze=Q(de,L,_e,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),V=d(ze,V,_e),De===null?fe=ze:De.sibling=ze,De=ze);return n&&de.forEach(function(pS){return i(L,pS)}),qe&&Ls(L,_e),fe}function Ze(L,V,q,Z){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var fe=q.key;V!==null;){if(V.key===fe){if(fe=q.type,fe===D){if(V.tag===7){a(L,V.sibling),Z=h(V,q.props.children),Z.return=L,L=Z;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Wy(fe)===V.type){a(L,V.sibling),Z=h(V,q.props),wl(Z,q),Z.return=L,L=Z;break e}a(L,V);break}else i(L,V);V=V.sibling}q.type===D?(Z=ks(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=lc(q.type,q.key,q.props,null,L.mode,Z),wl(Z,q),Z.return=L,L=Z)}return E(L);case x:e:{for(fe=q.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(L,V.sibling),Z=h(V,q.children||[]),Z.return=L,L=Z;break e}else{a(L,V);break}else i(L,V);V=V.sibling}Z=Gf(q,L.mode,Z),Z.return=L,L=Z}return E(L);case A:return fe=q._init,q=fe(q._payload),Ze(L,V,q,Z)}if(lt(q))return Te(L,V,q,Z);if(U(q)){if(fe=U(q),typeof fe!="function")throw Error(s(150));return q=fe.call(q),ve(L,V,q,Z)}if(typeof q.then=="function")return Ze(L,V,Ac(q),Z);if(q.$$typeof===ne)return Ze(L,V,fc(L,q),Z);Rc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(L,V.sibling),Z=h(V,q),Z.return=L,L=Z):(a(L,V),Z=Ff(q,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,V)}return function(L,V,q,Z){try{bl=0;var fe=Ze(L,V,q,Z);return Fa=null,fe}catch(de){if(de===dl||de===mc)throw de;var De=gn(29,de,null,L.mode);return De.lanes=Z,De.return=L,De}finally{}}}var Ga=Zy(!0),Jy=Zy(!1),Vn=re(null),fr=null;function Ai(n){var i=n.alternate;ie(Ct,Ct.current&1),ie(Vn,n),fr===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(fr=n)}function ev(n){if(n.tag===22){if(ie(Ct,Ct.current),ie(Vn,n),fr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fr=n)}}else Ri()}function Ri(){ie(Ct,Ct.current),ie(Vn,Vn.current)}function Fr(n){oe(Vn),fr===n&&(fr=null),oe(Ct)}var Ct=re(0);function Ic(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ad={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=En(),h=bi(l);h.payload=i,a!=null&&(h.callback=a),i=wi(n,h,l),i!==null&&(Tn(i,n,l),pl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=En(),h=bi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wi(n,h,l),i!==null&&(Tn(i,n,l),pl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=En(),l=bi(a);l.tag=2,i!=null&&(l.callback=i),i=wi(n,l,a),i!==null&&(Tn(i,n,a),pl(i,n,a))}};function tv(n,i,a,l,h,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function nv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Ad.enqueueReplaceState(i,i.state,null)}function Fs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function rv(n){Cc(n)}function iv(n){console.error(n)}function sv(n){Cc(n)}function xc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function av(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rd(n,i,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,i)},a}function ov(n){return n=bi(n),n.tag=3,n}function lv(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){av(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){av(i,a,l),typeof h!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function p1(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&cl(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return fr===null?Xd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===td?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Zd(n,l,h)),!1;case 22:return a.flags|=65536,l===td?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Zd(n,l,h)),!1}throw Error(s(435,a.tag))}return Zd(n,l,h),Xd(),!1}if(qe)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Kf&&(n=Error(s(422),{cause:l}),ul(Dn(n,a)))):(l!==Kf&&(i=Error(s(423),{cause:l}),ul(Dn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Dn(l,a),h=Rd(n.stateNode,l,h),id(n,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Dl===null?Dl=[d]:Dl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Rd(a.stateNode,l,n),id(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ov(h),lv(h,n,a,l),id(a,h),!1}a=a.return}while(a!==null);return!1}var uv=Error(s(461)),Mt=!1;function Bt(n,i,a,l){i.child=n===null?Jy(i,null,a,l):Ga(i,n.child,a,l)}function cv(n,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Bs(i),l=ud(n,i,a,E,d,h),T=cd(),n!==null&&!Mt?(hd(n,i,h),Gr(n,i,h)):(qe&&T&&Yf(i),i.flags|=1,Bt(n,i,l,h),i.child)}function hv(n,i,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,fv(n,i,d,l,h)):(n=lc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Vd(n,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(E,l)&&n.ref===i.ref)return Gr(n,i,h)}return i.flags|=1,n=Ur(d,l),n.ref=i.ref,n.return=i,i.child=n}function fv(n,i,a,l,h){if(n!==null){var d=n.memoizedProps;if(sl(d,l)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Vd(n,h))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,Gr(n,i,h)}return Id(n,i,a,l,h)}function dv(n,i,a){var l=i.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=i.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return mv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,d!==null?d.cachePool:null),d!==null?fy(i,d):ad(),ev(i);else return i.lanes=i.childLanes=536870912,mv(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(i,d.cachePool),fy(i,d),Ri(),i.memoizedState=null):(n!==null&&dc(i,null),ad(),Ri());return Bt(n,i,h,a),i.child}function mv(n,i,a,l){var h=ed();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&dc(i,null),ad(),ev(i),n!==null&&cl(n,i,l,!0),null}function Dc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Id(n,i,a,l,h){return Bs(i),a=ud(n,i,a,l,void 0,h),l=cd(),n!==null&&!Mt?(hd(n,i,h),Gr(n,i,h)):(qe&&l&&Yf(i),i.flags|=1,Bt(n,i,a,h),i.child)}function pv(n,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=my(i,l,a,h),dy(n),l=cd(),n!==null&&!Mt?(hd(n,i,d),Gr(n,i,d)):(qe&&l&&Yf(i),i.flags|=1,Bt(n,i,a,d),i.child)}function gv(n,i,a,l,h){if(Bs(i),i.stateNode===null){var d=ka,E=a.contextType;typeof E=="object"&&E!==null&&(d=Kt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},nd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Kt(E):ka,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Sd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Ad.enqueueReplaceState(d,d.state,null),yl(i,l,d,h),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var T=i.memoizedProps,I=Fs(a,T);d.props=I;var F=d.context,W=a.contextType;E=ka,typeof W=="object"&&W!==null&&(E=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==E)&&nv(i,d,l,E),Ti=!1;var Y=i.memoizedState;d.state=Y,yl(i,l,d,h),gl(),F=i.memoizedState,T||Y!==F||Ti?(typeof ee=="function"&&(Sd(i,a,ee,l),F=i.memoizedState),(I=Ti||tv(i,a,I,l,Y,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,rd(n,i),E=i.memoizedProps,W=Fs(a,E),d.props=W,ee=i.pendingProps,Y=d.context,F=a.contextType,I=ka,typeof F=="object"&&F!==null&&(I=Kt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||Y!==I)&&nv(i,d,l,I),Ti=!1,Y=i.memoizedState,d.state=Y,yl(i,l,d,h),gl();var Q=i.memoizedState;E!==ee||Y!==Q||Ti||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof T=="function"&&(Sd(i,a,T,l),Q=i.memoizedState),(W=Ti||tv(i,a,W,l,Y,Q,I)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ga(i,n.child,null,h),i.child=Ga(i,null,a,h)):Bt(n,i,a,h),i.memoizedState=d.state,n=i.child):n=Gr(n,i,h),n}function yv(n,i,a,l){return ll(),i.flags|=256,Bt(n,i,a,l),i.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(n){return{baseLanes:n,cachePool:iy()}}function Dd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=kn),n}function vv(n,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(qe){if(h?Ai(i):Ri(),qe){var T=ct,I;if(I=T){e:{for(I=T,T=hr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Gn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ps!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,rn=i,ct=null,I=!0):I=!1}I||js(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return dm(T)?i.lanes=32:i.lanes=536870912,null;Fr(i)}return T=l.children,l=l.fallback,h?(Ri(),h=i.mode,T=Nc({mode:"hidden",children:T},h),l=ks(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=xd(a),h.childLanes=Dd(n,E,a),i.memoizedState=Cd,l):(Ai(i),Nd(i,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Ai(i),i.flags&=-257,i=Od(n,i,a)):i.memoizedState!==null?(Ri(),i.child=n.child,i.flags|=128,i=null):(Ri(),h=l.fallback,T=i.mode,l=Nc({mode:"visible",children:l.children},T),h=ks(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ga(i,n.child,null,a),l=i.child,l.memoizedState=xd(a),l.childLanes=Dd(n,E,a),i.memoizedState=Cd,i=h);else if(Ai(i),dm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,ul({value:l,source:null,stack:null}),i=Od(n,i,a)}else if(Mt||cl(n,i,a,!1),E=(a&n.childLanes)!==0,Mt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:di(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Va(n,l),Tn(E,n,l),uv;T.data==="$?"||Xd(),i=Od(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ct=Gn(T.nextSibling),rn=i,qe=!0,Us=null,hr=!1,n!==null&&(On[Mn++]=jr,On[Mn++]=zr,On[Mn++]=Ps,jr=n.id,zr=n.overflow,Ps=i),i=Nd(i,l.children),i.flags|=4096);return i}return h?(Ri(),h=l.fallback,T=i.mode,I=n.child,F=I.sibling,l=Ur(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=Ur(F,h):(h=ks(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=n.child.memoizedState,T===null?T=xd(a):(I=T.cachePool,I!==null?(F=It._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=iy(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Dd(n,E,a),i.memoizedState=Cd,l):(Ai(i),a=n.child,n=a.sibling,a=Ur(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Nd(n,i){return i=Nc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nc(n,i){return n=gn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Od(n,i,a){return Ga(i,n.child,null,a),n=Nd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function _v(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Xf(n.return,i,a)}function Md(n,i,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ev(n,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(n,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_v(n,a,i);else if(n.tag===19)_v(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Md(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Ic(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Md(i,!0,a,null,d);break;case"together":Md(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Gr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ni|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(cl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ur(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ur(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Vd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function g1(n,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),Ei(i,It,n.memoizedState.cache),ll();break;case 27:case 5:fi(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:Ei(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(i),i.flags|=128,null):(a&i.child.childLanes)!==0?vv(n,i,a):(Ai(i),n=Gr(n,i,a),n!==null?n.sibling:null);Ai(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(cl(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ev(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,dv(n,i,a);case 24:Ei(i,It,n.memoizedState.cache)}return Gr(n,i,a)}function Tv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Vd(n,a)&&(i.flags&128)===0)return Mt=!1,g1(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,qe&&(i.flags&1048576)!==0&&Wg(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Hf(l)?(n=Fs(l,n),i.tag=1,i=gv(null,i,l,n,a)):(i.tag=0,i=Id(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===ce){i.tag=11,i=cv(null,i,l,n,a);break e}else if(h===k){i.tag=14,i=hv(null,i,l,n,a);break e}}throw i=Ut(l)||l,Error(s(306,i,""))}}return i;case 0:return Id(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fs(l,i.pendingProps),gv(n,i,l,h,a);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,rd(n,i),yl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ei(i,It,l),l!==d.cache&&Wf(i,[It],a,!0),gl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=yv(n,i,l,a);break e}else if(l!==h){h=Dn(Error(s(424)),i),ul(h),i=yv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=Gn(n.firstChild),rn=i,qe=!0,Us=null,hr=!0,a=Jy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){i=Gr(n,i,a);break e}Bt(n,i,l,a)}i=i.child}return i;case 26:return Dc(n,i),n===null?(a=A_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,n=i.pendingProps,l=Gc(we.current).createElement(a),l[St]=i,l[yt]=n,Ht(l,a,n),dt(l),i.stateNode=l):i.memoizedState=A_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return fi(i),n===null&&qe&&(l=i.stateNode=b_(i.type,i.pendingProps,we.current),rn=i,hr=!0,h=ct,ki(i.type)?(mm=h,ct=Gn(l.firstChild)):ct=h),Bt(n,i,i.pendingProps.children,a),Dc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&qe&&((h=l=ct)&&(l=F1(l,i.type,i.pendingProps,hr),l!==null?(i.stateNode=l,rn=i,ct=Gn(l.firstChild),hr=!1,h=!0):h=!1),h||js(i)),fi(i),h=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,cm(h,d)?l=null:E!==null&&cm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=ud(n,i,l1,null,null,a),jl._currentValue=h),Dc(n,i),Bt(n,i,l,a),i.child;case 6:return n===null&&qe&&((n=a=ct)&&(a=G1(a,i.pendingProps,hr),a!==null?(i.stateNode=a,rn=i,ct=null,n=!0):n=!1),n||js(i)),null;case 13:return vv(n,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ga(i,null,l,a):Bt(n,i,l,a),i.child;case 11:return cv(n,i,i.type,i.pendingProps,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ei(i,i.type,l.value),Bt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=Kt(h),l=l(h),i.flags|=1,Bt(n,i,l,a),i.child;case 14:return hv(n,i,i.type,i.pendingProps,a);case 15:return fv(n,i,i.type,i.pendingProps,a);case 19:return Ev(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ur(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return dv(n,i,a);case 24:return Bs(i),l=Kt(It),n===null?(h=ed(),h===null&&(h=tt,d=Zf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},nd(i),Ei(i,It,h)):((n.lanes&a)!==0&&(rd(n,i),yl(i,null,null,a),gl()),h=n.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ei(i,It,l)):(l=d.cache,Ei(i,It,l),l!==h.cache&&Wf(i,[It],a,!0))),Bt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yr(n){n.flags|=4}function bv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!D_(i)){if(i=Vn.current,i!==null&&((Le&4194048)===Le?fr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==fr))throw ml=td,sy;n.flags|=8192}}function Oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Bo():536870912,n.lanes|=i,$a|=i)}function Sl(n,i){if(!qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function y1(n,i,a){var l=i.pendingProps;switch(Qf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qr(It),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ol(i)?Yr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ey())),at(i),null;case 26:return a=i.memoizedState,n===null?(Yr(i),a!==null?(at(i),bv(i,a)):(at(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Yr(i),at(i),bv(i,a)):(at(i),i.flags&=-16777217):(n.memoizedProps!==l&&Yr(i),at(i),i.flags&=-16777217),null;case 27:Ar(i),a=we.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}n=ye.current,ol(i)?Zg(i):(n=b_(h,l,a),i.stateNode=n,Yr(i))}return at(i),null;case 5:if(Ar(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(n=ye.current,ol(i))Zg(i);else{switch(h=Gc(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[St]=i,n[yt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Yr(i)}}return at(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Yr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,ol(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[St]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p_(n.nodeValue,a)),n||js(i)}else n=Gc(n).createTextNode(l),n[St]=i,i.stateNode=n}return at(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=ol(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=ey(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Fr(i),i):(Fr(i),null)}if(Fr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Oc(i,i.updateQueue),at(i),null;case 4:return Jn(),n===null&&sm(i.stateNode.containerInfo),at(i),null;case 10:return qr(i.type),at(i),null;case 19:if(oe(Ct),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Sl(h,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ic(n),d!==null){for(i.flags|=128,Sl(h,!1),n=d.updateQueue,i.updateQueue=n,Oc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Xg(a,n),a=a.sibling;return ie(Ct,Ct.current&1|2),i.child}n=n.sibling}h.tail!==null&&Sn()>kc&&(i.flags|=128,l=!0,Sl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Ic(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Oc(i,n),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return at(i),null}else 2*Sn()-h.renderingStartTime>kc&&a!==536870912&&(i.flags|=128,l=!0,Sl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(n=h.last,n!==null?n.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Sn(),i.sibling=null,n=Ct.current,ie(Ct,l?n&1|2:n&1),i):(at(i),null);case 22:case 23:return Fr(i),od(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Oc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&oe(qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qr(It),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function v1(n,i){switch(Qf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qr(It),Jn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ar(i),null;case 13:if(Fr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ll()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return oe(Ct),null;case 4:return Jn(),null;case 10:return qr(i.type),null;case 22:case 23:return Fr(i),od(),n!==null&&oe(qs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return qr(It),null;case 25:return null;default:return null}}function wv(n,i){switch(Qf(i),i.tag){case 3:qr(It),Jn();break;case 26:case 27:case 5:Ar(i);break;case 4:Jn();break;case 13:Fr(i);break;case 19:oe(Ct);break;case 10:qr(i.type);break;case 22:case 23:Fr(i),od(),n!==null&&oe(qs);break;case 24:qr(It)}}function Al(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function Ii(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=i;var I=a,F=T;try{F()}catch(W){Je(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){Je(i,i.return,W)}}function Sv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{hy(i,a)}catch(l){Je(n,n.return,l)}}}function Av(n,i,a){a.props=Fs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,i,l)}}function Rl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){Je(n,i,h)}}function dr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(n,i,h)}else a.current=null}function Rv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(n,n.return,h)}}function kd(n,i,a){try{var l=n.stateNode;j1(l,n.type,a,i),l[yt]=i}catch(h){Je(n,n.return,h)}}function Iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ki(n.type)||n.tag===4}function Pd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ld(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&ki(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Ld(n,i,a),n=n.sibling;n!==null;)Ld(n,i,a),n=n.sibling}function Mc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&ki(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Mc(n,i,a),n=n.sibling;n!==null;)Mc(n,i,a),n=n.sibling}function Cv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,a),i[St]=n,i[yt]=a}catch(d){Je(n,n.return,d)}}var Qr=!1,pt=!1,Ud=!1,xv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function _1(n,i){if(n=n.containerInfo,lm=Wc,n=zg(n),Pf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,I=-1,F=0,W=0,ee=n,Y=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(T=E+h),ee!==d||l!==0&&ee.nodeType!==3||(I=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)Y=ee,ee=Q;for(;;){if(ee===n)break t;if(Y===a&&++F===h&&(T=E),Y===d&&++W===l&&(I=E),(Q=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(um={focusedElem:n,selectionRange:a},Wc=!1,Vt=i;Vt!==null;)if(i=Vt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Vt=n;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Fs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Je(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)fm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Vt=n;break}Vt=i.return}}function Dv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ci(n,a),l&4&&Al(5,a);break;case 1:if(Ci(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){Je(a,a.return,E)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(a,a.return,E)}}l&64&&Sv(a),l&512&&Rl(a,a.return);break;case 3:if(Ci(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hy(n,i)}catch(E){Je(a,a.return,E)}}break;case 27:i===null&&l&4&&Cv(a);case 26:case 5:Ci(n,a),i===null&&l&4&&Rv(a),l&512&&Rl(a,a.return);break;case 12:Ci(n,a);break;case 13:Ci(n,a),l&4&&Mv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=C1.bind(null,a),Y1(n,a))));break;case 22:if(l=a.memoizedState!==null||Qr,!l){i=i!==null&&i.memoizedState!==null||pt,h=Qr;var d=pt;Qr=l,(pt=i)&&!d?xi(n,a,(a.subtreeFlags&8772)!==0):Ci(n,a),Qr=h,pt=d}break;case 30:break;default:Ci(n,a)}}function Nv(n){var i=n.alternate;i!==null&&(n.alternate=null,Nv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&gi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,ln=!1;function Kr(n,i,a){for(a=a.child;a!==null;)Ov(n,i,a),a=a.sibling}function Ov(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:pt||dr(a,i),Kr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||dr(a,i);var l=it,h=ln;ki(a.type)&&(it=a.stateNode,ln=!1),Kr(n,i,a),kl(a.stateNode),it=l,ln=h;break;case 5:pt||dr(a,i);case 6:if(l=it,h=ln,it=null,Kr(n,i,a),it=l,ln=h,it!==null)if(ln)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:it!==null&&(ln?(n=it,E_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Hl(n)):E_(it,a.stateNode));break;case 4:l=it,h=ln,it=a.stateNode.containerInfo,ln=!0,Kr(n,i,a),it=l,ln=h;break;case 0:case 11:case 14:case 15:pt||Ii(2,a,i),pt||Ii(4,a,i),Kr(n,i,a);break;case 1:pt||(dr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Av(a,i,l)),Kr(n,i,a);break;case 21:Kr(n,i,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Kr(n,i,a),pt=l;break;default:Kr(n,i,a)}}function Mv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Hl(n)}catch(a){Je(i,i.return,a)}}function E1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new xv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new xv),i;default:throw Error(s(435,n.tag))}}function jd(n,i){var a=E1(n);i.forEach(function(l){var h=x1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ki(T.type)){it=T.stateNode,ln=!1;break e}break;case 5:it=T.stateNode,ln=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(it===null)throw Error(s(160));Ov(d,E,h),it=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vv(i,n),i=i.sibling}var Fn=null;function Vv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(i,n),vn(n),l&4&&(Ii(3,n,n.return),Al(3,n),Ii(5,n,n.return));break;case 1:yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),l&64&&Qr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ht(d,l,a),d[St]=n,dt(d),l=d;break e;case"link":var E=C_("link","href",h).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;case"meta":if(E=C_("meta","content",h).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=n,dt(d),l=d}n.stateNode=l}else x_(h,n.type,n.stateNode);else n.stateNode=I_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?x_(h,n.type,n.stateNode):I_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&kd(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),a!==null&&l&4&&kd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,n),vn(n),l&512&&(pt||a===null||dr(a,a.return)),n.flags&32){h=n.stateNode;try{Rn(h,"")}catch(Q){Je(n,n.return,Q)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,kd(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Ud=!0);break;case 6:if(yn(i,n),vn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Q){Je(n,n.return,Q)}}break;case 3:if(Kc=null,h=Fn,Fn=Yc(i.containerInfo),yn(i,n),Fn=h,vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(Q){Je(n,n.return,Q)}Ud&&(Ud=!1,kv(n));break;case 4:l=Fn,Fn=Yc(n.stateNode.containerInfo),yn(i,n),vn(n),Fn=l;break;case 12:yn(i,n),vn(n);break;case 13:yn(i,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gd=Sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=Qr,W=pt;if(Qr=F||h,pt=W||I,yn(i,n),pt=W,Qr=F,vn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Qr||pt||Gs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){Je(I,I.return,Q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Q){Je(I,I.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jd(n,a))));break;case 19:yn(i,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 30:break;case 21:break;default:yn(i,n),vn(n)}}function vn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Iv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pd(n);Mc(n,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Rn(E,""),a.flags&=-33);var T=Pd(n);Mc(n,T,E);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Pd(n);Ld(n,F,I);break;default:throw Error(s(161))}}catch(W){Je(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;kv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ci(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dv(n,i.alternate,i),i=i.sibling}function Gs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Gs(i);break;case 1:dr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Av(i,i.return,a),Gs(i);break;case 27:kl(i.stateNode);case 26:case 5:dr(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}n=n.sibling}}function xi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:xi(h,d,a),Al(4,d);break;case 1:if(xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cy(I[h],T)}catch(F){Je(l,l.return,F)}}a&&E&64&&Sv(d),Rl(d,d.return);break;case 27:Cv(d);case 26:case 5:xi(h,d,a),a&&l===null&&E&4&&Rv(d),Rl(d,d.return);break;case 12:xi(h,d,a);break;case 13:xi(h,d,a),a&&E&4&&Mv(h,d);break;case 22:d.memoizedState===null&&xi(h,d,a),Rl(d,d.return);break;case 30:break;default:xi(h,d,a)}i=i.sibling}}function zd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&hl(a))}function Bd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&hl(n))}function mr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pv(n,i,a,l),i=i.sibling}function Pv(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mr(n,i,a,l),h&2048&&Al(9,i);break;case 1:mr(n,i,a,l);break;case 3:mr(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&hl(n)));break;case 12:if(h&2048){mr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else mr(n,i,a,l);break;case 13:mr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?mr(n,i,a,l):Il(n,i):d._visibility&2?mr(n,i,a,l):(d._visibility|=2,Ya(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&zd(E,i);break;case 24:mr(n,i,a,l),h&2048&&Bd(i.alternate,i);break;default:mr(n,i,a,l)}}function Ya(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,T=a,I=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ya(d,E,T,I,h),Al(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ya(d,E,T,I,h):Il(d,E):(W._visibility|=2,Ya(d,E,T,I,h)),h&&F&2048&&zd(E.alternate,E);break;case 24:Ya(d,E,T,I,h),h&&F&2048&&Bd(E.alternate,E);break;default:Ya(d,E,T,I,h)}i=i.sibling}}function Il(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&zd(l.alternate,l);break;case 24:Il(a,l),h&2048&&Bd(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Cl=8192;function Qa(n){if(n.subtreeFlags&Cl)for(n=n.child;n!==null;)Lv(n),n=n.sibling}function Lv(n){switch(n.tag){case 26:Qa(n),n.flags&Cl&&n.memoizedState!==null&&sS(Fn,n.memoizedState,n.memoizedProps);break;case 5:Qa(n);break;case 3:case 4:var i=Fn;Fn=Yc(n.stateNode.containerInfo),Qa(n),Fn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Cl,Cl=16777216,Qa(n),Cl=i):Qa(n));break;default:Qa(n)}}function Uv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function xl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,zv(l,n)}Uv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jv(n),n=n.sibling}function jv(n){switch(n.tag){case 0:case 11:case 15:xl(n),n.flags&2048&&Ii(9,n,n.return);break;case 3:xl(n);break;case 12:xl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Vc(n)):xl(n);break;default:xl(n)}}function Vc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,zv(l,n)}Uv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}n=n.sibling}}function zv(n,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ii(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(Nv(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var T1={getCacheForType:function(n){var i=Kt(It),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},b1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,Ne=null,Le=0,Qe=0,_n=null,Di=!1,Ka=!1,qd=!1,$r=0,ht=0,Ni=0,Ys=0,Hd=0,kn=0,$a=0,Dl=null,un=null,Fd=!1,Gd=0,kc=1/0,Pc=null,Oi=null,qt=0,Mi=null,Xa=null,Wa=0,Yd=0,Qd=null,Bv=null,Nl=0,Kd=null;function En(){if((Ye&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var n=Ua;return n!==0?n:tm()}return mi()}function qv(){kn===0&&(kn=(Le&536870912)===0||qe?zo():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),kn}function Tn(n,i,a){(n===tt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(Za(n,0),Vi(n,Le,kn,!1)),Ir(n,a),((Ye&2)===0||n!==tt)&&(n===tt&&((Ye&2)===0&&(Ys|=a),ht===4&&Vi(n,Le,kn,!1)),pr(n))}function Hv(n,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||vs(n,i),h=l?A1(n,i):Wd(n,i,!0),d=l;do{if(h===0){Ka&&!l&&Vi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!w1(a)){h=Wd(n,i,!1),d=!1;continue}if(h===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;h=Dl;var I=T.current.memoizedState.isDehydrated;if(I&&(Za(T,E).flags|=256),E=Wd(T,E,!1),E!==2){if(qd&&!I){T.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Za(n,0),Vi(n,i,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vi(l,i,kn,!Di);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Gd+300-Sn(),10<h)){if(Vi(l,i,kn,!Di),pa(l,0,!0)!==0)break e;l.timeoutHandle=v_(Fv.bind(null,l,a,un,Pc,Fd,i,kn,Ys,$a,Di,d,2,-0,0),h);break e}Fv(l,a,un,Pc,Fd,i,kn,Ys,$a,Di,d,0,-0,0)}}break}while(!0);pr(n)}function Fv(n,i,a,l,h,d,E,T,I,F,W,ee,Y,Q){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:iS},Lv(i),ee=aS(),ee!==null)){n.cancelPendingCommit=ee(Wv.bind(null,n,i,d,a,l,h,E,T,I,W,1,Y,Q)),Vi(n,d,E,!F);return}Wv(n,i,d,a,l,h,E,T,I)}function w1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vi(n,i,a,l){i&=~Hd,i&=~Ys,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&er(n,a,i)}function Lc(){return(Ye&6)===0?(Ol(0),!1):!0}function $d(){if(Ne!==null){if(Qe===0)var n=Ne.return;else n=Ne,Br=zs=null,fd(n),Fa=null,bl=0,n=Ne;for(;n!==null;)wv(n.alternate,n),n=n.return;Ne=null}}function Za(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,B1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$d(),tt=n,Ne=a=Ur(n.current,null),Le=i,Qe=0,_n=null,Di=!1,Ka=vs(n,i),qd=!1,$a=kn=Hd=Ys=Ni=ht=0,un=Dl=null,Fd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=n[h],l&=~d}return $r=i,sc(),a}function Gv(n,i){Ie=null,X.H=Sc,i===dl||i===mc?(i=ly(),Qe=3):i===sy?(i=ly(),Qe=4):Qe=i===uv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Ne===null&&(ht=1,xc(n,Dn(i,n.current)))}function Yv(){var n=X.H;return X.H=Sc,n===null?Sc:n}function Qv(){var n=X.A;return X.A=T1,n}function Xd(){ht=4,Di||(Le&4194048)!==Le&&Vn.current!==null||(Ka=!0),(Ni&134217727)===0&&(Ys&134217727)===0||tt===null||Vi(tt,Le,kn,!1)}function Wd(n,i,a){var l=Ye;Ye|=2;var h=Yv(),d=Qv();(tt!==n||Le!==i)&&(Pc=null,Za(n,i)),i=!1;var E=ht;e:do try{if(Qe!==0&&Ne!==null){var T=Ne,I=_n;switch(Qe){case 8:$d(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var F=Qe;if(Qe=0,_n=null,Ja(n,T,I,F),a&&Ka){E=0;break e}break;default:F=Qe,Qe=0,_n=null,Ja(n,T,I,F)}}S1(),E=ht;break}catch(W){Gv(n,W)}while(!0);return i&&n.shellSuspendCounter++,Br=zs=null,Ye=l,X.H=h,X.A=d,Ne===null&&(tt=null,Le=0,sc()),E}function S1(){for(;Ne!==null;)Kv(Ne)}function A1(n,i){var a=Ye;Ye|=2;var l=Yv(),h=Qv();tt!==n||Le!==i?(Pc=null,kc=Sn()+500,Za(n,i)):Ka=vs(n,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=_n;t:switch(Qe){case 1:Qe=0,_n=null,Ja(n,i,d,1);break;case 2:case 9:if(ay(d)){Qe=0,_n=null,$v(i);break}i=function(){Qe!==2&&Qe!==9||tt!==n||(Qe=7),pr(n)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ay(d)?(Qe=0,_n=null,$v(i)):(Qe=0,_n=null,Ja(n,i,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var T=Ne;if(!E||D_(E)){Qe=0,_n=null;var I=T.sibling;if(I!==null)Ne=I;else{var F=T.return;F!==null?(Ne=F,Uc(F)):Ne=null}break t}}Qe=0,_n=null,Ja(n,i,d,5);break;case 6:Qe=0,_n=null,Ja(n,i,d,6);break;case 8:$d(),ht=6;break e;default:throw Error(s(462))}}R1();break}catch(W){Gv(n,W)}while(!0);return Br=zs=null,X.H=l,X.A=h,Ye=a,Ne!==null?0:(tt=null,Le=0,sc(),ht)}function R1(){for(;Ne!==null&&!Po();)Kv(Ne)}function Kv(n){var i=Tv(n.alternate,n,$r);n.memoizedProps=n.pendingProps,i===null?Uc(n):Ne=i}function $v(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=pv(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=pv(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:fd(i);default:wv(a,i),i=Ne=Xg(i,$r),i=Tv(a,i,$r)}n.memoizedProps=n.pendingProps,i===null?Uc(n):Ne=i}function Ja(n,i,a,l){Br=zs=null,fd(i),Fa=null,bl=0;var h=i.return;try{if(p1(n,h,i,a,Le)){ht=1,xc(n,Dn(a,n.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,xc(n,Dn(a,n.current)),Ne=null;return}i.flags&32768?(qe||l===1?n=!0:Ka||(Le&536870912)!==0?n=!1:(Di=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xv(i,n)):Uc(i)}function Uc(n){var i=n;do{if((i.flags&32768)!==0){Xv(i,Di);return}n=i.return;var a=y1(i.alternate,i,$r);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=n}while(i!==null);ht===0&&(ht=5)}function Xv(n,i){do{var a=v1(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ht=6,Ne=null}function Wv(n,i,a,l,h,d,E,T,I){n.cancelPendingCommit=null;do jc();while(qt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Bf,qo(n,a,d,E,T,I),n===tt&&(Ne=tt=null,Le=0),Xa=i,Mi=n,Wa=a,Yd=d,Qd=h,Bv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,D1(ms,function(){return n_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ae.p,ae.p=2,E=Ye,Ye|=4;try{_1(n,i,a)}finally{Ye=E,ae.p=h,X.T=l}}qt=1,Zv(),Jv(),e_()}}function Zv(){if(qt===1){qt=0;var n=Mi,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Vv(i,n);var d=um,E=zg(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&jg(T.ownerDocument.documentElement,T)){if(I!==null&&Pf(T)){var F=I.start,W=I.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Te=T.textContent.length,ve=Math.min(I.start,Te),Ze=I.end===void 0?ve:Math.min(I.end,Te);!Q.extend&&ve>Ze&&(E=Ze,Ze=ve,ve=E);var L=Ug(T,ve),V=Ug(T,Ze);if(L&&V&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=ee.createRange();q.setStart(L.node,L.offset),Q.removeAllRanges(),ve>Ze?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(ee=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wc=!!lm,um=lm=null}finally{Ye=h,ae.p=l,X.T=a}}n.current=i,qt=2}}function Jv(){if(qt===2){qt=0;var n=Mi,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Dv(n,i.alternate,i)}finally{Ye=h,ae.p=l,X.T=a}}qt=3}}function e_(){if(qt===4||qt===3){qt=0,Vu();var n=Mi,i=Xa,a=Wa,l=Bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Xa=Mi=null,t_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Oi=null),ga(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ae.p,ae.p=2,X.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{X.T=i,ae.p=h}}(Wa&3)!==0&&jc(),pr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Kd?Nl++:(Nl=0,Kd=n):Nl=0,Ol(0)}}function t_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,hl(i)))}function jc(n){return Zv(),Jv(),e_(),n_()}function n_(){if(qt!==5)return!1;var n=Mi,i=Yd;Yd=0;var a=ga(Wa),l=X.T,h=ae.p;try{ae.p=32>a?32:a,X.T=null,a=Qd,Qd=null;var d=Mi,E=Wa;if(qt=0,Xa=Mi=null,Wa=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,jv(d.current),Pv(d,d.current,E,a),Ye=T,Ol(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ae.p=h,X.T=l,t_(n,i)}}function r_(n,i,a){i=Dn(a,i),i=Rd(n.stateNode,i,2),n=wi(n,i,2),n!==null&&(Ir(n,2),pr(n))}function Je(n,i,a){if(n.tag===3)r_(n,n,a);else for(;i!==null;){if(i.tag===3){r_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){n=Dn(a,n),a=ov(2),l=wi(i,a,2),l!==null&&(lv(a,l,i,n),Ir(l,2),pr(l));break}}i=i.return}}function Zd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new b1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(qd=!0,h.add(a),n=I1.bind(null,n,i,a),i.then(n,n))}function I1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>Sn()-Gd?(Ye&2)===0&&Za(n,0):Hd|=a,$a===Le&&($a=0)),pr(n)}function i_(n,i){i===0&&(i=Bo()),n=Va(n,i),n!==null&&(Ir(n,i),pr(n))}function C1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),i_(n,a)}function x1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),i_(n,a)}function D1(n,i){return fs(n,i)}var zc=null,eo=null,Jd=!1,Bc=!1,em=!1,Qs=0;function pr(n){n!==eo&&n.next===null&&(eo===null?zc=eo=n:eo=eo.next=n),Bc=!0,Jd||(Jd=!0,O1())}function Ol(n,i){if(!em&&Bc){em=!0;do for(var a=!1,l=zc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|n)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l_(l,d))}else d=Le,d=pa(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||vs(l,d)||(a=!0,l_(l,d));l=l.next}while(a);em=!1}}function N1(){s_()}function s_(){Bc=Jd=!1;var n=0;Qs!==0&&(z1()&&(n=Qs),Qs=0);for(var i=Sn(),a=null,l=zc;l!==null;){var h=l.next,d=a_(l,i);d===0?(l.next=null,a===null?zc=h:a.next=h,h===null&&(eo=a)):(a=l,(n!==0||(d&3)!==0)&&(Bc=!0)),l=h}Ol(n)}function a_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Qt(d),T=1<<E,I=h[E];I===-1?((T&a)===0||(T&l)!==0)&&(h[E]=jo(T,i)):I<=i&&(n.expiredLanes|=T),d&=~T}if(i=tt,a=Le,a=pa(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||vs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ds(l),ga(a)){case 2:case 8:a=da;break;case 32:a=ms;break;case 268435456:a=ma;break;default:a=ms}return l=o_.bind(null,n),a=fs(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ds(l),n.callbackPriority=2,n.callbackNode=null,2}function o_(n,i){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(jc()&&n.callbackNode!==a)return null;var l=Le;return l=pa(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Hv(n,l,i),a_(n,Sn()),n.callbackNode!=null&&n.callbackNode===a?o_.bind(null,n):null)}function l_(n,i){if(jc())return null;Hv(n,i,!0)}function O1(){q1(function(){(Ye&6)!==0?fs(Lo,N1):s_()})}function tm(){return Qs===0&&(Qs=zo()),Qs}function u_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ba(""+n)}function c_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function M1(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=u_((h[yt]||null).action),E=l.submitter;E&&(i=(i=E[yt]||null)?u_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new wa("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var I=E?c_(h,E):new FormData(h);Td(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=E?c_(h,E):new FormData(h),Td(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var nm=0;nm<zf.length;nm++){var rm=zf[nm],V1=rm.toLowerCase(),k1=rm[0].toUpperCase()+rm.slice(1);Hn(V1,"on"+k1)}Hn(Hg,"onAnimationEnd"),Hn(Fg,"onAnimationIteration"),Hn(Gg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Zw,"onTransitionRun"),Hn(Jw,"onTransitionStart"),Hn(e1,"onTransitionCancel"),Hn(Yg,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function h_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){Cc(W)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(T=l[E],I=T.instance,F=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){Cc(W)}h.currentTarget=null,d=I}}}}function Oe(n,i){var a=i[Fo];a===void 0&&(a=i[Fo]=new Set);var l=n+"__bubble";a.has(l)||(f_(i,n,2,!1),a.add(l))}function im(n,i,a){var l=0;i&&(l|=4),f_(a,n,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function sm(n){if(!n[qc]){n[qc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(P1.has(a)||im(a,!1,n),im(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,im("selectionchange",!1,i))}}function f_(n,i,a,l){switch(P_(i)){case 2:var h=uS;break;case 8:h=cS;break;default:h=_m}a=h.bind(null,i,a,n),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function am(n,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=Cr(T),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Fu(function(){var F=d,W=In(a),ee=[];e:{var Y=Qg.get(n);if(Y!==void 0){var Q=wa,Te=n;switch(n){case"keypress":if(ar(a)===0)break e;case"keydown":case"keyup":Q=xa;break;case"focusin":Te="focus",Q=Ra;break;case"focusout":Te="blur",Q=Ra;break;case"beforeblur":case"afterblur":Q=Ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Zu;break;case Hg:case Fg:case Gg:Q=Ia;break;case Yg:Q=ec;break;case"scroll":case"scrollend":Q=Gu;break;case"wheel":Q=Da;break;case"copy":case"cut":case"paste":Q=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=rl;break;case"toggle":case"beforetoggle":Q=nc}var ve=(i&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),L=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var V=F,q;V!==null;){var Z=V;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=Rs(V,L),Z!=null&&ve.push(Vl(V,Z,q))),Ze)break;V=V.return}0<ve.length&&(Y=new Q(Y,Te,null,a,W),ee.push({event:Y,listeners:ve}))}}if((i&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",Y&&a!==Or&&(Te=a.relatedTarget||a.fromElement)&&(Cr(Te)||Te[An]))break e;if((Q||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Te=a.relatedTarget||a.toElement,Q=F,Te=Te?Cr(Te):null,Te!==null&&(Ze=u(Te),ve=Te.tag,Te!==Ze||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(Q=null,Te=F),Q!==Te)){if(ve=xn,Z="onMouseLeave",L="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(ve=rl,Z="onPointerLeave",L="onPointerEnter",V="pointer"),Ze=Q==null?Y:nr(Q),q=Te==null?Y:nr(Te),Y=new ve(Z,V+"leave",Q,a,W),Y.target=Ze,Y.relatedTarget=q,Z=null,Cr(W)===F&&(ve=new ve(L,V+"enter",Te,a,W),ve.target=q,ve.relatedTarget=Ze,Z=ve),Ze=Z,Q&&Te)t:{for(ve=Q,L=Te,V=0,q=ve;q;q=to(q))V++;for(q=0,Z=L;Z;Z=to(Z))q++;for(;0<V-q;)ve=to(ve),V--;for(;0<q-V;)L=to(L),q--;for(;V--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=to(ve),L=to(L)}ve=null}else ve=null;Q!==null&&d_(ee,Y,Q,ve,!1),Te!==null&&Ze!==null&&d_(ee,Ze,Te,ve,!0)}}e:{if(Y=F?nr(F):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var fe=Og;else if(Rt(Y))if(Mg)fe=$w;else{fe=Qw;var De=Yw}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&Xo(F.elementType)&&(fe=Og):fe=Kw;if(fe&&(fe=fe(n,F))){Lr(ee,fe,a,W);break e}De&&De(n,Y,F),n==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&vi(Y,"number",Y.value)}switch(De=F?nr(F):window,n){case"focusin":(Rt(De)||De.contentEditable==="true")&&(Na=De,Lf=F,al=null);break;case"focusout":al=Lf=Na=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Bg(ee,a,W);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":Bg(ee,a,W)}var de;if(ur)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?K(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(de=Zo()):(sr=W,_i="value"in sr?sr.value:sr.textContent,ke=!0)),De=Hc(F,_e),0<De.length&&(_e=new tl(_e,n,null,a,W),ee.push({event:_e,listeners:De}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?At(n,a):Pe(n,a))&&(_e=Hc(F,"onBeforeInput"),0<_e.length&&(De=new tl("onBeforeInput","beforeinput",null,a,W),ee.push({event:De,listeners:_e}),De.data=de)),M1(ee,n,F,a,W)}h_(ee,i)})}function Vl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Hc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Rs(n,a),h!=null&&l.unshift(Vl(n,h,d)),h=Rs(n,i),h!=null&&l.push(Vl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function to(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d_(n,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var T=a,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||F===null||(I=F,h?(F=Rs(a,d),F!=null&&E.unshift(Vl(a,F,I))):h||(F=Rs(a,d),F!=null&&E.push(Vl(a,F,I)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var L1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function m_(n){return(typeof n=="string"?n:""+n).replace(L1,`
`).replace(U1,"")}function p_(n,i){return i=m_(i),m_(n)===i}function Fc(){}function We(n,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(n,""+l);break;case"className":rr(n,"class",l);break;case"tabIndex":rr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(n,a,l);break;case"style":$o(n,l,d);break;case"data":if(i!=="object"){rr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ba(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",h.name,h,null),We(n,i,"formEncType",h.formEncType,h,null),We(n,i,"formMethod",h.formMethod,h,null),We(n,i,"formTarget",h.formTarget,h,null)):(We(n,i,"encType",h.encType,h,null),We(n,i,"method",h.method,h,null),We(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ba(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ba(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),yi(n,"popover",l);break;case"xlinkActuate":jt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Df.get(a)||a,yi(n,a,l))}}function om(n,i,a,l,h,d){switch(a){case"style":$o(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):yi(n,a,l)}}}function Ht(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,d,E,a,null)}}h&&We(n,i,"srcSet",a.srcSet,a,null),l&&We(n,i,"src",a.src,a,null);return;case"input":Oe("invalid",n);var T=d=E=h=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":E=W;break;case"checked":I=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:We(n,i,l,W,a,null)}}ws(n,d,T,I,F,E,h,!1),Ta(n);return;case"select":Oe("invalid",n),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(n,i,h,T,a,null)}i=d,a=E,n.multiple=!!l,i!=null?Nr(n,!!l,i,!1):a!=null&&Nr(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,i,E,T,a,null)}Ss(n,l,h,d),Ta(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,i,I,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Oe(Ml[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,F,l,a,null)}return;default:if(Xo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&om(n,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,i,T,l,a,null))}function j1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,I=null,F=null,W=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Q)||We(n,i,Q,null,l,ee)}}for(var Y in l){var Q=l[Y];if(ee=a[Y],l.hasOwnProperty(Y)&&(Q!=null||ee!=null))switch(Y){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":W=Q;break;case"value":E=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&We(n,i,Y,Q,l,ee)}}mn(n,E,T,I,F,W,d,h);return;case"select":Q=E=T=Y=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||We(n,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==I&&We(n,i,h,d,l,I)}i=T,a=E,l=Q,Y!=null?Nr(n,!!a,Y,!1):!!l!=!!a&&(i!=null?Nr(n,!!a,i,!0):Nr(n,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,i,T,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(n,i,E,h,l,d)}$e(n,Y,Q);return;case"option":for(var Te in a)if(Y=a[Te],a.hasOwnProperty(Te)&&Y!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:We(n,i,Te,null,l,Y)}for(I in l)if(Y=l[I],Q=a[I],l.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(n,i,I,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!l.hasOwnProperty(ve)&&We(n,i,ve,null,l,Y);for(F in l)if(Y=l[F],Q=a[F],l.hasOwnProperty(F)&&Y!==Q&&(Y!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:We(n,i,F,Y,l,Q)}return;default:if(Xo(i)){for(var Ze in a)Y=a[Ze],a.hasOwnProperty(Ze)&&Y!==void 0&&!l.hasOwnProperty(Ze)&&om(n,i,Ze,void 0,l,Y);for(W in l)Y=l[W],Q=a[W],!l.hasOwnProperty(W)||Y===Q||Y===void 0&&Q===void 0||om(n,i,W,Y,l,Q);return}}for(var L in a)Y=a[L],a.hasOwnProperty(L)&&Y!=null&&!l.hasOwnProperty(L)&&We(n,i,L,null,l,Y);for(ee in l)Y=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||Y===Q||Y==null&&Q==null||We(n,i,ee,Y,l,Q)}var lm=null,um=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function g_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function cm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hm=null;function z1(){var n=window.event;return n&&n.type==="popstate"?n===hm?!1:(hm=n,!0):(hm=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(n){return __.resolve(null).then(n).catch(H1)}:v_;function H1(n){setTimeout(function(){throw n})}function ki(n){return n==="head"}function E_(n,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&kl(E.documentElement),a&2&&kl(E.body),a&4)for(a=E.head,kl(a),E=a.firstChild;E;){var T=E.nextSibling,I=E.nodeName;E[_s]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(h===0){n.removeChild(d),Hl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Hl(i)}function fm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function F1(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_s])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function G1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Gn(n.nextSibling),n===null))return null;return n}function dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Y1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var mm=null;function T_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function b_(n,i,a){switch(i=Gc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function kl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);gi(n)}var Pn=new Map,w_=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xr=ae.d;ae.d={f:Q1,r:K1,D:$1,C:X1,L:W1,m:Z1,X:eS,S:J1,M:tS};function Q1(){var n=Xr.f(),i=Lc();return n||i}function K1(n){var i=tr(n);i!==null&&i.tag===5&&i.type==="form"?Hy(i):Xr.r(n)}var no=typeof document>"u"?null:document;function S_(n,i,a){var l=no;if(l&&typeof i=="string"&&i){var h=vt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),w_.has(h)||(w_.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",n),dt(i),l.head.appendChild(i)))}}function $1(n){Xr.D(n),S_("dns-prefetch",n,null)}function X1(n,i){Xr.C(n,i),S_("preconnect",n,i)}function W1(n,i,a){Xr.L(n,i,a);var l=no;if(l&&n&&i){var h='link[rel="preload"][as="'+vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(n)+'"]';var d=h;switch(i){case"style":d=ro(n);break;case"script":d=io(n)}Pn.has(d)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Pn.set(d,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(Ll(d))||(i=l.createElement("link"),Ht(i,"link",n),dt(i),l.head.appendChild(i)))}}function Z1(n,i){Xr.m(n,i);var a=no;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(n)}if(!Pn.has(d)&&(n=_({rel:"modulepreload",href:n},i),Pn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(d)))return}l=a.createElement("link"),Ht(l,"link",n),dt(l),a.head.appendChild(l)}}}function J1(n,i,a){Xr.S(n,i,a);var l=no;if(l&&n){var h=en(l).hoistableStyles,d=ro(n);i=i||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Pl(d)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Pn.get(d))&&pm(n,a);var I=E=l.createElement("link");dt(I),Ht(I,"link",n),I._p=new Promise(function(F,W){I.onload=F,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function eS(n,i){Xr.X(n,i);var a=no;if(a&&n){var l=en(a).hoistableScripts,h=io(n),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(n=_({src:n,async:!0},i),(i=Pn.get(h))&&gm(n,i),d=a.createElement("script"),dt(d),Ht(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tS(n,i){Xr.M(n,i);var a=no;if(a&&n){var l=en(a).hoistableScripts,h=io(n),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(n=_({src:n,async:!0,type:"module"},i),(i=Pn.get(h))&&gm(n,i),d=a.createElement("script"),dt(d),Ht(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A_(n,i,a,l){var h=(h=we.current)?Yc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ro(a.href);var d=en(h).hoistableStyles,E=d.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=h.querySelector(Pl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Pn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(n,a),d||nS(h,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ro(n){return'href="'+vt(n)+'"'}function Pl(n){return'link[rel="stylesheet"]['+n+"]"}function R_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function nS(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),dt(i),n.head.appendChild(i))}function io(n){return'[src="'+vt(n)+'"]'}function Ll(n){return"script[async]"+n}function I_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),Ht(l,"style",h),Qc(l,a.precedence,n),i.instance=l;case"stylesheet":h=ro(a.href);var d=n.querySelector(Pl(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=R_(a),(h=Pn.get(h))&&pm(l,h),d=(n.ownerDocument||n).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),Ht(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,n),i.instance=d;case"script":return d=io(a.src),(h=n.querySelector(Ll(d)))?(i.instance=h,dt(h),h):(l=a,(h=Pn.get(d))&&(l=_({},a),gm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),dt(h),Ht(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,n));return i.instance}function Qc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function pm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function gm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Kc=null;function C_(n,i,a){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(a,l)}else h=Kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[St]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function x_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function rS(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ul=null;function iS(){}function sS(n,i,a){if(Ul===null)throw Error(s(475));var l=Ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ro(a.href),d=n.querySelector(Pl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=$c.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=n.ownerDocument||n,a=R_(a),(h=Pn.get(h))&&pm(a,h),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),Ht(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=$c.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function aS(){if(Ul===null)throw Error(s(475));var n=Ul;return n.stylesheets&&n.count===0&&ym(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&ym(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function ym(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,i.forEach(oS,n),Xc=null,$c.call(n))}function oS(n,i){if(!(i.state.loading&4)){var a=Xc.get(n);if(a)var l=a.get(null);else{a=new Map,Xc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var jl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function lS(n,i,a,l,h,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function N_(n,i,a,l,h,d,E,T,I,F,W,ee){return n=new lS(n,i,a,E,T,I,F,ee),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),n.current=d,d.stateNode=n,i=Zf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},nd(d),n}function O_(n){return n?(n=ka,n):ka}function M_(n,i,a,l,h,d){h=O_(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wi(n,l,i),a!==null&&(Tn(a,n,i),pl(a,n,i))}function V_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function vm(n,i){V_(n,i),(n=n.alternate)&&V_(n,i)}function k_(n){if(n.tag===13){var i=Va(n,67108864);i!==null&&Tn(i,n,67108864),vm(n,67108864)}}var Wc=!0;function uS(n,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=2,_m(n,i,a,l)}finally{ae.p=d,X.T=h}}function cS(n,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=8,_m(n,i,a,l)}finally{ae.p=d,X.T=h}}function _m(n,i,a,l){if(Wc){var h=Em(l);if(h===null)am(n,i,l,Zc,a),L_(n,l);else if(fS(h,n,i,a,l))l.stopPropagation();else if(L_(n,l),i&4&&-1<hS.indexOf(n)){for(;h!==null;){var d=tr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=zn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var I=1<<31-Qt(E);T.entanglements[1]|=I,E&=~I}pr(d),(Ye&6)===0&&(kc=Sn()+500,Ol(0))}}break;case 13:T=Va(d,2),T!==null&&Tn(T,d,2),Lc(),vm(d,2)}if(d=Em(l),d===null&&am(n,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else am(n,i,l,null,a)}}function Em(n){return n=In(n),Tm(n)}var Zc=null;function Tm(n){if(Zc=null,n=Cr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function P_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sf()){case Lo:return 2;case da:return 8;case ms:case Af:return 32;case ma:return 268435456;default:return 32}default:return 32}}var bm=!1,Pi=null,Li=null,Ui=null,zl=new Map,Bl=new Map,ji=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(n,i){switch(n){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(n,i,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=tr(i),i!==null&&k_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function fS(n,i,a,l,h){switch(i){case"focusin":return Pi=ql(Pi,n,i,a,l,h),!0;case"dragenter":return Li=ql(Li,n,i,a,l,h),!0;case"mouseover":return Ui=ql(Ui,n,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,ql(zl.get(d)||null,n,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Bl.set(d,ql(Bl.get(d)||null,n,i,a,l,h)),!0}return!1}function U_(n){var i=Cr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,Lu(n.priority,function(){if(a.tag===13){var l=En();l=di(l);var h=Va(a,l);h!==null&&Tn(h,a,l),vm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Em(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Or=l,a.target.dispatchEvent(l),Or=null}else return i=tr(a),i!==null&&k_(i),n.blockedOn=a,!1;i.shift()}return!0}function j_(n,i,a){Jc(n)&&a.delete(i)}function dS(){bm=!1,Pi!==null&&Jc(Pi)&&(Pi=null),Li!==null&&Jc(Li)&&(Li=null),Ui!==null&&Jc(Ui)&&(Ui=null),zl.forEach(j_),Bl.forEach(j_)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,bm||(bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dS)))}var th=null;function z_(n){th!==n&&(th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var d=tr(a);d!==null&&(n.splice(i,3),i-=3,Td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Hl(n){function i(I){return eh(I,n)}Pi!==null&&eh(Pi,n),Li!==null&&eh(Li,n),Ui!==null&&eh(Ui,n),zl.forEach(i),Bl.forEach(i);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)U_(a),a.blockedOn===null&&ji.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[yt]||null;if(typeof d=="function")E||z_(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[yt]||null)T=E.formAction;else if(Tm(h)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),z_(a)}}}function wm(n){this._internalRoot=n}nh.prototype.render=wm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();M_(a,l,n,i,null,null)},nh.prototype.unmount=wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;M_(n.current,2,null,n,null,null),Lc(),i[An]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=mi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ji.length&&i!==0&&i<ji[a].priority;a++);ji.splice(a,0,n),a===0&&U_(n)}};var B_=e.version;if(B_!=="19.1.0")throw Error(s(527,B_,"19.1.0"));ae.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var mS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ut=rh.inject(mS),Ge=rh}catch{}}return Gl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=rv,d=iv,E=sv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=N_(n,1,!1,null,null,a,l,h,d,E,T,null),n[An]=i.current,sm(n),new wm(i)},Gl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=rv,E=iv,T=sv,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=N_(n,1,!0,i,a??null,l,h,d,E,T,I,F),i.context=O_(null),a=i.current,l=En(),l=di(l),h=bi(l),h.callback=null,wi(a,h,l),a=l,i.current.lanes=a,Ir(i,a),pr(i),n[An]=i.current,sm(n),new nh(i)},Gl.version="19.1.0",Gl}var W_;function AS(){if(W_)return Rm.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=SS(),Rm.exports}var RS=AS();const IS=GE(RS);var Yl={},Z_;function CS(){if(Z_)return Yl;Z_=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.parse=f,Yl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,x){const D=new u,j=b.length;if(j<2)return D;const G=(x==null?void 0:x.decode)||_;let H=0;do{const $=b.indexOf("=",H);if($===-1)break;const ne=b.indexOf(";",H),ce=ne===-1?j:ne;if($>ce){H=b.lastIndexOf(";",$-1)+1;continue}const he=m(b,H,$),me=p(b,$,he),k=b.slice(he,me);if(D[k]===void 0){let A=m(b,$+1,ce),R=p(b,ce,A);const O=G(b.slice(A,R));D[k]=O}H=ce+1}while(H<j);return D}function m(b,x,D){do{const j=b.charCodeAt(x);if(j!==32&&j!==9)return x}while(++x<D);return D}function p(b,x,D){for(;x>D;){const j=b.charCodeAt(--x);if(j!==32&&j!==9)return x+1}return D}function g(b,x,D){const j=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const G=j(x);if(!e.test(G))throw new TypeError(`argument val is invalid: ${x}`);let H=b+"="+G;if(!D)return H;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);H+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);H+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);H+="; Path="+D.path}if(D.expires){if(!w(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);H+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(H+="; HttpOnly"),D.secure&&(H+="; Secure"),D.partitioned&&(H+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return H}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return Yl}CS();var J_="popstate";function xS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:uu(u))}function s(o,u){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return NS(e,t,s,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Un(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DS(){return Math.random().toString(36).substring(2,10)}function e0(r,e){return{usr:r.state,key:r.key,idx:e}}function Gm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:t,key:e&&e.key||s||DS()}}function uu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function oa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function NS(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=_();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function _(){return(f.state||{idx:null}).idx}function w(){m="POP";let G=_(),H=G==null?null:G-g;g=G,p&&p({action:m,location:j.location,delta:H})}function b(G,H){m="PUSH";let $=Gm(j.location,G,H);t&&t($,G),g=_()+1;let ne=e0($,g),ce=j.createHref($);try{f.pushState(ne,"",ce)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ce)}u&&p&&p({action:m,location:j.location,delta:1})}function x(G,H){m="REPLACE";let $=Gm(j.location,G,H);t&&t($,G),g=_();let ne=e0($,g),ce=j.createHref($);f.replaceState(ne,"",ce),u&&p&&p({action:m,location:j.location,delta:0})}function D(G){return OS(G)}let j={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(J_,w),p=G,()=>{o.removeEventListener(J_,w),p=null}},createHref(G){return e(o,G)},createURL:D,encodeLocation(G){let H=D(G);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:b,replace:x,go(G){return f.go(G)}};return j}function OS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function YE(r,e,t="/"){return MS(r,e,t,!1)}function MS(r,e,t,s){let o=typeof e=="string"?oa(e):e,u=ii(o.pathname||"/",t);if(u==null)return null;let f=QE(r);VS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=GS(u);m=HS(f[p],g,s)}return m}function QE(r,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ti([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),QE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:BS(g,u.index),routesMeta:_})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of KE(u.path))o(u,f,p)}),e}function KE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=KE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function VS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:qS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var kS=/^:[\w-]+$/,PS=3,LS=2,US=1,jS=10,zS=-2,t0=r=>r==="*";function BS(r,e){let t=r.split("/"),s=t.length;return t.some(t0)&&(s+=zS),e&&(s+=LS),t.filter(o=>!t0(o)).reduce((o,u)=>o+(kS.test(u)?PS:u===""?US:jS),s)}function qS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function HS(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ti([u,w.pathname]),pathnameBase:$S(ti([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=ti([u,w.pathnameBase]))}return f}function Ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=FS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},b)=>{if(_==="*"){let D=m[b]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const x=m[b];return w&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function FS(r,e=!1,t=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function GS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ii(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function YS(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?oa(r):r;return{pathname:t?t.startsWith("/")?t:QS(t,e):e,search:XS(s),hash:WS(o)}}function QS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wp(r){let e=KS(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Sp(r,e,t,s=!1){let o;typeof r=="string"?o=oa(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let w=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=YS(o,m),g=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ti=r=>r.join("/").replace(/\/\/+/g,"/"),$S=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),XS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,WS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ZS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var JS=["GET",...$E];new Set(JS);var Ao=z.createContext(null);Ao.displayName="DataRouter";var Qh=z.createContext(null);Qh.displayName="DataRouterState";var XE=z.createContext({isTransitioning:!1});XE.displayName="ViewTransition";var eA=z.createContext(new Map);eA.displayName="Fetchers";var tA=z.createContext(null);tA.displayName="Await";var Wn=z.createContext(null);Wn.displayName="Navigation";var Eu=z.createContext(null);Eu.displayName="Location";var Zn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Ap=z.createContext(null);Ap.displayName="RouteError";function nA(r,{relative:e}={}){st(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(Wn),{hash:o,pathname:u,search:f}=bu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ti([t,u])),s.createHref({pathname:m,search:f,hash:o})}function Ro(){return z.useContext(Eu)!=null}function as(){return st(Ro(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Eu).location}var WE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(r){z.useContext(Wn).static||z.useLayoutEffect(r)}function Tu(){let{isDataRoute:r}=z.useContext(Zn);return r?gA():rA()}function rA(){st(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Ao),{basename:e,navigator:t}=z.useContext(Wn),{matches:s}=z.useContext(Zn),{pathname:o}=as(),u=JSON.stringify(wp(s)),f=z.useRef(!1);return ZE(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Un(f.current,WE),!f.current)return;if(typeof p=="number"){t.go(p);return}let _=Sp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ti([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}z.createContext(null);function iA(){let{matches:r}=z.useContext(Zn),e=r[r.length-1];return e?e.params:{}}function bu(r,{relative:e}={}){let{matches:t}=z.useContext(Zn),{pathname:s}=as(),o=JSON.stringify(wp(t));return z.useMemo(()=>Sp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function sA(r,e){return JE(r,e)}function JE(r,e,t,s){var H;st(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Wn),{matches:u}=z.useContext(Zn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",_=f&&f.route;{let $=_&&_.path||"";eT(p,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=as(),b;if(e){let $=typeof e=="string"?oa(e):e;st(g==="/"||((H=$.pathname)==null?void 0:H.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),b=$}else b=w;let x=b.pathname||"/",D=x;if(g!=="/"){let $=g.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice($.length).join("/")}let j=YE(r,{pathname:D});Un(_||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Un(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=cA(j&&j.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:ti([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:ti([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,t,s);return e&&G?z.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},G):G}function aA(){let r=pA(),e=ZS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,f)}var oA=z.createElement(aA,null),lA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Zn.Provider,{value:this.props.routeContext},z.createElement(Ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uA({routeContext:r,match:e,children:t}){let s=z.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Zn.Provider,{value:r},t)}function cA(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:w}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let w,b=!1,x=null,D=null;t&&(w=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||oA,f&&(m<0&&_===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):m===_&&(b=!0,D=g.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,_+1)),G=()=>{let H;return w?H=x:b?H=D:g.route.Component?H=z.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,z.createElement(uA,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?z.createElement(lA,{location:t.location,revalidation:t.revalidation,component:x,error:w,children:G(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):G()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hA(r){let e=z.useContext(Ao);return st(e,Rp(r)),e}function fA(r){let e=z.useContext(Qh);return st(e,Rp(r)),e}function dA(r){let e=z.useContext(Zn);return st(e,Rp(r)),e}function Ip(r){let e=dA(r),t=e.matches[e.matches.length-1];return st(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function mA(){return Ip("useRouteId")}function pA(){var s;let r=z.useContext(Ap),e=fA("useRouteError"),t=Ip("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function gA(){let{router:r}=hA("useNavigate"),e=Ip("useNavigate"),t=z.useRef(!1);return ZE(()=>{t.current=!0}),z.useCallback(async(o,u={})=>{Un(t.current,WE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var n0={};function eT(r,e,t){!e&&!n0[r]&&(n0[r]=!0,Un(!1,t))}z.memo(yA);function yA({routes:r,future:e,state:t}){return JE(r,void 0,t,e)}function tT({to:r,replace:e,state:t,relative:s}){st(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Wn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Zn),{pathname:f}=as(),m=Tu(),p=Sp(r,wp(u),f,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Wl(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vA({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){st(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=oa(t));let{pathname:p="/",search:g="",hash:_="",state:w=null,key:b="default"}=t,x=z.useMemo(()=>{let D=ii(p,f);return D==null?null:{location:{pathname:D,search:g,hash:_,state:w,key:b},navigationType:s}},[f,p,g,_,w,b,s]);return Un(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:z.createElement(Wn.Provider,{value:m},z.createElement(Eu.Provider,{children:e,value:x}))}function _A({children:r,location:e}){return sA(Ym(r),e)}function Ym(r,e=[]){let t=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){t.push.apply(t,Ym(s.props.children,u));return}st(s.type===Wl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ym(s.props.children,u)),t.push(f)}),t}var fh="get",dh="application/x-www-form-urlencoded";function Kh(r){return r!=null&&typeof r.tagName=="string"}function EA(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function TA(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function bA(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function wA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function SA(r,e){return r.button===0&&(!e||e==="_self")&&!wA(r)}var ih=null;function AA(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var RA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!RA.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function IA(r,e){let t,s,o,u,f;if(TA(r)){let m=r.getAttribute("action");s=m?ii(m,e):null,t=r.getAttribute("method")||fh,o=Nm(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(EA(r)||bA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ii(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Nm(r.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!AA()){let{name:g,type:_,value:w}=r;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,w)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,s=null,o=dh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function Cp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function CA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DA(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await CA(u,t);return f.links?f.links():[]}return[]}));return VA(s.flat(1).filter(xA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function r0(r,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function NA(r,e,{includeHydrateFallback:t}={}){return OA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function OA(r){return[...new Set(r)]}function MA(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function VA(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(MA(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kA=new Set([100,101,204,205]);function PA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ii(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nT(){let r=z.useContext(Ao);return Cp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function LA(){let r=z.useContext(Qh);return Cp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xp=z.createContext(void 0);xp.displayName="FrameworkContext";function rT(){let r=z.useContext(xp);return Cp(r,"You must render this element inside a <HydratedRouter> element"),r}function UA(r,e){let t=z.useContext(xp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,b=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let j=H=>{H.forEach($=>{f($.isIntersecting)})},G=new IntersectionObserver(j,{threshold:.5});return b.current&&G.observe(b.current),()=>{G.disconnect()}}},[r]),z.useEffect(()=>{if(s){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[s]);let x=()=>{o(!0)},D=()=>{o(!1),f(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ql(m,x),onBlur:Ql(p,D),onMouseEnter:Ql(g,x),onMouseLeave:Ql(_,D),onTouchStart:Ql(w,x)}]:[!1,b,{}]}function Ql(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function jA({page:r,...e}){let{router:t}=nT(),s=z.useMemo(()=>YE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?z.createElement(BA,{page:r,matches:s,...e}):null}function zA(r){let{manifest:e,routeModules:t}=rT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return DA(r,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,t]),s}function BA({page:r,matches:e,...t}){let s=as(),{manifest:o,routeModules:u}=rT(),{basename:f}=nT(),{loaderData:m,matches:p}=LA(),g=z.useMemo(()=>r0(r,e,p,o,s,"data"),[r,e,p,o,s]),_=z.useMemo(()=>r0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,j=!1;if(e.forEach(H=>{var ne;let $=o.routes[H.route.id];!$||!$.hasLoader||(!g.some(ce=>ce.route.id===H.route.id)&&H.route.id in m&&((ne=u[H.route.id])!=null&&ne.shouldRevalidate)||$.hasClientLoader?j=!0:D.add(H.route.id))}),D.size===0)return[];let G=PA(r,f);return j&&D.size>0&&G.searchParams.set("_routes",e.filter(H=>D.has(H.route.id)).map(H=>H.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,g,e,r,u]),b=z.useMemo(()=>NA(_,o),[_,o]),x=zA(_);return z.createElement(z.Fragment,null,w.map(D=>z.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),b.map(D=>z.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),x.map(({key:D,link:j})=>z.createElement("link",{key:D,...j})))}function qA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iT&&(window.__reactRouterVersion="7.6.3")}catch{}function HA({basename:r,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=xS({window:t,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(vA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:_,viewTransition:w,...b},x){let{basename:D}=z.useContext(Wn),j=typeof g=="string"&&sT.test(g),G,H=!1;if(typeof g=="string"&&j&&(G=g,iT))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ii(O.pathname,D);O.origin===R.origin&&P!=null?g=P+O.search+O.hash:H=!0}catch{Un(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=nA(g,{relative:o}),[ne,ce,he]=UA(s,b),me=QA(g,{replace:f,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:w});function k(R){e&&e(R),R.defaultPrevented||me(R)}let A=z.createElement("a",{...b,...he,href:G||$,onClick:H||u?e:k,ref:qA(x,ce),target:p,"data-discover":!j&&t==="render"?"true":void 0});return ne&&!j?z.createElement(z.Fragment,null,A,z.createElement(jA,{page:$})):A});$h.displayName="Link";var FA=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},_){let w=bu(f,{relative:g.relative}),b=as(),x=z.useContext(Qh),{navigator:D,basename:j}=z.useContext(Wn),G=x!=null&&ZA(w)&&m===!0,H=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,$=b.pathname,ne=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||($=$.toLowerCase(),ne=ne?ne.toLowerCase():null,H=H.toLowerCase()),ne&&j&&(ne=ii(ne,j)||ne);const ce=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let he=$===H||!o&&$.startsWith(H)&&$.charAt(ce)==="/",me=ne!=null&&(ne===H||!o&&ne.startsWith(H)&&ne.charAt(H.length)==="/"),k={isActive:he,isPending:me,isTransitioning:G},A=he?e:void 0,R;typeof s=="function"?R=s(k):R=[s,he?"active":null,me?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(k):u;return z.createElement($h,{...g,"aria-current":A,className:R,ref:_,style:O,to:f,viewTransition:m},typeof p=="function"?p(k):p)});FA.displayName="NavLink";var GA=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:w,...b},x)=>{let D=XA(),j=WA(m,{relative:g}),G=f.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&sT.test(m),$=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ce=ne.nativeEvent.submitter,he=(ce==null?void 0:ce.getAttribute("formmethod"))||f;D(ce||ne.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:w})};return z.createElement("form",{ref:x,method:G,action:j,onSubmit:s?p:$,...b,"data-discover":!H&&r==="render"?"true":void 0})});GA.displayName="Form";function YA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(r){let e=z.useContext(Ao);return st(e,YA(r)),e}function QA(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Tu(),p=as(),g=bu(r,{relative:u});return z.useCallback(_=>{if(SA(_,e)){_.preventDefault();let w=t!==void 0?t:uu(p)===uu(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,r,o,u,f])}var KA=0,$A=()=>`__${String(++KA)}__`;function XA(){let{router:r}=aT("useSubmit"),{basename:e}=z.useContext(Wn),t=mA();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=IA(s,e);if(o.navigate===!1){let _=o.fetcherKey||$A();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function WA(r,{relative:e}={}){let{basename:t}=z.useContext(Wn),s=z.useContext(Zn);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},f=as();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ti([t,u.pathname])),uu(u)}function ZA(r,e={}){let t=z.useContext(XE);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aT("useViewTransitionState"),o=bu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ii(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=ii(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}[...kA];const JA=()=>{};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},eR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],f=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,w=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,x=g&63;p||(x=64,f||(b=64)),s.push(t[_],t[w],t[b],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(oT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):eR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new tR;const b=u<<2|m>>4;if(s.push(b),g!==64){const x=m<<4&240|g>>2;if(s.push(x),w!==64){const D=g<<6&192|w;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nR=function(r){const e=oT(r);return lT.encodeByteArray(e,!0)},Rh=function(r){return nR(r).replace(/\./g,"")},uT=function(r){try{return lT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>rR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof i0>"u")return;const r=i0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uT(r[1]);return e&&JSON.parse(e)},Xh=()=>{try{return JA()||iR()||sR()||aR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cT=r=>{var e,t;return(t=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},oR=r=>{const e=cT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},hT=()=>{var r;return(r=Xh())===null||r===void 0?void 0:r.config},fT=r=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(f)),""].join(".")}const nu={};function cR(){const r={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?r.emulator.push(e):r.prod.push(e);return r}function hR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let s0=!1;function mT(r,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||nu[r]===e||nu[r]||s0)return;nu[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=cR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{s0=!0,f()},b}function _(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=hR(s),x=t("text"),D=document.getElementById(x)||document.createElement("span"),j=t("learnmore"),G=document.getElementById(j)||document.createElement("a"),H=t("preprendIcon"),$=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ne=b.element;m(ne),_(G,j);const ce=g();p($,H),ne.append($,D,G,ce),document.body.appendChild(ne)}u?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function dR(){var r;const e=(r=Xh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vR(){return!dR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _R(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class hi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=TR,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?bR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hi(o,m,s)}}function bR(r,e){return r.replace(wR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wR=/\{\$([^}]+)}/g;function SR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function si(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(a0(u)&&a0(f)){if(!si(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function a0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function AR(r,e){const t=new RR(r,e);return t.subscribe.bind(t)}class RR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new lR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DR(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xR(r){return r===Ks?void 0:r}function DR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const OR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},MR=Me.INFO,VR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},kR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=VR[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=MR,this._logHandler=kR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const PR=(r,e)=>e.some(t=>r instanceof t);let o0,l0;function LR(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Qm=new WeakMap,gT=new WeakMap,Mm=new WeakMap,Np=new WeakMap;function jR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(Ki(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&pT.set(t,r)}).catch(()=>{}),Np.set(e,r),e}function zR(r){if(Qm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Qm.set(r,e)}let Km={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||gT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function BR(r){Km=r(Km)}function qR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Vm(this),e,...t);return gT.set(s,e.sort?e.sort():[e]),Ki(s)}:UR().includes(r)?function(...e){return r.apply(Vm(this),e),Ki(pT.get(this))}:function(...e){return Ki(r.apply(Vm(this),e))}}function HR(r){return typeof r=="function"?qR(r):(r instanceof IDBTransaction&&zR(r),PR(r,LR())?new Proxy(r,Km):r)}function Ki(r){if(r instanceof IDBRequest)return jR(r);if(Mm.has(r))return Mm.get(r);const e=HR(r);return e!==r&&(Mm.set(r,e),Np.set(e,r)),e}const Vm=r=>Np.get(r);function FR(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Ki(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ki(f.result),p.oldVersion,p.newVersion,Ki(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const GR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],km=new Map;function u0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GR.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return km.set(e,u),u}BR(r=>({...r,get:(e,t,s)=>u0(e,t)||r.get(e,t,s),has:(e,t)=>!!u0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function KR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",c0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Dp("@firebase/app"),$R="@firebase/app-compat",XR="@firebase/analytics-compat",WR="@firebase/analytics",ZR="@firebase/app-check-compat",JR="@firebase/app-check",eI="@firebase/auth",tI="@firebase/auth-compat",nI="@firebase/database",rI="@firebase/data-connect",iI="@firebase/database-compat",sI="@firebase/functions",aI="@firebase/functions-compat",oI="@firebase/installations",lI="@firebase/installations-compat",uI="@firebase/messaging",cI="@firebase/messaging-compat",hI="@firebase/performance",fI="@firebase/performance-compat",dI="@firebase/remote-config",mI="@firebase/remote-config-compat",pI="@firebase/storage",gI="@firebase/storage-compat",yI="@firebase/firestore",vI="@firebase/ai",_I="@firebase/firestore-compat",EI="firebase",TI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",bI={[$m]:"fire-core",[$R]:"fire-core-compat",[WR]:"fire-analytics",[XR]:"fire-analytics-compat",[JR]:"fire-app-check",[ZR]:"fire-app-check-compat",[eI]:"fire-auth",[tI]:"fire-auth-compat",[nI]:"fire-rtdb",[rI]:"fire-data-connect",[iI]:"fire-rtdb-compat",[sI]:"fire-fn",[aI]:"fire-fn-compat",[oI]:"fire-iid",[lI]:"fire-iid-compat",[uI]:"fire-fcm",[cI]:"fire-fcm-compat",[hI]:"fire-perf",[fI]:"fire-perf-compat",[dI]:"fire-rc",[mI]:"fire-rc-compat",[pI]:"fire-gcs",[gI]:"fire-gcs-compat",[yI]:"fire-fst",[_I]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[EI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,wI=new Map,Wm=new Map;function h0(r,e){try{r.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function go(r){const e=r.name;if(Wm.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,r);for(const t of Ih.values())h0(t,r);for(const t of wI.values())h0(t,r);return!0}function Op(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new wu("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=TI;function yT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(t||(t=hT()),!t)throw $i.create("no-options");const u=Ih.get(o);if(u){if(si(t,u.options)&&si(s,u.config))return u;throw $i.create("duplicate-app",{appName:o})}const f=new NR(o);for(const p of Wm.values())f.addComponent(p);const m=new AI(t,s,f);return Ih.set(o,m),m}function vT(r=Xm){const e=Ih.get(r);if(!e&&r===Xm&&hT())return yT();if(!e)throw $i.create("no-app",{appName:r});return e}function Js(r,e,t){var s;let o=(s=bI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(m.join(" "));return}go(new ra(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebase-heartbeat-database",II=1,cu="firebase-heartbeat-store";let Pm=null;function _T(){return Pm||(Pm=FR(RI,II,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(r=>{throw $i.create("idb-open",{originalErrorMessage:r.message})})),Pm}async function CI(r){try{const t=(await _T()).transaction(cu),s=await t.objectStore(cu).get(ET(r));return await t.done,s}catch(e){if(e instanceof hi)ai.warn(e.message);else{const t=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(t.message)}}}async function f0(r,e){try{const s=(await _T()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,ET(r)),await s.done}catch(t){if(t instanceof hi)ai.warn(t.message);else{const s=$i.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ai.warn(s.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1024,DI=30;class NI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=d0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DI){const f=VI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ai.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d0(),{heartbeatsToSend:s,unsentEntries:o}=OI(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ai.warn(t),""}}}function d0(){return new Date().toISOString().substring(0,10)}function OI(r,e=xI){const t=[];let s=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),m0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),m0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _R()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return f0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return f0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function m0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function VI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r){go(new ra("platform-logger",e=>new QR(e),"PRIVATE")),go(new ra("heartbeat",e=>new NI(e),"PRIVATE")),Js($m,c0,r),Js($m,c0,"esm2017"),Js("fire-js","")}kI("");function Mp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PI=TT,bT=new wu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Dp("@firebase/auth");function LI(r,...e){Ch.logLevel<=Me.WARN&&Ch.warn(`Auth (${Co}): ${r}`,...e)}function mh(r,...e){Ch.logLevel<=Me.ERROR&&Ch.error(`Auth (${Co}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,...e){throw kp(r,...e)}function Kn(r,...e){return kp(r,...e)}function Vp(r,e,t){const s=Object.assign(Object.assign({},PI()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function ea(r){return Vp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&wr(r,"argument-error"),Vp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return bT.create(r,...e)}function be(r,e,...t){if(!r)throw kp(e,...t)}function Jr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function oi(r,e){r||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function jI(){return p0()==="http:"||p0()==="https:"}function p0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jI()||pR()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=fR()||gR()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){oi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FI=new Au(3e4,6e4);function Lp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function xo(r,e,t,s,o={}){return ST(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Su(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return mR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Io(r.emulatorConfig.host)&&(g.credentials="include"),wT.fetch()(await AT(r,r.config.apiHost,t,m),g)})}async function ST(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},qI),e);try{const o=new YI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw sh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw sh(r,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Vp(r,_,g);wr(r,_)}}catch(o){if(o instanceof hi)throw o;wr(r,"network-request-failed",{message:String(o)})}}async function GI(r,e,t,s,o={}){const u=await xo(r,e,t,s,o);return"mfaPendingCredential"in u&&wr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function AT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,f=u.config.emulator?Pp(r.config,o):`${r.config.apiScheme}://${o}`;return HI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class YI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Kn(this.auth,"network-request-failed")),FI.get())})}}function sh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Kn(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e){return xo(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return xo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KI(r,e=!1){const t=Lt(r),s=await t.getIdToken(e),o=Up(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ru(Lm(o.auth_time)),issuedAtTime:ru(Lm(o.iat)),expirationTime:ru(Lm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Lm(r){return Number(r)*1e3}function Up(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function g0(r){const e=Up(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof hi&&$I(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $I({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await hu(r,xh(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?RT(u.providerUserInfo):[],m=ZI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Jm(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function WI(r){const e=Lt(r);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function RT(r){return r.map(e=>{var{providerId:t}=e,s=Mp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e){const t=await ST(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await AT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Io(r.emulatorConfig.host)&&(p.credentials="include"),wT.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eC(r,e){return xo(r,"POST","/v2/accounts:revokeToken",Lp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=g0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await JI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new co;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await hu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KI(this,e)}reload(){return WI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await hu(this,QI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,_;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=t.photoURL)!==null&&f!==void 0?f:void 0,j=(m=t.tenantId)!==null&&m!==void 0?m:void 0,G=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,$=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ne,emailVerified:ce,isAnonymous:he,providerData:me,stsTokenManager:k}=t;be(ne&&k,e,"internal-error");const A=co.fromJSON(this.name,k);be(typeof ne=="string",e,"internal-error"),Bi(w,e.name),Bi(b,e.name),be(typeof ce=="boolean",e,"internal-error"),be(typeof he=="boolean",e,"internal-error"),Bi(x,e.name),Bi(D,e.name),Bi(j,e.name),Bi(G,e.name),Bi(H,e.name),Bi($,e.name);const R=new Qn({uid:ne,auth:e,email:b,emailVerified:ce,displayName:w,isAnonymous:he,photoURL:D,phoneNumber:x,tenantId:j,stsTokenManager:A,createdAt:H,lastLoginAt:$});return me&&Array.isArray(me)&&(R.providerData=me.map(O=>Object.assign({},O))),G&&(R._redirectEventId=G),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new co;o.updateFromServerResponse(t);const u=new Qn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?RT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function ei(r){oi(r instanceof Function,"Expected a class definition");let e=y0.get(r);return e?(oi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,y0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IT.type="NONE";const v0=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,e,t){return`firebase:${r}:${e}:${t}`}class ho{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xh(this.auth,{idToken:e}).catch(()=>{});return t?Qn._fromGetAccountInfoResponse(this.auth,t,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ho(ei(v0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ei(v0);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(f);if(_){let w;if(typeof _=="string"){const b=await xh(e,{idToken:_}).catch(()=>{});if(!b)break;w=await Qn._fromGetAccountInfoResponse(e,b,_)}else w=Qn._fromJSON(e,_);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(VT(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function CT(r=Jt()){return/firefox\//i.test(r)}function xT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(r=Jt()){return/crios\//i.test(r)}function NT(r=Jt()){return/iemobile/i.test(r)}function OT(r=Jt()){return/android/i.test(r)}function MT(r=Jt()){return/blackberry/i.test(r)}function VT(r=Jt()){return/webos/i.test(r)}function jp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tC(r=Jt()){var e;return jp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nC(){return yR()&&document.documentMode===10}function kT(r=Jt()){return jp(r)||OT(r)||VT(r)||MT(r)||/windows phone/i.test(r)||NT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r,e=[]){let t;switch(r){case"Browser":t=_0(Jt());break;case"Worker":t=`${_0(Jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e={}){return xo(r,"GET","/v2/passwordPolicy",Lp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=6;class aC{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:sC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xh(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(ea(this));const t=e?Lt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iC(this),t=new aC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await eC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&LI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Wh(r){return Lt(r)}class E0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(r){zp=r}function uC(r){return zp.loadJS(r)}function cC(){return zp.gapiScript}function hC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r,e){const t=Op(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(si(u,e??{}))return o;wr(o,"already-initialized")}return t.initialize({options:e})}function dC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ei);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mC(r,e,t){const s=Wh(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=LT(e),{host:f,port:m}=pC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(si(g,s.config.emulator)&&si(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Io(f)?(dT(`${u}//${f}${p}`),mT("Auth",!0)):gC()}function LT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pC(r){const e=LT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:T0(f)}}}function T0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e){return GI(r,"POST","/v1/accounts:signInWithIdp",Lp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="http://localhost";class ia extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Mp(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ia(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return fo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,fo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fo(e,t)}buildRequest(){const e={requestUri:yC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ru{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Zr.credential(t,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ru{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ru{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Gi.credential(t,s)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),f=b0(s);return new yo({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=b0(s);return new yo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function b0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends hi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nh(e,t,s,o)}}function jT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function vC(r,e,t=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return yo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,e,t=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(ea(s));const o="reauthenticate";try{const u=await hu(r,jT(s,o,e,r),t);be(u.idToken,s,"internal-error");const f=Up(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),yo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&wr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,e,t=!1){if(Yn(r.app))return Promise.reject(ea(r));const s="signIn",o=await jT(r,s,e),u=await yo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function TC(r,e,t,s){return Lt(r).onIdTokenChanged(e,t,s)}function bC(r,e,t){return Lt(r).beforeAuthStateChanged(e,t)}function wC(r,e,t,s){return Lt(r).onAuthStateChanged(e,t,s)}function SC(r){return Lt(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1e3,RC=10;class BT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const IC=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qT.type="SESSION";const HT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await CC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=qp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function DC(r){vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function NC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function MC(){return FT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebaseLocalStorageDb",VC=1,Mh="firebaseLocalStorage",YT="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function kC(){const r=indexedDB.deleteDatabase(GT);return new Iu(r).toPromise()}function ep(){const r=indexedDB.open(GT,VC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:YT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await kC(),e(await ep()))})})}async function w0(r,e,t){const s=Jh(r,!0).put({[YT]:e,value:t});return new Iu(s).toPromise()}async function PC(r,e){const t=Jh(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function S0(r,e){const t=Jh(r,!0).delete(e);return new Iu(t).toPromise()}const LC=800,UC=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>UC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NC(),!this.activeServiceWorker)return;this.sender=new xC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await w0(e,Oh,"1"),await S0(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>w0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>S0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const jC=QT;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r,e){return e?ei(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends UT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zC(r){return EC(r.auth,new Hp(r),r.bypassAuthState)}function BC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),_C(t,new Hp(r),r.bypassAuthState)}async function qC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),vC(t,new Hp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zC;case"linkViaPopup":case"linkViaRedirect":return qC;case"reauthViaPopup":case"reauthViaRedirect":return BC;default:wr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Au(2e3,1e4);async function FC(r,e,t){if(Yn(r.app))return Promise.reject(Kn(r,"operation-not-supported-in-this-environment"));const s=Wh(r);UI(r,e,Bp);const o=KT(s,t);return new Xs(s,"signInViaPopup",e,o).executeNotNull()}class Xs extends $T{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HC.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="pendingRedirect",gh=new Map;class YC extends $T{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await QC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QC(r,e){const t=XC(e),s=$C(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KC(r,e){gh.set(r._key(),e)}function $C(r){return ei(r._redirectPersistence)}function XC(r){return ph(GC,r.config.apiKey,r.name)}async function WC(r,e,t=!1){if(Yn(r.app))return Promise.reject(ea(r));const s=Wh(r),o=KT(s,e),f=await new YC(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=10*60*1e3;class JC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!XT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZC&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(e))}saveEventToCache(e){this.cachedEventUids.add(A0(e)),this.lastProcessedEventTime=Date.now()}}function A0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function XT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e={}){return xo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function i2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await t2(r);for(const t of e)try{if(s2(t))return}catch{}wr(r,"unauthorized-domain")}function s2(r){const e=Zm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!r2.test(t))return!1;if(n2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Au(3e4,6e4);function R0(){const r=vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function o2(r){return new Promise((e,t)=>{var s,o,u;function f(){R0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R0(),t(Kn(r,"network-request-failed"))},timeout:a2.get()})}if(!((o=(s=vr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=vr().gapi)===null||u===void 0)&&u.load)f();else{const m=hC("iframefcb");return vr()[m]=()=>{gapi.load?f():t(Kn(r,"network-request-failed"))},uC(`${cC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function l2(r){return yh=yh||o2(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Au(5e3,15e3),c2="__/auth/iframe",h2="emulator/auth/iframe",f2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m2(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Pp(e,h2):`https://${r.config.authDomain}/${c2}`,s={apiKey:e.apiKey,appName:r.name,v:Co},o=d2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Su(s).slice(1)}`}async function p2(r){const e=await l2(r),t=vr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:m2(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Kn(r,"network-request-failed"),m=vr().setTimeout(()=>{u(f)},u2.get());function p(){vr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y2=500,v2=600,_2="_blank",E2="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(r,e,t,s=y2,o=v2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},g2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jt().toLowerCase();t&&(m=DT(g)?_2:t),CT(g)&&(e=e||E2,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[x,D])=>`${b}${x}=${D},`,"");if(tC(g)&&m!=="_self")return b2(e||"",m),new I0(null);const w=window.open(e||"",m,_);be(w,r,"popup-blocked");try{w.focus()}catch{}return new I0(w)}function b2(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__/auth/handler",S2="emulator/auth/handler",A2=encodeURIComponent("fac");async function C0(r,e,t,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Co,eventId:o};if(e instanceof Bp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",SR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))f[_]=w}if(e instanceof Ru){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${A2}=${encodeURIComponent(p)}`:"";return`${R2(r)}?${Su(m).slice(1)}${g}`}function R2({config:r}){return r.emulator?Pp(r,S2):`https://${r.authDomain}/${w2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class I2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=WC,this._overrideRedirectResult=KC}async _openPopup(e,t,s,o){var u;oi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await C0(e,t,s,Zm(),o);return T2(e,f,qp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await C0(e,t,s,Zm(),o);return DC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await p2(e),s=new JC(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Um,{type:Um},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Um];f!==void 0&&t(!!f),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kT()||xT()||jp()}}const C2=I2;var x0="@firebase/auth",D0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N2(r){go(new ra("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(r)},g=new oC(s,o,u,p);return dC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),go(new ra("auth-internal",e=>{const t=Wh(e.getProvider("auth").getImmediate());return(s=>new x2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(x0,D0,D2(r)),Js(x0,D0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=5*60,M2=fT("authIdTokenMaxAge")||O2;let N0=null;const V2=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>M2)return;const o=t==null?void 0:t.token;N0!==o&&(N0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k2(r=vT()){const e=Op(r,"auth");if(e.isInitialized())return e.getImmediate();const t=fC(r,{popupRedirectResolver:C2,persistence:[jC,IC,HT]}),s=fT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=V2(u.toString());bC(t,f,()=>f(t.currentUser)),TC(t,m=>f(m))}}const o=cT("auth");return o&&mC(t,`http://${o}`),t}function P2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}lC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Kn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",P2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N2("Browser");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,WT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function R(){}R.prototype=A.prototype,k.D=A.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(O,P,U){for(var C=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)C[Ut-2]=arguments[Ut];return A.prototype[P].apply(O,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)O[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)O[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=k.g[0],R=k.g[1],P=k.g[2];var U=k.g[3],C=A+(U^R&(P^U))+O[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+O[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+O[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+O[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+O[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+O[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+O[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+O[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+O[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+O[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+O[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+O[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(U^R&(P^U))+O[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(P^A&(R^P))+O[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=P+(R^U&(A^R))+O[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(A^P&(U^A))+O[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(P^U&(R^P))+O[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+O[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+O[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+O[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+O[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+O[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+O[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+O[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+O[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+O[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+O[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+O[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^U&(R^P))+O[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(A^R))+O[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(U^A))+O[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(P^U))+O[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(R^P^U)+O[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+O[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+O[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+O[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+O[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+O[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+O[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+O[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+O[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+O[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+O[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+O[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^U)+O[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^P)+O[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=P+(U^A^R)+O[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^A)+O[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(P^(R|~U))+O[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+O[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+O[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+O[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+O[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+O[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+O[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+O[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+O[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+O[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+O[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+O[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~U))+O[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~P))+O[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=P+(A^(U|~R))+O[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~A))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var R=A-this.blockSize,O=this.B,P=this.h,U=0;U<A;){if(P==0)for(;U<=R;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<A;)if(O[P++]=k.charCodeAt(U++),P==this.blockSize){o(this,O),P=0;break}}else for(;U<A;)if(O[P++]=k[U++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var R=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=R&255,R/=256;for(this.u(k),k=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)k[R++]=this.g[A]>>>O&255;return k};function u(k,A){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=A(k)}function f(k,A){this.h=A;for(var R=[],O=!0,P=k.length-1;0<=P;P--){var U=k[P]|0;O&&U==A||(R[P]=U,O=!1)}this.g=R}var m={};function p(k){return-128<=k&&128>k?u(k,function(A){return new f([A|0],0>A?-1:0)}):new f([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return G(g(-k));for(var A=[],R=1,O=0;k>=R;O++)A[O]=k/R|0,R*=4294967296;return new f(A,0)}function _(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return G(_(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),O=w,P=0;P<k.length;P+=8){var U=Math.min(8,k.length-P),C=parseInt(k.substring(P,P+U),A);8>U?(U=g(Math.pow(A,U)),O=O.j(U).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var w=p(0),b=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(j(this))return-G(this).m();for(var k=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);k+=(0<=O?O:4294967296+O)*A,A*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(j(this))return"-"+G(this).toString(k);for(var A=g(Math.pow(k,6)),R=this,O="";;){var P=ce(R,A).g;R=H(R,P.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=P,D(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function j(k){return k.h==-1}r.l=function(k){return k=H(this,k),j(k)?-1:D(k)?0:1};function G(k){for(var A=k.g.length,R=[],O=0;O<A;O++)R[O]=~k.g[O];return new f(R,~k.h).add(b)}r.abs=function(){return j(this)?G(this):this},r.add=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0,P=0;P<=A;P++){var U=O+(this.i(P)&65535)+(k.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);O=C>>>16,U&=65535,C&=65535,R[P]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function H(k,A){return k.add(G(A))}r.j=function(k){if(D(this)||D(k))return w;if(j(this))return j(k)?G(this).j(G(k)):G(G(this).j(k));if(j(k))return G(this.j(G(k)));if(0>this.l(x)&&0>k.l(x))return g(this.m()*k.m());for(var A=this.g.length+k.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<k.g.length;P++){var U=this.i(O)>>>16,C=this.i(O)&65535,Ut=k.i(P)>>>16,lt=k.i(P)&65535;R[2*O+2*P]+=C*lt,$(R,2*O+2*P),R[2*O+2*P+1]+=U*lt,$(R,2*O+2*P+1),R[2*O+2*P+1]+=C*Ut,$(R,2*O+2*P+1),R[2*O+2*P+2]+=U*Ut,$(R,2*O+2*P+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new f(R,0)};function $(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function ne(k,A){this.g=k,this.h=A}function ce(k,A){if(D(A))throw Error("division by zero");if(D(k))return new ne(w,w);if(j(k))return A=ce(G(k),A),new ne(G(A.g),G(A.h));if(j(A))return A=ce(k,G(A)),new ne(G(A.g),A.h);if(30<k.g.length){if(j(k)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=A;0>=O.l(k);)R=he(R),O=he(O);var P=me(R,1),U=me(O,1);for(O=me(O,2),R=me(R,2);!D(O);){var C=U.add(O);0>=C.l(k)&&(P=P.add(R),U=C),O=me(O,1),R=me(R,1)}return A=H(k,P.j(A)),new ne(P,A)}for(P=w;0<=k.l(A);){for(R=Math.max(1,Math.floor(k.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(R),C=U.j(A);j(C)||0<C.l(k);)R-=O,U=g(R),C=U.j(A);D(U)&&(U=b),P=P.add(U),k=H(k,C)}return new ne(P,k)}r.A=function(k){return ce(this,k).h},r.and=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&k.i(O);return new f(R,this.h&k.h)},r.or=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|k.i(O);return new f(R,this.h|k.h)},r.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^k.i(O);return new f(R,this.h^k.h)};function he(k){for(var A=k.g.length+1,R=[],O=0;O<A;O++)R[O]=k.i(O)<<1|k.i(O-1)>>>31;return new f(R,k.h)}function me(k,A){var R=A>>5;A%=32;for(var O=k.g.length-R,P=[],U=0;U<O;U++)P[U]=0<A?k.i(U+R)>>>A|k.i(U+R+1)<<32-A:k.i(U+R);return new f(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,WT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=_,Xi=f}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZT,Zl,JT,vh,tp,eb,tb,nb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,b.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,K){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return y.prototype[B].apply(S,se)}}function j(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function G(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,K=S.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=S[se]}else c.push(S)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var he=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function me(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function k(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ut{constructor(){this.h=this.g=null}add(y,v){const S=lt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var lt=new H(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,pe=!1,Be=new Ut,N=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(re)}};var re=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){U(v)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function xe(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{ce(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}D(xe,ie);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Jn(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++et,this.da=this.fa=!1}function fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,y,v,S,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=fs(c,y,S,B);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new Jn(y,this.src,K,!!S,B),y.fa=v,c.push(y)),y};function hs(c,y){var v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(fi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function fs(c,y,v,S){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return B}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),Po={};function Vu(c,y,v,S,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Vu(c,y[K],v,S,B);return null}return v=ku(v),c&&c[Dt]?c.K(y,v,g(S)?!!S.capture:!1,B):Sn(c,y,v,!1,S,B)}function Sn(c,y,v,S,B,K){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,ke=ma(c);if(ke||(c[ds]=ke=new Ar(c)),v=ke.add(y,v,S,se,K),v.proxy)return v;if(S=Sf(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ye||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(ms(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Sf(){function c(v){return y.call(c.src,c.listener,v)}const y=Af;return c}function Lo(c,y,v,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Lo(c,y[K],v,S,B);else S=g(S)?!!S.capture:!!S,v=ku(v),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=fs(K,v,S,B),-1<v&&(fi(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=ma(c))&&(y=c.g[y.toString()],c=-1,y&&(c=fs(y,v,S,B)),(v=-1<c?y[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])hs(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ms(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ma(y))?(hs(v,c),v.h==0&&(v.src=null,y[ds]=null)):fi(c)}}}function ms(c){return c in Po?Po[c]:Po[c]="on"+c}function Af(c,y){if(c.da)c=!0;else{y=new xe(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&da(c),c=v.call(S,y)}return c}function ma(c){return c=c[ds],c instanceof Ar?c:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[Uo]||(c[Uo]=function(y){return c.handleEvent(y)}),c[Uo])}function ut(){oe.call(this),this.i=new Ar(this),this.M=this,this.F=null}D(ut,oe),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(c,y,v,S){Lo(this,c,y,v,S)};function Ge(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var B=y;y=new ie(S,c),O(y,B)}if(B=!0,v)for(var K=v.length-1;0<=K;K--){var se=y.g=v[K];B=dn(se,S,!0,y)&&B}if(se=y.g=c,B=dn(se,S,!0,y)&&B,B=dn(se,S,!1,y)&&B,v)for(K=0;K<v.length;K++)se=y.g=v[K],B=dn(se,S,!1,y)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)fi(v[S]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ut.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function dn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==v){var ke=se.listener,At=se.ha||se.src;se.fa&&hs(c.i,se),B=ke.call(At,S)!==!1&&B}}return B&&!S.defaultPrevented}function Qt(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Pu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Rf extends oe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){oe.call(this),this.h=c,this.g={}}D(ps,oe);var gs=[];function ys(c){me(c.g,function(y,v){this.g.hasOwnProperty(v)&&da(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),ys(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,pa=m.JSON.parse,vs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function zo(c){return c.h||(c.h=c.i())}function Bo(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){ie.call(this,"d")}D(Ir,ie);function qo(){ie.call(this,"c")}D(qo,ie);var er={},Ho=null;function di(){return Ho=Ho||new ut}er.La="serverreachability";function ga(c){ie.call(this,er.La,c)}D(ga,ie);function mi(c){const y=di();Ge(y,new ga(y))}er.STAT_EVENT="statevent";function Lu(c,y){ie.call(this,er.STAT_EVENT,c),this.stat=y}D(Lu,ie);function rt(c){const y=di();Ge(y,new Lu(y,c))}er.Ma="timingevent";function St(c,y){ie.call(this,er.Ma,c),this.size=y}D(St,ie);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Fo(c,y,v,S,B,K){c.info(function(){if(c.g)if(K)for(var se="",ke=K.split("&"),At=0;At<ke.length;At++){var Pe=ke[At].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var Rt=Ot.split("_");se=2<=Rt.length&&Rt[1]=="type"?se+(Ot+"="+Pe+"&"):se+(Ot+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function If(c,y,v,S,B,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+K+" "+se})}function pi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_s(c,v)+(S?" "+S:"")})}function Uu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function _s(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return zn(v)}catch{return y}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function nr(){}D(nr,jo),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},tr=new nr;function en(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Go={},ya={};function Bn(c,y,v){c.L=1,c.v=Ss(mn(y)),c.m=v,c.P=!0,xr(c,null)}function xr(c,y){c.F=Date.now(),Es(c),c.A=mn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Wo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new dt,c.g=ec(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Rf(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(gs[0]=B.toString()),B=gs);for(var K=0;K<B.length;K++){var se=Vu(v,B[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mi(),Fo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=xn(this.g);var y=this.g.Ba();const Lr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Lr?mi(3):mi(2)),yi(this);var v=this.g.Z();this.X=v;t:if(ju(this)){var S=Yu(this.g);c="";var B=S.length,K=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),rr(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,If(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,At=this.g;if((ke=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ke)){var Pe=ke;break t}}Pe=null}if(v=Pe)pi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,v);else{this.o=!1,this.s=3,rt(12),jt(this),rr(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<se.length;)if(zt=zu(this,se),zt==ya){Rt==4&&(this.s=4,rt(14),v=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Go){this.s=4,rt(15),pi(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else pi(this.i,this.l,zt,null),Ts(this,zt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||se.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)pi(this.i,this.l,se,"[Invalid Chunked Response]"),jt(this),rr(this);else if(0<se.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Os(Ot),Ot.M=!0,rt(11))}}else pi(this.i,this.l,se,null),Ts(this,se);Rt==4&&jt(this),this.o&&!this.J&&(Rt==4?Wu(this.j,this):(this.o=!1,Es(this)))}else Of(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),jt(this),rr(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ya:(v=Number(y.substring(v,S)),isNaN(v)?Go:(S+=1,S+v>y.length?ya:(y=y.slice(S,S+v),c.C=S+v,y)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function Es(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(b(c.ba,c),y)}function yi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Uu(this.i,this.A),this.L!=2&&(mi(),rt(17)),jt(this),this.s=2,rr(this)):Bu(this,this.S-c)};function rr(c){c.j.G==0||c.J||Wu(c.j,c)}function jt(c){yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ys(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ts(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Yo(v.h,c))){if(!c.K&&Yo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)xa(v),Ia(v);else break e;nl(v),rt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(b(v.Za,v),6e3));if(1>=_a(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Pr(v,11)}else if((c.K||v.g==c)&&xa(v),!$(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Ot=Pe[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const Rt=Pe[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Lr=Pe[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(S=1.5*Lr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const zt=c.g;if(zt){const cr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var K=S.h;K.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ea(K,K.h),K.h=null))}if(S.D){const il=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(S.ya=il,$e(S.I,S.D,il))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var se=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),se.K){tn(S.h,se);var ke=se,At=S.L;At&&(ke.I=At),ke.B&&(yi(ke),Es(ke)),S.g=se}else $u(S);0<v.i.length&&Ca(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Pr(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Pr(v,7):el(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}mi(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function Dr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function Yo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ea(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Dr.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return j(c.i)}function Cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ta(c),S=Cf(c),B=S.length,K=0;K<B;K++)y.call(void 0,S[K],v&&v[K],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var K=c[v].substring(0,S);B=c[v].substring(S+1)}else K=c[v];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,ws(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,v=new Or;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Nr(this,v),this.m=c.m}else c&&(y=String(c).match(bs))?(this.h=!1,ws(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),vi(this,y[4]),this.l=Rn(y[5]||"",!0),Nr(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(As(y,$o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(As(y,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(As(v,v.charAt(0)=="/"?Df:Xo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",As(v,ba)),c.join("")};function mn(c){return new vt(c)}function ws(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Nr(c,y,v){y instanceof Or?(c.i=y,Fu(c.i,c.h)):(v||(y=As(y,Nf)),c.i=new Or(y,c.h))}function $e(c,y,v){c.i.set(y,v)}function Ss(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Xo=/[#\?:]/g,Df=/[#\?]/g,Nf=/[#\?@]/g,ba=/#/g;function Or(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&xf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Or.prototype,r.add=function(c,y){In(this),this.i=null,c=ir(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Mr(c,y){In(c),y=ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vr(c,y){return In(c),y=ir(c,y),c.g.has(y)}r.forEach=function(c,y){In(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)},r.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const B=c[S];for(let K=0;K<B.length;K++)v.push(y[S])}return v},r.V=function(c){In(this);let y=[];if(typeof c=="string")Vr(this,c)&&(y=y.concat(this.g.get(ir(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return In(this),this.i=null,c=ir(this,c),Vr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Wo(c,y,v){Mr(c,y),0<v.length&&(c.i=null,c.g.set(ir(c,y),j(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const K=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var B=K;se[S]!==""&&(B+="="+encodeURIComponent(String(se[S]))),c.push(B)}}return this.i=c.join("&")};function ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Mr(this,S),Wo(this,B,v))},c)),c.j=y}function Rs(c,y){const v=new An;if(m.Image){const S=new Image;S.onload=x(Cn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=x(Cn,v,"TestLoadImage: error",!1,y,S),S.onabort=x(Cn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(Cn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qn(c,y){const v=new An,S=new AbortController,B=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Is(){this.g=new vs}function sr(c,y,v){const S=v||"";try{Ko(c,function(B,K){let se=B;g(B)&&(se=zn(B)),y.push(S+K+"="+encodeURIComponent(se))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}D(_i,jo),_i.prototype.g=function(){return new kr(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function kr(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(kr,ut),r=kr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,or(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ar(this):or(this),this.readyState==3&&Zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ar(this))},r.Qa=function(c){this.g&&(this.response=c,ar(this))},r.ga=function(){this.g&&ar(this)};function ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,or(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jo(c){let y="";return me(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Nt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Jo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):$e(c,y,v))}function He(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(He,ut);var wa=/^https?$/i,Cs=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?zo(this.o):zo(tr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Gu(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cs,y,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Gu(this,K)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Sa(c),lr(c)}function Sa(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),lr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},r.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)Qt(c.Ea,0,c);else if(Ge(c,"readystatechange"),xn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=se===0){var B=String(c.D).match(bs)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!wa.test(B?B.toLowerCase():"")}v=S}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<xn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Sa(c)}}finally{lr(c)}}}}function lr(c,y){if(c.g){xs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=S}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pa(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if($(c[S]))continue;var v=P(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[B]||[];y[B]=K,K.push(v)}k(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ra(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Dr(c&&c.concurrentRequestLimit),this.Da=new Is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ra.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){rt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),Ca(this)};function el(c){if(Qu(c),c.G==3){var y=c.U++,v=mn(c.I);if($e(v,"SID",c.K),$e(v,"RID",y),$e(v,"TYPE","terminate"),Ns(c,v),y=new en(c,c.j,y),y.L=2,y.v=Ss(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Es(y)}Zu(c)}function Ia(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function Qu(c){Ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!va(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||N(),pe||(ae(),pe=!0),Be.add(y,c),c.B=0}}function Mf(c,y){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(b(c.Ga,c,y),rl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=A(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ku(this,B,y),v=mn(this.I),$e(v,"RID",c),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Ns(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(Jo(K)))+"&"+y:this.m&&Nt(v,this.m,K)),Ea(this.h,B),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",y),$e(v,"SID","null"),B.T=!0,Bn(B,v,null)):Bn(B,v,y),this.G=2}}else this.G==3&&(c?tl(this,c):this.i.length==0||va(this.h)||tl(this))};function tl(c,y){var v;y?v=y.l:v=c.U++;const S=mn(c.I);$e(S,"SID",c.K),$e(S,"RID",v),$e(S,"AID",c.T),Ns(c,S),c.m&&c.o&&Nt(S,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ku(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,v),Bn(v,S,y)}function Ns(c,y){c.H&&me(c.H,function(v,S){$e(y,S,v)}),c.l&&Ko({},function(v,S){$e(y,S,v)})}function Ku(c,y,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+v];K==-1?0<v?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let ke=!0;for(let At=0;At<v;At++){let Pe=B[At].g;const Ot=B[At].map;if(Pe-=K,0>Pe)K=Math.max(0,B[At].g-100),ke=!1;else try{sr(Ot,se,"req"+Pe+"_")}catch{S&&S(Ot)}}if(ke){S=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||N(),pe||(ae(),pe=!0),Be.add(y,c),c.v=0}}function nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(b(c.Fa,c),rl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ia(this),Xu(this))};function Os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Ns(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ss(mn(y)),v.m=null,v.P=!0,xr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ia(this),nl(this),rt(19))};function xa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){xa(c),Os(c),c.g=null;var S=2}else if(Yo(c.h,y))v=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=di(),Ge(S,new St(S,v)),Ca(c)}else $u(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Mf(c,y)||S==2&&nl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Pr(c,5);break;case 4:Pr(c,10);break;case 3:Pr(c,6);break;default:Pr(c,2)}}}function rl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Pr(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),S=c.Xa;const B=!S;S=new vt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ws(S,"https"),Ss(S),B?Rs(S.toString(),v):qn(S.toString(),v)}else rt(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ka,y),G(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,v){var S=v instanceof vt?mn(v):new vt(v);if(S.g!="")y&&(S.g=y+"."+S.g),vi(S,S.s);else{var B=m.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new vt(null);S&&ws(K,S),y&&(K.g=y),B&&vi(K,B),v&&(K.l=v),S=K}return v=c.D,y=c.ya,v&&y&&$e(S,v,y),$e(S,"VER",c.la),Ns(c,S),S}function ec(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new _i({eb:v})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Da(){}Da.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ut.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ur(this)}D(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){el(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=zn(c),c=v);y.i.push(new qu(y.Ya++,c)),y.G==3&&Ca(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,nn.aa.N.call(this)};function nc(c){Ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(nc,Ir);function rc(){qo.call(this),this.status=1}D(rc,qo);function ur(c){this.g=c}D(ur,tc),ur.prototype.ua=function(){Ge(this.g,"a")},ur.prototype.ta=function(c){Ge(this.g,new nc(c))},ur.prototype.sa=function(c){Ge(this.g,new rc)},ur.prototype.ra=function(){Ge(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,nb=function(){return new Da},tb=function(){return di()},eb=er,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,vh=gi,Cr.COMPLETE="complete",JT=Cr,Bo.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Zl=Bo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,ZT=He}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",V0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Dp("@firebase/firestore");function ao(){return sa.logLevel}function ue(r,...e){if(sa.logLevel<=Me.DEBUG){const t=e.map(Fp);sa.debug(`Firestore (${Do}): ${r}`,...t)}}function li(r,...e){if(sa.logLevel<=Me.ERROR){const t=e.map(Fp);sa.error(`Firestore (${Do}): ${r}`,...t)}}function Zi(r,...e){if(sa.logLevel<=Me.WARN){const t=e.map(Fp);sa.warn(`Firestore (${Do}): ${r}`,...t)}}function Fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,rb(r,s,t)}function rb(r,e,t){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw li(s),new Error(s)}function Fe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||rb(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class j2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ni,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ni)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new ib(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class z2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new z2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new k0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=H2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function np(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=sb(),f=F2(u.encode(P0(r,t)),u.encode(P0(e,t)));return f!==0?f:Ce(s,o)}}t+=s>65535?2:1}return Ce(r.length,e.length)}function P0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function F2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ce(r[t],e[t]);return Ce(r.length,e.length)}function vo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class gr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const s=gr.isNumericId(e),o=gr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class nt extends gr{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends gr{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return G2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new Gt([L0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,e,t){if(!t)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Y2(r,e,t,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function U0(r){if(!ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function j0(r){if(ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ob(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function wn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ef(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Cu(r,e){if(!ob(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new le(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-62135596800,B0=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*B0);return new je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<z0)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:wt("string",je._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new je(0,0))}static max(){return new Se(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function Q2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new je(t+1,0):new je(t,s));return new Ji(o,ge.empty(),e)}function K2(r){return new Ji(r.readTime,r.key,fu)}class Ji{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ji(Se.min(),ge.empty(),fu)}static max(){return new Ji(Se.max(),ge.empty(),fu)}}function $2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==X2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{f[g]=_,++m,m===u&&s(f)},_=>o(_))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function Z2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}tf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-1;function nf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function J2(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="";function ex(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=q0(e)),e=tx(r.get(t),e);return q0(e)}function tx(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case lb:t+="";break;default:t+=u}}return t}function q0(r){return r+lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function os(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ub(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new xt(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cb("Invalid base64 string: "+u):u}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const nx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const t=nx.exec(r);if(Fe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="server_timestamp",fb="__type__",db="__previous_value__",mb="__local_write_time__";function Qp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[fb])===null||t===void 0?void 0:t.stringValue)===hb}function rf(r){const e=r.mapValue.fields[db];return Qp(e)?rf(e):e}function du(r){const e=es(r.mapValue.fields[mb].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t,s,o,u,f,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const kh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__type__",ix="__max__",lh={mapValue:{}},gb="__vector__",Ph="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:ax(r)?9007199254740991:sx(r)?10:11:Ee(28295,{value:r})}function Sr(r,e){if(r===e)return!0;const t=ns(r);if(t!==ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(H0(f)!==H0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Sr(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function pu(r,e){return(r.values||[]).find(t=>Sr(t,e))!==void 0}function _o(r,e){if(r===e)return 0;const t=ns(r),s=ns(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return G0(r.timestampValue,e.timestampValue);case 4:return G0(du(r),du(e));case 5:return np(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ts(u),p=ts(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ce(m[g],p[g]);if(_!==0)return _}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(gt(u.latitude),gt(f.latitude));return m!==0?m:Ce(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Y0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,_;const w=u.fields||{},b=f.fields||{},x=(m=w[Ph])===null||m===void 0?void 0:m.arrayValue,D=(p=b[Ph])===null||p===void 0?void 0:p.arrayValue,j=Ce(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:Y0(x,D)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===lh.mapValue&&f===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(f===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const b=np(p[w],_[w]);if(b!==0)return b;const x=_o(m[p[w]],g[_[w]]);if(x!==0)return x}return Ce(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function G0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=es(r),s=es(e),o=Ce(t.seconds,s.seconds);return o!==0?o:Ce(t.nanos,s.nanos)}function Y0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=_o(t[o],s[o]);if(u)return u}return Ce(t.length,s.length)}function Eo(r){return rp(r)}function rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=es(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ts(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=rp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${rp(t.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return os(s.fields,(u,f)=>{o+=u.length+_h(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Q0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ip(r){return!!r&&"integerValue"in r}function Kp(r){return!!r&&"arrayValue"in r}function K0(r){return!!r&&"nullValue"in r}function $0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function sx(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[pb])===null||t===void 0?void 0:t.stringValue)===gb}function iu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return os(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=iu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ax(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ix}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=iu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){os(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(iu(this.value))}}function yb(r){const e=[];return os(r.fields,(t,s)=>{const o=new Gt([t]);if(Eh(s)){const u=yb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function X0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),t.key):s=_o(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function W0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Sr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ox(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{}class bt extends vb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ux(e,t,s):t==="array-contains"?new fx(e,s):t==="in"?new dx(e,s):t==="not-in"?new mx(e,s):t==="array-contains-any"?new px(e,s):new bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cx(e,s):new hx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_o(t,this.value)):t!==null&&ns(this.value)===ns(t)&&this.matchesComparison(_o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends vb{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Xn(e,t)}matches(e){return _b(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _b(r){return r.op==="and"}function Eb(r){return lx(r)&&_b(r)}function lx(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function sp(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(Eb(r))return r.filters.map(e=>sp(e)).join(",");{const e=r.filters.map(t=>sp(t)).join(",");return`${r.op}(${e})`}}function Tb(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Sr(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Tb(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function bb(r){return r instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Eo(t.value)}`}(r):r instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(bb).join(" ,")+"}"}(r):"Filter"}class ux extends bt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class cx extends bt{constructor(e,t){super(e,"in",t),this.keys=wb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hx extends bt{constructor(e,t){super(e,"not-in",t),this.keys=wb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class fx extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kp(t)&&pu(t.arrayValue,this.value)}}class dx extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pu(this.value.arrayValue,t)}}class mx extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pu(this.value.arrayValue,t)}}class px extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function Z0(r,e=null,t=[],s=[],o=null,u=null,f=null){return new gx(r,e,t,s,o,u,f)}function $p(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>sp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Eo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Eo(s)).join(",")),e.Pe=t}return e.Pe}function Xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ox(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Tb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!W0(r.startAt,e.startAt)&&W0(r.endAt,e.endAt)}function ap(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function yx(r,e,t,s,o,u,f,m){return new Mo(r,e,t,s,o,u,f,m)}function sf(r){return new Mo(r)}function J0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Sb(r){return r.collectionGroup!==null}function su(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new gu(u,s))}),t.has(Gt.keyField().canonicalString())||e.Te.push(new gu(Gt.keyField(),s))}return e.Te}function _r(r){const e=Ae(r);return e.Ie||(e.Ie=vx(e,su(r))),e.Ie}function vx(r,e){if(r.limitType==="F")return Z0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)});const t=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return Z0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function op(r,e){const t=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,e,t){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function af(r,e){return Xp(_r(r),_r(e))&&r.limitType===e.limitType}function Ab(r){return`${$p(_r(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>bb(o)).join(", ")}]`),nf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Eo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Eo(o)).join(",")),`Target(${s})`}(_r(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=X0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,su(s),o)||s.endAt&&!function(f,m,p){const g=X0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,su(s),o))}(r,e)}function _x(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Rb(r){return(e,t)=>{let s=!1;for(const o of su(r)){const u=Ex(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Ex(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?_o(p,g):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new ot(ge.comparator);function ui(){return Tx}const Ib=new ot(ge.comparator);function Jl(...r){let e=Ib;for(const t of r)e=e.insert(t.key,t);return e}function Cb(r){let e=Ib;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ws(){return au()}function xb(){return au()}function au(){return new la(r=>r.toString(),(r,e)=>r.isEqual(e))}const bx=new ot(ge.comparator),wx=new xt(ge.comparator);function Ve(...r){let e=wx;for(const t of r)e=e.add(t);return e}const Sx=new xt(Ce);function Ax(){return Sx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Db(r){return{integerValue:""+r}}function Rx(r,e){return J2(e)?Db(e):Wp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function Ix(r,e,t){return r instanceof yu?function(o,u){const f={fields:{[fb]:{stringValue:hb},[mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=rf(u)),u&&(f.fields[db]=u),{mapValue:f}}(t,e):r instanceof To?Ob(r,e):r instanceof bo?Mb(r,e):function(o,u){const f=Nb(o,u),m=eE(f)+eE(o.Ee);return ip(f)&&ip(o.Ee)?Db(m):Wp(o.serializer,m)}(r,e)}function Cx(r,e,t){return r instanceof To?Ob(r,e):r instanceof bo?Mb(r,e):t}function Nb(r,e){return r instanceof Uh?function(s){return ip(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class yu extends lf{}class To extends lf{constructor(e){super(),this.elements=e}}function Ob(r,e){const t=Vb(e);for(const s of r.elements)t.some(o=>Sr(o,s))||t.push(s);return{arrayValue:{values:t}}}class bo extends lf{constructor(e){super(),this.elements=e}}function Mb(r,e){let t=Vb(e);for(const s of r.elements)t=t.filter(o=>!Sr(o,s));return{arrayValue:{values:t}}}class Uh extends lf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function eE(r){return gt(r.integerValue||r.doubleValue)}function Vb(r){return Kp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.field=e,this.transform=t}}function xx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof To&&o instanceof To||s instanceof bo&&o instanceof bo?vo(s.elements,o.elements,Sr):s instanceof Uh&&o instanceof Uh?Sr(s.Ee,o.Ee):s instanceof yu&&o instanceof yu}(r.transform,e.transform)}class Dx{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class uf{}function kb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lb(r.key,$n.none()):new xu(r.key,r.data,$n.none());{const t=r.data,s=hn.empty();let o=new xt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ls(r.key,s,new bn(o.toArray()),$n.none())}}function Nx(r,e,t){r instanceof xu?function(o,u,f){const m=o.value.clone(),p=nE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ls?function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=nE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Pb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function ou(r,e,t,s){return r instanceof xu?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=u.value.clone(),_=rE(u.fieldTransforms,p,f);return g.setAll(_),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ls?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=rE(u.fieldTransforms,p,f),_=f.data;return _.setAll(Pb(u)),_.setAll(g),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,t)}function Ox(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Nb(s.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(s.field,u))}return t||null}function tE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,(u,f)=>xx(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends uf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ls extends uf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Pb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function nE(r,e,t){const s=new Map;Fe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Cx(f,m,t[o]))}return s}function rE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);s.set(o.field,Ix(u,f,e))}return s}class Lb extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Nx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=xb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=kb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(t,s)=>tE(t,s))&&vo(this.baseMutations,e.baseMutations,(t,s)=>tE(t,s))}}class Jp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return bx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Jp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function Lx(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Ub(r){if(r===void 0)return li("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Xi([4294967295,4294967295],0);function iE(r){const e=sb().encode(r),t=new WT;return t.update(e),new Uint8Array(t.digest())}function sE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xi([t,s],0),new Xi([o,u],0)]}class eg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Xi.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Xi.fromNumber(s)));return o.compare(Ux)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=iE(e),[s,o]=sE(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new eg(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const t=iE(e),[s,o]=sE(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new cf(Se.min(),o,new ot(Ce),ui(),Ve())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class jb{constructor(e,t){this.targetId=e,this.De=t}}class zb{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class aE{constructor(){this.ve=0,this.Ce=oE(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),s=Ve();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Du(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=oE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class jx{constructor(e){this.We=e,this.Ge=new Map,this.ze=ui(),this.je=uh(),this.Je=uh(),this.He=new ot(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(ap(u))if(s===0){const f=new ge(u.path);this.Xe(t,f,Zt.newNoDocument(f,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this.ot(t);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=ts(s).toUint8Array()}catch(p){if(p instanceof cb)return Zi("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new eg(f,o,u)}catch(p){return Zi(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&ap(m.target)){const p=new ge(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Zt.newNoDocument(p,e))}u.Ne&&(t.set(f,u.Le()),u.ke())}});let s=Ve();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new cf(e,t,this.He,this.ze,s);return this.ze=ui(),this.je=uh(),this.Je=uh(),this.He=new ot(Ce),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new aE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new xt(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new xt(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new aE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function uh(){return new ot(ge.comparator)}function oE(){return new ot(ge.comparator)}const zx={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qx={and:"AND",or:"OR"};class Hx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Fx(r,e){return jh(r,e.toTimestamp())}function Er(r){return Fe(!!r,49232),Se.fromTimestamp(function(t){const s=es(t);return new je(s.seconds,s.nanos)}(r))}function tg(r,e){return cp(r,e).canonicalString()}function cp(r,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function qb(r){const e=nt.fromString(r);return Fe(Qb(e),10190,{key:e.toString()}),e}function hp(r,e){return tg(r.databaseId,e.path)}function jm(r,e){const t=qb(e);if(t.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(Fb(t))}function Hb(r,e){return tg(r.databaseId,e)}function Gx(r){const e=qb(r);return e.length===4?nt.emptyPath():Fb(e)}function fp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Fb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function lE(r,e,t){return{name:hp(r,e),fields:t.value.mapValue.fields}}function Yx(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),Yt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Yt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const _=g.code===void 0?J.UNKNOWN:Ub(g.code);return new le(_,g.message||"")}(f);t=new zb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(r,s.document.name),u=Er(s.document.updateTime),f=s.document.createTime?Er(s.document.createTime):Se.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new bh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(r,s.document),u=s.readTime?Er(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new bh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(r,s.document),u=s.removedTargetIds||[];t=new bh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Px(o,u),m=s.targetId;t=new jb(m,f)}}return t}function Qx(r,e){let t;if(e instanceof xu)t={update:lE(r,e.key,e.value)};else if(e instanceof Lb)t={delete:hp(r,e.key)};else if(e instanceof ls)t={update:lE(r,e.key,e.data),updateMask:nD(e.fieldMask)};else{if(!(e instanceof Mx))return Ee(16599,{Rt:e.type});t={verify:hp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof yu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof To)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Fx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),t}function Kx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(t=>function(o,u){let f=o.updateTime?Er(o.updateTime):Er(u);return f.isEqual(Se.min())&&(f=Er(u)),new Dx(f,o.transformResults||[])}(t,e))):[]}function $x(r,e){return{documents:[Hb(r,e.path)]}}function Xx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Hb(r,o);const u=function(g){if(g.length!==0)return Yb(Xn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:lo(b.field),direction:Jx(b.dir)}}(_))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=up(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function Wx(r){let e=Gx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(w){const b=Gb(w);return b instanceof Xn&&Eb(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(w){return w.map(b=>function(D){return new gu(uo(D.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,nf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(w){const b=!!w.before,x=w.values||[];return new Lh(x,b)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const b=!w.before,x=w.values||[];return new Lh(x,b)}(t.endAt)),yx(e,o,f,u,m,"F",p,g)}function Zx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gb(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=uo(t.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(t.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uo(t.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return bt.create(uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(s=>Gb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function Jx(r){return zx[r]}function eD(r){return Bx[r]}function tD(r){return qx[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return Gt.fromServerFormat(r.fieldPath)}function Yb(r){return r instanceof bt?function(t){if(t.op==="=="){if($0(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NAN"}};if(K0(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($0(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NAN"}};if(K0(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(t.field),op:eD(t.op),value:t.value}}}(r):r instanceof Xn?function(t){const s=t.getFilters().map(o=>Yb(o));return s.length===1?s[0]:{compositeFilter:{op:tD(t.op),filters:s}}}(r):Ee(54877,{filter:r})}function nD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,s,o,u=Se.min(),f=Se.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.gt=e}}function iD(r){const e=Wx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Dn=new aD}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ji.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class aD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new xt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kb=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(Kb,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new wo(0)}static ur(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",oD=1048576;function hE([r,e],[t,s]){const o=Ce(r,t);return o===0?Ce(e,s):o}class lD{constructor(e){this.Tr=e,this.buffer=new xt(hE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(cE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oo(t)?ue(cE,"Ignoring IndexedDB error during garbage collection: ",t):await No(t)}await this.Rr(3e5)})}}class cD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(tf.ue);const s=new lD(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(uE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,f,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),ao()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function hD(r,e){return new cD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ou(s.mutation,o,bn.empty(),je.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=Ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Jl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Ws();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=ui();const f=au(),m=function(){return au()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ls)?u=u.insert(g.key,g):_!==void 0?(f.set(g.key,_.mutation.getFieldMask()),ou(_.mutation,g,_.mutation.getFieldMask(),je.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>f.set(g,_)),t.forEach((g,_)=>{var w;return m.set(g,new dD(_,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const s=au();let o=new ot((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||bn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,w=xb();_.forEach(b=>{if(!u.has(b)){const x=kb(t.get(b),s.get(b));x!==null&&w.set(b,x),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Ws());let m=fu,p=u;return f.next(g=>te.forEach(g,(_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(_=>({batchId:m,changes:Cb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Jl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,b){return new Mo(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const _=g.getKey();f.get(_)===null&&(f=f.insert(_,Zt.newInvalidDocument(_)))});let m=Jl();return f.forEach((p,g)=>{const _=u.get(p);_!==void 0&&ou(_.mutation,g,bn.empty(),je.now()),of(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Er(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:iD(o.bundledQuery),readTime:Er(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.overlays=new ot(ge.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ws();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Ws(),u=t.length+1,f=new ge(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((g,_)=>g-_);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Ws(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Ws(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return te.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kx(t,s));let u=this.kr.get(t);u===void 0&&(u=Ve(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.qr=new xt(Pt.Qr),this.$r=new xt(Pt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Pt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ge(new nt([])),s=new Pt(t,e),o=new Pt(t,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new nt([])),s=new Pt(t,e),o=new Pt(t,e+1);let u=Ve();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Pt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new xt(Pt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Vx(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Yp:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xt(Ce);return t.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ge(u),0);let m=new xt(Ce);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},f),te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(t.mutations,o=>{const u=new Pt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Pt(t,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.ni=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=ui();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ui();const f=t.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||$2(K2(_),s)<=0||(o.has(_.key)||of(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ED(this)}getSize(e){return te.resolve(this.size)}}class ED extends fD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.persistence=e,this.ii=new la(t=>$p(t),Xp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new ng,this.targetCount=0,this._i=wo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.ai={},this.overlays={},this.ui=new tf(0),this.ci=!1,this.ci=!0,this.li=new yD,this.referenceDelegate=e(this),this.hi=new TD(this),this.indexManager=new sD,this.remoteDocumentCache=function(o){return new _D(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new rD(t),this.Ti=new pD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new vD(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new bD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class bD extends W2{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ai=new ng,this.Ri=null}static Vi(e){return new rg(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class zh{constructor(e,t){this.persistence=e,this.gi=new la(s=>ex(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=hD(this,t)}static Vi(e,t){return new zh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}Sr(e,t,s){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return vR()?8:Z2(Jt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new wD;return this.ws(e,t,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,f,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(ao()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(ao()<=Me.DEBUG&&ue("QueryEngine","Query:",oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ao()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):te.resolve())}ps(e,t){if(J0(t))return te.resolve(null);let s=_r(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),s=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,f,p.readTime)?this.ps(e,lp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return J0(t)||o.isEqual(Se.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(t,u);return this.Ds(t,f,s,o)?te.resolve(null):(ao()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(t)),this.vs(e,f,t,Q2(o,fu)).next(m=>m))})}bs(e,t){let s=new xt(Rb(e));return t.forEach((o,u)=>{of(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return ao()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",oo(t)),this.gs.getDocumentsMatchingQuery(e,t,Ji.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",AD=3e8;class RD{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ot(Ce),this.Ms=new la(u=>$p(u),Xp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function ID(r,e,t,s){return new RD(r,e,t,s)}async function Xb(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:m}))})})}function CD(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const w=g.batch,b=w.keys();let x=te.resolve();return b.forEach(D=>{x=x.next(()=>_.getEntry(p,D)).next(j=>{const G=g.docVersions.get(D);Fe(G!==null,48541),j.version.compareTo(G)<0&&(w.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Wb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function xD(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((_,w)=>{const b=o.get(w);if(!b)return;m.push(t.hi.removeMatchingKeys(u,_.removedDocuments,w).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,w)));let x=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(w,x),function(j,G,H){return j.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=AD?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(b,x,_)&&m.push(t.hi.updateTargetData(u,x))});let p=ui(),g=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(DD(u,f,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!s.isEqual(Se.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(w=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function DD(r,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ui();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(sg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function ND(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Yp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function OD(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.hi.allocateTargetId(s).next(f=>(o=new Qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function dp(r,e,t){const s=Ae(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Oo(f))throw f;ue(sg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function fE(r,e,t){const s=Ae(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,_){const w=Ae(p),b=w.Ms.get(_);return b!==void 0?te.resolve(w.Fs.get(b)):w.hi.getTargetData(g,_)}(s,f,_r(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,t?o:Se.min(),t?u:Ve())).next(m=>(MD(s,_x(e),m),{documents:m,qs:u})))}function MD(r,e,t){let s=r.xs.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class dE{constructor(){this.activeTargetIds=Ax()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VD{constructor(){this.Fo=new dE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class pE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(mE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function mp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="RestConnection",PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const f=mp(),m=this.Go(e,t.toUriEncodedString());ue(zm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),_=Io(g);return this.jo(e,m,p,s,_).then(w=>(ue(zm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Zi(zm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Jo(e,t,s,o,u,f){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=PD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class jD extends LD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const f=mp();return new Promise((m,p)=>{const g=new ZT;g.setWithCredentials(!0),g.listenOnce(JT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const w=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case vh.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const b=g.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const j=function(H){const $=H.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(D.status);p(new le(j,D.message))}else p(new le(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}});const _=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(t,"POST",_,s,15)})}P_(e,t,s){const o=mp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=nb(),m=tb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=f.createWebChannel(_,p);this.T_(w);let b=!1,x=!1;const D=new UD({Ho:G=>{x?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(b||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,G),w.send(G))},Yo:()=>w.close()}),j=(G,H,$)=>{G.listen(H,ne=>{try{$(ne)}catch(ce){setTimeout(()=>{throw ce},0)}})};return j(w,Zl.EventType.OPEN,()=>{x||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),D.s_())}),j(w,Zl.EventType.CLOSE,()=>{x||(x=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),D.__(),this.I_(w))}),j(w,Zl.EventType.ERROR,G=>{x||(x=!0,Zi(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),D.__(new le(J.UNAVAILABLE,"The operation could not be completed")))}),j(w,Zl.EventType.MESSAGE,G=>{var H;if(!x){const $=G.data[0];Fe(!!$,16349);const ne=$,ce=(ne==null?void 0:ne.error)||((H=ne[0])===null||H===void 0?void 0:H.error);if(ce){ue(Xt,`RPC '${e}' stream ${o} received error:`,ce);const he=ce.status;let me=function(R){const O=Tt[R];if(O!==void 0)return Ub(O)}(he),k=ce.message;me===void 0&&(me=J.INTERNAL,k="Unknown error status: "+he+" with message "+ce.message),x=!0,D.__(new le(me,k)),w.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,$),D.a_($)}}),j(m,eb.STAT_EVENT,G=>{G.stat===tp.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===tp.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.o_()},0),D}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){return new Hx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class Jb{constructor(e,t,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Zb(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ue(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zD extends Jb{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Yx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Er(f.readTime):Se.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=fp(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:$x(u,p)}:{query:Xx(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Bb(u,f.resumeToken);const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Zx(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.k_(t)}}class BD extends Jb{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Kx(e.writeResults,e.commitTime),s=Er(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=fp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Qx(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{}class HD extends qD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,cp(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,cp(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class FD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(li(t),this._a=!1):ue("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class GD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{ua(this)&&(ue(aa,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Nu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await ff(g)}(this))})}),this.Aa=new FD(s,o)}}async function ff(r){if(ua(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function ew(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),ug(t)?lg(t):Vo(t).x_()&&og(t,e))}function ag(r,e){const t=Ae(r),s=Vo(t);t.Ta.delete(e),s.x_()&&tw(t,e),t.Ta.size===0&&(s.x_()?s.B_():ua(t)&&t.Aa.set("Unknown"))}function og(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vo(r).H_(e)}function tw(r,e){r.Ra.$e(e),Vo(r).Y_(e)}function lg(r){r.Ra=new jx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Vo(r).start(),r.Aa.aa()}function ug(r){return ua(r)&&!Vo(r).M_()&&r.Ta.size>0}function ua(r){return Ae(r).Ia.size===0}function nw(r){r.Ra=void 0}async function YD(r){r.Aa.set("Online")}async function QD(r){r.Ta.forEach((e,t)=>{og(r,e)})}async function KD(r,e){nw(r),ug(r)?(r.Aa.la(e),lg(r)):r.Aa.set("Unknown")}async function $D(r,e,t){if(r.Aa.set("Online"),e instanceof zb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){ue(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof bh?r.Ra.Ye(e):e instanceof jb?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Se.min()))try{const s=await Wb(r.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(g);_&&u.Ta.set(g,_.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken(Yt.EMPTY_BYTE_STRING,_.snapshotVersion)),tw(u,p);const w=new Qi(_.target,p,g,_.sequenceNumber);og(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ue(aa,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,t){if(!Oo(e))throw e;r.Ia.add(1),await Nu(r),r.Aa.set("Offline"),t||(t=()=>Wb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(aa,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await ff(r)})}function rw(r,e){return e().catch(t=>Bh(r,t,e))}async function df(r){const e=Ae(r),t=rs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Yp;for(;XD(e);)try{const o=await ND(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,WD(e,o)}catch(o){await Bh(e,o)}iw(e)&&sw(e)}function XD(r){return ua(r)&&r.Pa.length<10}function WD(r,e){r.Pa.push(e);const t=rs(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function iw(r){return ua(r)&&!rs(r).M_()&&r.Pa.length>0}function sw(r){rs(r).start()}async function ZD(r){rs(r).na()}async function JD(r){const e=rs(r);for(const t of r.Pa)e.X_(t.mutations)}async function eN(r,e,t){const s=r.Pa.shift(),o=Jp.from(s,e,t);await rw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await df(r)}async function tN(r,e){e&&rs(r).Z_&&await async function(s,o){if(function(f){return Lx(f)&&f!==J.ABORTED}(o.code)){const u=s.Pa.shift();rs(s).N_(),await rw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await df(s)}}(r,e),iw(r)&&sw(r)}async function yE(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),ue(aa,"RemoteStore received new credentials");const s=ua(t);t.Ia.add(3),await Nu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await ff(t)}async function nN(r,e){const t=Ae(r);e?(t.Ia.delete(2),await ff(t)):e||(t.Ia.add(2),await Nu(t),t.Aa.set("Unknown"))}function Vo(r){return r.Va||(r.Va=function(t,s,o){const u=Ae(t);return u.ia(),new zD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:YD.bind(null,r),e_:QD.bind(null,r),n_:KD.bind(null,r),J_:$D.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),ug(r)?lg(r):r.Aa.set("Unknown")):(await r.Va.stop(),nw(r))})),r.Va}function rs(r){return r.ma||(r.ma=function(t,s,o){const u=Ae(t);return u.ia(),new BD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:ZD.bind(null,r),n_:tN.bind(null,r),ea:JD.bind(null,r),ta:eN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await df(r)):(await r.ma.stop(),r.Pa.length>0&&(ue(aa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new cg(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,e){if(li("AsyncQueue",`${e}: ${r}`),Oo(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.fa=new ot(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class So{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new So(e,t,mo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class iN{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=_E(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new le(J.ABORTED,"Firestore shutting down"))}}function _E(){return new la(r=>Ab(r),af)}async function fg(r,e){const t=Ae(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new rN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=hg(f,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&mg(t)}async function dg(r,e){const t=Ae(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function sN(r,e){const t=Ae(r);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&mg(t)}function aN(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function mg(r){r.Da.forEach(e=>{e.next()})}var pp,EE;(EE=pp||(pp={})).Fa="default",EE.Cache="cache";class pg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class ow{constructor(e){this.key=e}}class oN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=Rb(e),this.eu=new mo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new vE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const b=o.get(_),x=of(this.query,w)?w:null,D=!!b&&this.mutatedKeys.has(b.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let G=!1;b&&x?b.data.isEqual(x.data)?D!==j&&(s.track({type:3,doc:x}),G=!0):this.iu(b,x)||(s.track({type:2,doc:x}),G=!0,(p&&this.Xa(x,p)>0||g&&this.Xa(x,g)<0)&&(m=!0)):!b&&x?(s.track({type:0,doc:x}),G=!0):b&&!x&&(s.track({type:1,doc:b}),G=!0,(p||g)&&(m=!0)),G&&(x?(f=f.add(x),u=j?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((_,w)=>function(x,D){const j=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:G})}};return j(x)-j(D)}(_.type,w.type)||this.Xa(_.doc,w.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new So(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new ow(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new aw(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return So.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const gg="SyncEngine";class lN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uN{constructor(e){this.key=e,this.lu=!1}}class cN{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new la(m=>Ab(m),af),this.Tu=new Map,this.Iu=new Set,this.du=new ot(ge.comparator),this.Eu=new Map,this.Au=new ng,this.Ru={},this.Vu=new Map,this.mu=wo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function hN(r,e,t=!0){const s=dw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await lw(s,e,t,!0),o}async function fN(r,e){const t=dw(r);await lw(t,e,!0,!1)}async function lw(r,e,t,s){const o=await OD(r.localStore,_r(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await dN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&ew(r.remoteStore,o),m}async function dN(r,e,t,s,o){r.gu=(w,b,x)=>async function(j,G,H,$){let ne=G.view.nu(H);ne.Ds&&(ne=await fE(j.localStore,G.query,!1).then(({documents:k})=>G.view.nu(k,ne)));const ce=$&&$.targetChanges.get(G.targetId),he=$&&$.targetMismatches.get(G.targetId)!=null,me=G.view.applyChanges(ne,j.isPrimaryClient,ce,he);return bE(j,G.targetId,me._u),me.snapshot}(r,w,b,x);const u=await fE(r.localStore,e,!0),f=new oN(e,u.qs),m=f.nu(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);bE(r,t,g._u);const _=new lN(e,t,f);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function mN(r,e,t){const s=Ae(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!af(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ag(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(No)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function pN(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ag(t.remoteStore,s.targetId))}async function gN(r,e,t){const s=wN(r);try{const o=await function(f,m){const p=Ae(f),g=je.now(),_=m.reduce((x,D)=>x.add(D.key),Ve());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=ui(),j=Ve();return p.Os.getEntries(x,_).next(G=>{D=G,D.forEach((H,$)=>{$.isValidDocument()||(j=j.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,D)).next(G=>{w=G;const H=[];for(const $ of m){const ne=Ox($,w.get($.key).overlayedDocument);ne!=null&&H.push(new ls($.key,ne,yb(ne.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,H,m)}).next(G=>{b=G;const H=G.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(x,G.batchId,H)})}).then(()=>({batchId:b.batchId,changes:Cb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new ot(Ce)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g}(s,o.batchId,t),await Ou(s,o.changes),await df(s.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");t.reject(u)}}async function uw(r,e){const t=Ae(r);try{const s=await xD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Eu.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Fe(f.lu,14607):o.removedDocuments.size>0&&(Fe(f.lu,42227),f.lu=!1))}),await Ou(t,s,e)}catch(s){await No(s)}}function TE(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((_,w)=>{for(const b of w.wa)b.va(m)&&(g=!0)}),g&&mg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yN(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new ot(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new cf(Se.min(),new Map,new ot(Ce),f,m);await uw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),yg(s)}else await dp(s.localStore,e,!1).then(()=>gp(s,e,t)).catch(No)}async function vN(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await CD(t.localStore,e);hw(t,s,null),cw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(t,o)}catch(o){await No(o)}}async function _N(r,e,t){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Fe(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);hw(s,e,t),cw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ou(s,o)}catch(o){await No(o)}}function cw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function hw(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function gp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||fw(r,s)})}function fw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(ag(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),yg(r))}function bE(r,e,t){for(const s of t)s instanceof aw?(r.Au.addReference(s.key,e),EN(r,s)):s instanceof ow?(ue(gg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||fw(r,s.key)):Ee(19791,{yu:s})}function EN(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ue(gg,"New document in limbo: "+t),r.Iu.add(s),yg(r))}function yg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ge(nt.fromString(e)),s=r.mu.next();r.Eu.set(s,new uN(t)),r.du=r.du.insert(t,s),ew(r.remoteStore,new Qi(_r(sf(t.path)),s,"TargetPurposeLimboResolution",tf.ue))}}async function Ou(r,e,t){const s=Ae(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=ig.Es(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,g){const _=Ae(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,b=>te.forEach(b.Is,x=>_.persistence.referenceDelegate.addReference(w,b.targetId,x)).next(()=>te.forEach(b.ds,x=>_.persistence.referenceDelegate.removeReference(w,b.targetId,x)))))}catch(w){if(!Oo(w))throw w;ue(sg,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const x=_.Fs.get(b),D=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(D);_.Fs=_.Fs.insert(b,j)}}}(s.localStore,u))}async function TN(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){ue(gg,"User change. New user:",e.toKey());const s=await Xb(t.localStore,e);t.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new le(J.CANCELLED,f))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(t,s.Bs)}}function bN(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return Ve().add(s.key);{let o=Ve();const u=t.Tu.get(e);if(!u)return o;for(const f of u){const m=t.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function dw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yN.bind(null,e),e.hu.J_=sN.bind(null,e.eventManager),e.hu.pu=aN.bind(null,e.eventManager),e}function wN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_N.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return ID(this.persistence,new SD,e.initialUser,this.serializer)}Du(e){return new $b(rg.Vi,this.serializer)}bu(e){return new VD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class SN extends qh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uD(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new $b(s=>zh.Vi(s,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TN.bind(null,this.syncEngine),await nN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iN}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),s=function(u){return new jD(u)}(e.databaseInfo);return function(u,f,m,p){return new HD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new GD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>TE(this.syncEngine,t,0),function(){return pE.C()?new pE:new kD}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,_){const w=new cN(o,u,f,m,p,g);return _&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);ue(aa,"RemoteStore shutting down."),u.Ia.add(5),await Nu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class AN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=hg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(is,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Xb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Zi("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Zi("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function wE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await RN(r);ue(is,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>yE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>yE(e.remoteStore,o)),r._onlineComponents=e}async function RN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(is,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zi("Error using user provided cache. Falling back to memory cache: "+t),await qm(r,new qh)}}else ue(is,"Using default OfflineComponentProvider"),await qm(r,new SN(void 0));return r._offlineComponents}async function mw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(is,"Using user provided OnlineComponentProvider"),await wE(r,r._uninitializedComponentsProvider._online)):(ue(is,"Using default OnlineComponentProvider"),await wE(r,new yp))),r._onlineComponents}function IN(r){return mw(r).then(e=>e.syncEngine)}async function Hh(r){const e=await mw(r),t=e.eventManager;return t.onListen=hN.bind(null,e.syncEngine),t.onUnlisten=mN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),t}function CN(r,e,t={}){const s=new ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const _=new vg({next:b=>{_.Ou(),f.enqueueAndForget(()=>dg(u,w));const x=b.docs.has(m);!x&&b.fromCache?g.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&p&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new pg(sf(m.path),_,{includeMetadataChanges:!0,ka:!0});return fg(u,w)}(await Hh(r),r.asyncQueue,e,t,s)),s.promise}function xN(r,e,t={}){const s=new ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const _=new vg({next:b=>{_.Ou(),f.enqueueAndForget(()=>dg(u,w)),b.fromCache&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new pg(m,_,{includeMetadataChanges:!0,ka:!0});return fg(u,w)}(await Hh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firestore.googleapis.com",AE=!0;class RE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gw,this.ssl=AE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new L2;switch(s.type){case"firstParty":return new B2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=SE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),SE.delete(t),s.terminate())}(this),Promise.resolve()}}function DN(r,e,t,s={}){var o;r=wn(r,mf);const u=Io(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(dT(`https://${p}`),mT("Firestore",!0)),f.host!==gw&&f.host!==p&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!si(g,m)&&(r._setSettings(g),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Wt.MOCK_USER;else{_=uR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wt(b)}r._authCredentials=new U2(new ib(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class ft{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Cu(t,ft._jsonSchema))return new ft(e,s||null,new ge(nt.fromString(t.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:wt("string",ft._jsonSchemaVersion),referencePath:wt("string")};class Wi extends us{constructor(e,t,s){super(e,t,sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ge(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function po(r,e,...t){if(r=Lt(r),ab("collection","path",e),r instanceof mf){const s=nt.fromString(e,...t);return j0(s),new Wi(r,null,s)}{if(!(r instanceof ft||r instanceof Wi))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return j0(s),new Wi(r.firestore,null,s)}}function vu(r,e,...t){if(r=Lt(r),arguments.length===1&&(e=Gp.newId()),ab("doc","path",e),r instanceof mf){const s=nt.fromString(e,...t);return U0(s),new ft(r,null,new ge(s))}{if(!(r instanceof ft||r instanceof Wi))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return U0(s),new ft(r.firestore,r instanceof Wi?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="AsyncQueue";class CE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Zb(this,"async_queue_retry"),this.oc=()=>{const s=Bm();s&&ue(IE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Bm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Bm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ni;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Oo(e))throw e;ue(IE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,li("INTERNAL UNHANDLED ERROR: ",xE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=cg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:xE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function xE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ss extends mf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new CE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function NN(r,e){const t=typeof r=="object"?r:vT(),s=typeof r=="string"?r:kh,o=Op(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oR("firestore");u&&DN(o,...u)}return o}function pf(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ON(r),r._firestoreClient}function ON(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,_){return new rx(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,pw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new AN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Yt.fromBase64String(e))}catch(t){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ln(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:wt("string",Ln._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:wt("string",Tr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new br(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:wt("string",br._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^__.*__$/;class VN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class yw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class yf{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Fh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vw(this.Ec)&&MN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class kN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hf(e)}Dc(e,t,s,o=!1){return new yf({Ec:e,methodName:t,bc:s,path:Gt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(r){const e=r._freezeSettings(),t=hf(r._databaseId);return new kN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function _w(r,e,t,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);bg("Data must be an object, but it was:",f,s);const m=Tw(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const b=vp(e,w,t);if(!f.contains(b))throw new le(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ww(_,b)||_.push(b)}p=new bn(_),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new VN(new hn(m),p,g)}class _f extends ko{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function Ew(r,e,t){return new yf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _g extends ko{_toFieldTransform(e){return new Zp(e.path,new yu)}isEqual(e){return e instanceof _g}}class Eg extends ko{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ew(this,e,!0),s=this.vc.map(u=>ca(u,t)),o=new To(s);return new Zp(e.path,o)}isEqual(e){return e instanceof Eg&&si(this.vc,e.vc)}}class Tg extends ko{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ew(this,e,!0),s=this.vc.map(u=>ca(u,t)),o=new bo(s);return new Zp(e.path,o)}isEqual(e){return e instanceof Tg&&si(this.vc,e.vc)}}function PN(r,e,t,s){const o=r.Dc(1,e,t);bg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();os(s,(p,g)=>{const _=wg(e,p,t);g=Lt(g);const w=o.gc(_);if(g instanceof _f)u.push(_);else{const b=ca(g,w);b!=null&&(u.push(_),f.set(_,b))}});const m=new bn(u);return new yw(f,m,o.fieldTransforms)}function LN(r,e,t,s,o,u){const f=r.Dc(1,e,t),m=[vp(e,s,t)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(vp(e,u[b])),p.push(u[b+1]);const g=[],_=hn.empty();for(let b=m.length-1;b>=0;--b)if(!ww(g,m[b])){const x=m[b];let D=p[b];D=Lt(D);const j=f.gc(x);if(D instanceof _f)g.push(x);else{const G=ca(D,j);G!=null&&(g.push(x),_.set(x,G))}}const w=new bn(g);return new yw(_,w,f.fieldTransforms)}function UN(r,e,t,s=!1){return ca(t,r.Dc(s?4:3,e))}function ca(r,e){if(bw(r=Lt(r)))return bg("Unsupported field value:",e,r),Tw(r,e);if(r instanceof ko)return function(s,o){if(!vw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=ca(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=je.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof je){const u=new je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Tr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:Bb(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof br)return function(f,m){return{mapValue:{fields:{[pb]:{stringValue:gb},[Ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Wp(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${ef(s)}`)}(r,e)}function Tw(r,e){const t={};return ub(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(r,(s,o)=>{const u=ca(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function bw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof je||r instanceof Tr||r instanceof Ln||r instanceof ft||r instanceof ko||r instanceof br)}function bg(r,e,t){if(!bw(t)||!ob(t)){const s=ef(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function vp(r,e,t){if((e=Lt(e))instanceof gf)return e._internalPath;if(typeof e=="string")return wg(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,t)}const jN=new RegExp("[~\\*/\\[\\]]");function wg(r,e,t){if(e.search(jN)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new gf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Fh(r,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+r+p)}function ww(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zN extends Sw{data(){return super.data()}}function Ef(r,e){return typeof e=="string"?wg(r,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Rw extends Sg{}function Ag(r,e,...t){let s=[];e instanceof Sg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof Rg).length,m=u.filter(p=>p instanceof Tf).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Tf extends Rw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tf(e,t,s)}_apply(e){const t=this._parse(e);return Cw(e._query,t),new us(e.firestore,e.converter,op(e._query,t))}_parse(e){const t=vf(e.firestore);return function(u,f,m,p,g,_,w){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){OE(w,_);const D=[];for(const j of w)D.push(NE(p,u,j));b={arrayValue:{values:D}}}else b=NE(p,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||OE(w,_),b=UN(m,f,w,_==="in"||_==="not-in");return bt.create(g,_,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Iw(r,e,t){const s=e,o=Ef("where",r);return Tf._create(o,s,t)}class Rg extends Sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Cw(f,p),f=op(f,p)}(e._query,t),new us(e.firestore,e.converter,op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends Rw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ig(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,f)}(e._query,this._field,this._direction);return new us(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function BN(r,e="asc"){const t=e,s=Ef("orderBy",r);return Ig._create(s,t)}function NE(r,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sb(e)&&t.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ge.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(r,new ge(s))}if(t instanceof ft)return Q0(r,t._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(t)}.`)}function OE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cw(r,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qN{convertValue(e,t="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return os(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new br(u)}convertGeoPoint(e){return new Tr(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=es(e);return new je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Fe(Qb(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends Sw{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ta._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:wt("string",ta._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class wh extends ta{data(e={}){return super.data(e)}}class na{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wh(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:HN(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){r=wn(r,ft);const e=wn(r.firestore,ss);return CN(pf(e),r._key).then(t=>Ow(e,r,t))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:wt("string",na._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Cg extends qN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function FN(r){r=wn(r,us);const e=wn(r.firestore,ss),t=pf(e),s=new Cg(e);return Aw(r._query),xN(t,r._query).then(o=>new na(e,s,r,o))}function GN(r,e,t){r=wn(r,ft);const s=wn(r.firestore,ss),o=xw(r.converter,e);return xg(s,[_w(vf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,$n.none())])}function ME(r,e,t,...s){r=wn(r,ft);const o=wn(r.firestore,ss),u=vf(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof gf?LN(u,"updateDoc",r._key,e,t,s):PN(u,"updateDoc",r._key,e),xg(o,[f.toMutation(r._key,$n.exists(!0))])}function _p(r,e){const t=wn(r.firestore,ss),s=vu(r),o=xw(r.converter,e);return xg(t,[_w(vf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then(()=>s)}function Nw(r,...e){var t,s,o;r=Lt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||DE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(DE(e[f])){const w=e[f];e[f]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,_;if(r instanceof ft)g=wn(r.firestore,ss),_=sf(r._key.path),p={next:w=>{e[f]&&e[f](Ow(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=wn(r,us);g=wn(w.firestore,ss),_=w._query;const b=new Cg(g);p={next:x=>{e[f]&&e[f](new na(g,b,w,x))},error:e[f+1],complete:e[f+2]},Aw(r._query)}return function(b,x,D,j){const G=new vg(j),H=new pg(x,G,D);return b.asyncQueue.enqueueAndForget(async()=>fg(await Hh(b),H)),()=>{G.Ou(),b.asyncQueue.enqueueAndForget(async()=>dg(await Hh(b),H))}}(pf(g),_,m,p)}function xg(r,e){return function(s,o){const u=new ni;return s.asyncQueue.enqueueAndForget(async()=>gN(await IN(s),o,u)),u.promise}(pf(r),e)}function Ow(r,e,t){const s=t.docs.get(e._key),o=new Cg(r);return new ta(r,o,e._key,s,new tu(t.hasPendingWrites,t.fromCache),e.converter)}function Mw(){return new _g("serverTimestamp")}function YN(...r){return new Eg("arrayUnion",r)}function QN(...r){return new Tg("arrayRemove",r)}(function(e,t=!0){(function(o){Do=o})(Co),go(new ra("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ss(new j2(s.getProvider("auth-internal")),new q2(f,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,_)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Js(M0,V0,e),Js(M0,V0,"esm2017")})();const KN={apiKey:"AIzaSyDw27FOHVgIPBzP2gP8b68U-RYX2uGcYfc",authDomain:"event-tool-internal.firebaseapp.com",projectId:"event-tool-internal",storageBucket:"event-tool-internal.firebasestorage.app",messagingSenderId:"39341001525",appId:"1:39341001525:web:1b5b19c4f5da1784f81a7c",measurementId:"G-4M23FC4X1N"},Vw=yT(KN),Dg=k2(Vw),yr=NN(Vw),$N=new Zr,kw=z.createContext(void 0),XN=({children:r})=>{const[e,t]=z.useState(null),[s,o]=z.useState(null),[u,f]=z.useState(!0);z.useEffect(()=>{const p=wC(Dg,async g=>{if(g){t(g);const _=vu(yr,"users",g.uid),w=await Dw(_);if(w.exists())o(w.data());else{const b={uid:g.uid,email:g.email||"",displayName:g.displayName||"Googler",photoURL:g.photoURL||"",attendanceHistory:{}};await GN(_,b),o(b)}}else t(null),o(null);f(!1)});return()=>p()},[]);const m={user:e,userProfile:s,loading:u};return M.jsx(kw.Provider,{value:m,children:r})},ha=()=>{const r=z.useContext(kw);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},ri=({children:r,variant:e="primary",isLoading:t=!1,className:s="",...o})=>{const u="px-4 py-2 rounded-md font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-dark-surface disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",f={primary:"bg-primary text-white hover:bg-blue-600 focus:ring-primary",secondary:"bg-secondary text-white hover:bg-green-600 focus:ring-secondary",danger:"bg-danger text-white hover:bg-red-600 focus:ring-danger",ghost:"bg-transparent text-dark-text-secondary hover:bg-dark-surface hover:text-dark-text border border-dark-border"};return M.jsxs("button",{className:`${u} ${f[e]} ${s}`,disabled:t||o.disabled,...o,children:[t&&M.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})};let WN={data:""},ZN=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||WN,JN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,eO=/\/\*[^]*?\*\/|  +/g,VE=/\n+/g,Yi=(r,e)=>{let t="",s="",o="";for(let u in r){let f=r[u];u[0]=="@"?u[1]=="i"?t=u+" "+f+";":s+=u[1]=="f"?Yi(f,u):u+"{"+Yi(f,u[1]=="k"?"":e)+"}":typeof f=="object"?s+=Yi(f,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Yi.p?Yi.p(u,f):u+":"+f+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Wr={},Pw=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Pw(r[t]);return e}return r},tO=(r,e,t,s,o)=>{let u=Pw(r),f=Wr[u]||(Wr[u]=(p=>{let g=0,_=11;for(;g<p.length;)_=101*_+p.charCodeAt(g++)>>>0;return"go"+_})(u));if(!Wr[f]){let p=u!==r?r:(g=>{let _,w,b=[{}];for(;_=JN.exec(g.replace(eO,""));)_[4]?b.shift():_[3]?(w=_[3].replace(VE," ").trim(),b.unshift(b[0][w]=b[0][w]||{})):b[0][_[1]]=_[2].replace(VE," ").trim();return b[0]})(r);Wr[f]=Yi(o?{["@keyframes "+f]:p}:p,t?"":"."+f)}let m=t&&Wr.g?Wr.g:null;return t&&(Wr.g=Wr[f]),((p,g,_,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=_?p+g.data:g.data+p)})(Wr[f],e,s,m),f},nO=(r,e,t)=>r.reduce((s,o,u)=>{let f=e[u];if(f&&f.call){let m=f(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=p?"."+p:m&&typeof m=="object"?m.props?"":Yi(m,""):m===!1?"":m}return s+o+(f??"")},"");function bf(r){let e=this||{},t=r.call?r(e.p):r;return tO(t.unshift?t.raw?nO(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,ZN(e.target),e.g,e.o,e.k)}let Lw,Ep,Tp;bf.bind({g:1});let ci=bf.bind({k:1});function rO(r,e,t,s){Yi.p=e,Lw=r,Ep=t,Tp=s}function cs(r,e){let t=this||{};return function(){let s=arguments;function o(u,f){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:Ep&&Ep()},m),t.o=/ *go\d+/.test(p),m.className=bf.apply(t,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),Tp&&g[0]&&Tp(m),Lw(g,m)}return o}}var iO=r=>typeof r=="function",Gh=(r,e)=>iO(r)?r(e):r,sO=(()=>{let r=0;return()=>(++r).toString()})(),Uw=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),aO=20,jw=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,aO)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return jw(r,{type:r.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},Sh=[],Zs={toasts:[],pausedAt:void 0},fa=r=>{Zs=jw(Zs,r),Sh.forEach(e=>{e(Zs)})},oO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lO=(r={})=>{let[e,t]=z.useState(Zs),s=z.useRef(Zs);z.useEffect(()=>(s.current!==Zs&&t(Zs),Sh.push(t),()=>{let u=Sh.indexOf(t);u>-1&&Sh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var f,m,p;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((f=r[u.type])==null?void 0:f.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((m=r[u.type])==null?void 0:m.duration)||(r==null?void 0:r.duration)||oO[u.type],style:{...r.style,...(p=r[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},uO=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||sO()}),Mu=r=>(e,t)=>{let s=uO(e,r,t);return fa({type:2,toast:s}),s.id},sn=(r,e)=>Mu("blank")(r,e);sn.error=Mu("error");sn.success=Mu("success");sn.loading=Mu("loading");sn.custom=Mu("custom");sn.dismiss=r=>{fa({type:3,toastId:r})};sn.remove=r=>fa({type:4,toastId:r});sn.promise=(r,e,t)=>{let s=sn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Gh(e.success,o):void 0;return u?sn.success(u,{id:s,...t,...t==null?void 0:t.success}):sn.dismiss(s),o}).catch(o=>{let u=e.error?Gh(e.error,o):void 0;u?sn.error(u,{id:s,...t,...t==null?void 0:t.error}):sn.dismiss(s)}),r};var cO=(r,e)=>{fa({type:1,toast:{id:r,height:e}})},hO=()=>{fa({type:5,time:Date.now()})},lu=new Map,fO=1e3,dO=(r,e=fO)=>{if(lu.has(r))return;let t=setTimeout(()=>{lu.delete(r),fa({type:4,toastId:r})},e);lu.set(r,t)},mO=r=>{let{toasts:e,pausedAt:t}=lO(r);z.useEffect(()=>{if(t)return;let u=Date.now(),f=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&sn.dismiss(m.id);return}return setTimeout(()=>sn.dismiss(m.id),p)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[e,t]);let s=z.useCallback(()=>{t&&fa({type:6,time:Date.now()})},[t]),o=z.useCallback((u,f)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=f||{},_=e.filter(x=>(x.position||g)===(u.position||g)&&x.height),w=_.findIndex(x=>x.id===u.id),b=_.filter((x,D)=>D<w&&x.visible).length;return _.filter(x=>x.visible).slice(...m?[b+1]:[0,b]).reduce((x,D)=>x+(D.height||0)+p,0)},[e]);return z.useEffect(()=>{e.forEach(u=>{if(u.dismissed)dO(u.id,u.removeDelay);else{let f=lu.get(u.id);f&&(clearTimeout(f),lu.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:cO,startPause:hO,endPause:s,calculateOffset:o}}},pO=ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gO=ci`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yO=ci`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vO=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_O=ci`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EO=cs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${_O} 1s linear infinite;
`,TO=ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bO=ci`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wO=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SO=cs("div")`
  position: absolute;
`,AO=cs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,RO=ci`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IO=cs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${RO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CO=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?z.createElement(IO,null,e):e:t==="blank"?null:z.createElement(AO,null,z.createElement(EO,{...s}),t!=="loading"&&z.createElement(SO,null,t==="error"?z.createElement(vO,{...s}):z.createElement(wO,{...s})))},xO=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,DO=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,NO="0%{opacity:0;} 100%{opacity:1;}",OO="0%{opacity:1;} 100%{opacity:0;}",MO=cs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,VO=cs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kO=(r,e)=>{let t=r.includes("top")?1:-1,[s,o]=Uw()?[NO,OO]:[xO(t),DO(t)];return{animation:e?`${ci(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ci(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PO=z.memo(({toast:r,position:e,style:t,children:s})=>{let o=r.height?kO(r.position||e||"top-center",r.visible):{opacity:0},u=z.createElement(CO,{toast:r}),f=z.createElement(VO,{...r.ariaProps},Gh(r.message,r));return z.createElement(MO,{className:r.className,style:{...o,...t,...r.style}},typeof s=="function"?s({icon:u,message:f}):z.createElement(z.Fragment,null,u,f))});rO(z.createElement);var LO=({id:r,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=z.useCallback(f=>{if(f){let m=()=>{let p=f.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return z.createElement("div",{ref:u,className:e,style:t},o)},UO=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Uw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},jO=bf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hh=16,zO=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:u,containerClassName:f})=>{let{toasts:m,handlers:p}=mO(t);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hh,left:hh,right:hh,bottom:hh,pointerEvents:"none",...u},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let _=g.position||e,w=p.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),b=UO(_,w);return z.createElement(LO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?jO:"",style:b},g.type==="custom"?Gh(g.message,g):o?o(g):z.createElement(PO,{toast:g,position:_}))}))},an=sn;const BO=()=>{const r=Tu(),{user:e,loading:t}=ha();z.useEffect(()=>{e&&r("/")},[e,r]);const s=async()=>{try{await FC(Dg,$N),an.success("Signed in successfully!"),r("/")}catch(o){console.error("Authentication error: ",o),an.error(o.message||"Failed to sign in.")}};return t||e?M.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-dark-bg",children:M.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):M.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-bg text-dark-text p-4",children:[M.jsxs("div",{className:"text-center mb-12",children:[M.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:" FairPlay Scheduler"}),M.jsx("p",{className:"text-lg text-dark-text-secondary",children:"Fair event sign-ups for everyone."})]}),M.jsxs("div",{className:"bg-dark-surface p-8 rounded-lg shadow-2xl max-w-sm w-full text-center",children:[M.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Googler!"}),M.jsx("p",{className:"text-dark-text-secondary mb-6",children:"Sign in to continue."}),M.jsxs(ri,{onClick:s,className:"w-full bg-primary hover:bg-blue-600",children:[M.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[M.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.06 6.21C12.43 13.72 17.74 9.5 24 9.5z"}),M.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),M.jsx("path",{fill:"#FBBC05",d:"M10.62 27.58c-.52-1.57-.82-3.24-.82-5.04s.3-3.47.82-5.04l-8.06-6.21C.96 15.7 0 20.05 0 24.55s.96 8.85 2.56 12.78l8.06-6.75z"}),M.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-8.06 6.21C6.51 42.62 14.62 48 24 48z"}),M.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Sign in with Google"]}),M.jsx("p",{className:"text-xs text-dark-text-secondary mt-4",children:"Restricted to @google.com accounts."})]})]})},Ng=()=>M.jsx("div",{className:"flex justify-center items-center",children:M.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),zw=({isOpen:r,onClose:e,title:t,children:s})=>r?M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center",onClick:e,children:M.jsxs("div",{className:"bg-dark-surface text-dark-text rounded-lg shadow-xl w-full max-w-2xl mx-4 p-6 relative animate-fade-in-up",onClick:o=>o.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-center border-b border-dark-border pb-3 mb-4",children:[M.jsx("h3",{className:"text-xl font-bold",children:t}),M.jsx("button",{onClick:e,className:"text-dark-text-secondary hover:text-white transition-colors",children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsx("div",{children:s})]})}):null,qO=()=>{const[r,e]=z.useState([]),[t,s]=z.useState(!0),[o,u]=z.useState(!1),[f,m]=z.useState(""),[p,g]=z.useState(""),[_,w]=z.useState(!1),{user:b}=ha(),x=Tu();z.useEffect(()=>{s(!0);const j=Ag(po(yr,"groups")),G=Nw(j,H=>{const $=[];H.forEach(ne=>{$.push({id:ne.id,...ne.data()})}),e($),s(!1)},H=>{console.error("Error fetching groups:",H),an.error("Failed to load groups."),s(!1)});return()=>G()},[]);const D=async j=>{if(j.preventDefault(),!(!f.trim()||!b)){w(!0);try{await _p(po(yr,"groups"),{name:f,description:p,ownerUids:[b.uid],createdAt:Mw()}),an.success("Group created successfully!"),u(!1),m(""),g("")}catch(G){console.error("Error creating group:",G),an.error("Failed to create group.")}finally{w(!1)}}};return M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-center mb-8",children:[M.jsx("h1",{className:"text-3xl font-bold",children:"Groups"}),M.jsx(ri,{onClick:()=>u(!0),children:"Create New Group"})]}),t?M.jsx(Ng,{}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(j=>M.jsxs("div",{className:"bg-dark-surface p-6 rounded-lg shadow-lg hover:shadow-primary/20 hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>x(`/group/${j.id}`),children:[M.jsx("h2",{className:"text-xl font-bold text-primary mb-2",children:j.name}),M.jsx("p",{className:"text-dark-text-secondary line-clamp-2",children:j.description})]},j.id)):M.jsx("p",{className:"text-dark-text-secondary col-span-full text-center",children:"No groups found. Create one to get started!"})}),M.jsx(zw,{isOpen:o,onClose:()=>u(!1),title:"Create a New Group",children:M.jsxs("form",{onSubmit:D,children:[M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"groupName",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Group Name"}),M.jsx("input",{id:"groupName",type:"text",value:f,onChange:j=>m(j.target.value),placeholder:"e.g., Football-WAW",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"groupDesc",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Description"}),M.jsx("textarea",{id:"groupDesc",value:p,onChange:j=>g(j.target.value),placeholder:"A short description of the group and its activities.",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",rows:3,required:!0})]})]}),M.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[M.jsx(ri,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Cancel"}),M.jsx(ri,{type:"submit",isLoading:_,children:"Create Group"})]})]})})]})},Bw=6048e5,HO=864e5,kE=Symbol.for("constructDateFrom");function jn(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&kE in r?r[kE](e):r instanceof Date?new r.constructor(e):new Date(e)}function fn(r,e){return jn(e||r,r)}function FO(r,e,t){const s=fn(r,t==null?void 0:t.in);return isNaN(e)?jn(r,NaN):(e&&s.setDate(s.getDate()+e),s)}function GO(r,e,t){const s=fn(r,t==null?void 0:t.in);if(isNaN(e))return jn(r,NaN);if(!e)return s;const o=s.getDate(),u=jn(r,s.getTime());u.setMonth(s.getMonth()+e+1,0);const f=u.getDate();return o>=f?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}function Hm(r,e,t){const{years:s=0,months:o=0,weeks:u=0,days:f=0,hours:m=0,minutes:p=0,seconds:g=0}=e,_=fn(r,t==null?void 0:t.in),w=o||s?GO(_,o+s*12):_,b=f||u?FO(w,f+u*7):w,x=p+m*60,j=(g+x*60)*1e3;return jn(r,+b+j)}let YO={};function wf(){return YO}function _u(r,e){var m,p,g,_;const t=wf(),s=(e==null?void 0:e.weekStartsOn)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((_=(g=t.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,o=fn(r,e==null?void 0:e.in),u=o.getDay(),f=(u<s?7:0)+u-s;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Yh(r,e){return _u(r,{...e,weekStartsOn:1})}function qw(r,e){const t=fn(r,e==null?void 0:e.in),s=t.getFullYear(),o=jn(t,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=Yh(o),f=jn(t,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=Yh(f);return t.getTime()>=u.getTime()?s+1:t.getTime()>=m.getTime()?s:s-1}function PE(r){const e=fn(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function QO(r,...e){const t=jn.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function LE(r,e){const t=fn(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function KO(r,e,t){const[s,o]=QO(t==null?void 0:t.in,r,e),u=LE(s),f=LE(o),m=+u-PE(u),p=+f-PE(f);return Math.round((m-p)/HO)}function $O(r,e){const t=qw(r,e),s=jn(r,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Yh(s)}function XO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function WO(r){return!(!XO(r)&&typeof r!="number"||isNaN(+fn(r)))}function ZO(r,e){const t=fn(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const JO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eM=(r,e,t)=>{let s;const o=JO[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Fm(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const tM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iM={date:Fm({formats:tM,defaultWidth:"full"}),time:Fm({formats:nM,defaultWidth:"full"}),dateTime:Fm({formats:rM,defaultWidth:"full"})},sM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aM=(r,e,t,s)=>sM[r];function Kl(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=t!=null&&t.width?String(t.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const oM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dM=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},mM={ordinalNumber:dM,era:Kl({values:oM,defaultWidth:"wide"}),quarter:Kl({values:lM,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Kl({values:uM,defaultWidth:"wide"}),day:Kl({values:cM,defaultWidth:"wide"}),dayPeriod:Kl({values:hM,defaultWidth:"wide",formattingValues:fM,defaultFormattingWidth:"wide"})};function $l(r){return(e,t={})=>{const s=t.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?gM(m,w=>w.test(f)):pM(m,w=>w.test(f));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const _=e.slice(f.length);return{value:g,rest:_}}}function pM(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function gM(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function yM(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=t.valueCallback?t.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const vM=/^(\d+)(th|st|nd|rd)?/i,_M=/\d+/i,EM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TM={any:[/^b/i,/^(a|c)/i]},bM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wM={any:[/1/i,/2/i,/3/i,/4/i]},SM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DM={ordinalNumber:yM({matchPattern:vM,parsePattern:_M,valueCallback:r=>parseInt(r,10)}),era:$l({matchPatterns:EM,defaultMatchWidth:"wide",parsePatterns:TM,defaultParseWidth:"any"}),quarter:$l({matchPatterns:bM,defaultMatchWidth:"wide",parsePatterns:wM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:$l({matchPatterns:SM,defaultMatchWidth:"wide",parsePatterns:AM,defaultParseWidth:"any"}),day:$l({matchPatterns:RM,defaultMatchWidth:"wide",parsePatterns:IM,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:CM,defaultMatchWidth:"any",parsePatterns:xM,defaultParseWidth:"any"})},NM={code:"en-US",formatDistance:eM,formatLong:iM,formatRelative:aM,localize:mM,match:DM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OM(r,e){const t=fn(r,e==null?void 0:e.in);return KO(t,ZO(t))+1}function MM(r,e){const t=fn(r,e==null?void 0:e.in),s=+Yh(t)-+$O(t);return Math.round(s/Bw)+1}function Hw(r,e){var _,w,b,x;const t=fn(r,e==null?void 0:e.in),s=t.getFullYear(),o=wf(),u=(e==null?void 0:e.firstWeekContainsDate)??((w=(_=e==null?void 0:e.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((x=(b=o.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,f=jn((e==null?void 0:e.in)||r,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=_u(f,e),p=jn((e==null?void 0:e.in)||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=_u(p,e);return+t>=+m?s+1:+t>=+g?s:s-1}function VM(r,e){var m,p,g,_;const t=wf(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((_=(g=t.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??1,o=Hw(r,e),u=jn((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),_u(u,e)}function kM(r,e){const t=fn(r,e==null?void 0:e.in),s=+_u(t,e)-+VM(t,e);return Math.round(s/Bw)+1}function Ke(r,e){const t=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return t+s}const qi={y(r,e){const t=r.getFullYear(),s=t>0?t:1-t;return Ke(e==="yy"?s%100:s,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Ke(t+1,2)},d(r,e){return Ke(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Ke(r.getHours()%12||12,e.length)},H(r,e){return Ke(r.getHours(),e.length)},m(r,e){return Ke(r.getMinutes(),e.length)},s(r,e){return Ke(r.getSeconds(),e.length)},S(r,e){const t=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,t-3));return Ke(o,e.length)}},so={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UE={G:function(r,e,t){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return t.ordinalNumber(o,{unit:"year"})}return qi.y(r,e)},Y:function(r,e,t,s){const o=Hw(r,s),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Ke(f,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):Ke(u,e.length)},R:function(r,e){const t=qw(r);return Ke(t,e.length)},u:function(r,e){const t=r.getFullYear();return Ke(t,e.length)},Q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ke(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ke(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,t){const s=r.getMonth();switch(e){case"M":case"MM":return qi.M(r,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,t){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ke(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,t,s){const o=kM(r,s);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Ke(o,e.length)},I:function(r,e,t){const s=MM(r);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):Ke(s,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):qi.d(r,e)},D:function(r,e,t){const s=OM(r);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):Ke(s,e.length)},E:function(r,e,t){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ke(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ke(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ke(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const s=r.getHours();let o;switch(s===12?o=so.noon:s===0?o=so.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const s=r.getHours();let o;switch(s>=17?o=so.evening:s>=12?o=so.afternoon:s>=4?o=so.morning:o=so.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return qi.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):qi.H(r,e)},K:function(r,e,t){const s=r.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):Ke(s,e.length)},k:function(r,e,t){let s=r.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):Ke(s,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):qi.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):qi.s(r,e)},S:function(r,e){return qi.S(r,e)},X:function(r,e,t){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return zE(s);case"XXXX":case"XX":return $s(s);case"XXXXX":case"XXX":default:return $s(s,":")}},x:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"x":return zE(s);case"xxxx":case"xx":return $s(s);case"xxxxx":case"xxx":default:return $s(s,":")}},O:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+jE(s,":");case"OOOO":default:return"GMT"+$s(s,":")}},z:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+jE(s,":");case"zzzz":default:return"GMT"+$s(s,":")}},t:function(r,e,t){const s=Math.trunc(+r/1e3);return Ke(s,e.length)},T:function(r,e,t){return Ke(+r,e.length)}};function jE(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?t+String(o):t+String(o)+e+Ke(u,2)}function zE(r,e){return r%60===0?(r>0?"-":"+")+Ke(Math.abs(r)/60,2):$s(r,e)}function $s(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=Ke(Math.trunc(s/60),2),u=Ke(s%60,2);return t+o+e+u}const BE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Fw=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PM=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],s=t[1],o=t[2];if(!o)return BE(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",BE(s,e)).replace("{{time}}",Fw(o,e))},LM={p:Fw,P:PM},UM=/^D+$/,jM=/^Y+$/,zM=["D","DD","YY","YYYY"];function BM(r){return UM.test(r)}function qM(r){return jM.test(r)}function HM(r,e,t){const s=FM(r,e,t);if(console.warn(s),zM.includes(r))throw new RangeError(s)}function FM(r,e,t){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QM=/^'([^]*?)'?$/,KM=/''/g,$M=/[a-zA-Z]/;function Xl(r,e,t){var _,w,b,x;const s=wf(),o=s.locale??NM,u=s.firstWeekContainsDate??((w=(_=s.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,f=s.weekStartsOn??((x=(b=s.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,m=fn(r,t==null?void 0:t.in);if(!WO(m))throw new RangeError("Invalid time value");let p=e.match(YM).map(D=>{const j=D[0];if(j==="p"||j==="P"){const G=LM[j];return G(D,o.formatLong)}return D}).join("").match(GM).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const j=D[0];if(j==="'")return{isToken:!1,value:XM(D)};if(UE[j])return{isToken:!0,value:D};if(j.match($M))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:D}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(D=>{if(!D.isToken)return D.value;const j=D.value;(qM(j)||BM(j))&&HM(j,e,String(r));const G=UE[j[0]];return G(m,j,o.localize,g)}).join("")}function XM(r){const e=r.match(QM);return e?e[1].replace(KM,"'"):r}const WM=(r,e,t)=>{const s=t.listRevealDateTime.toDate(),o=r.filter(p=>p.registeredAt.toDate()>s),f=r.filter(p=>p.registeredAt.toDate()<=s).map(p=>{var b;const g=e.get(p.uid),_=(b=g==null?void 0:g.attendanceHistory)==null?void 0:b[t.groupId];let w=3;return p.isOrganizer?w=1:_||(w=2),{...p,priority:w,lastAttended:_}}).sort((p,g)=>{var _,w;if(p.priority!==g.priority)return p.priority-g.priority;if(p.priority===3&&g.priority===3){const b=((_=p.lastAttended)==null?void 0:_.toMillis())||0,x=((w=g.lastAttended)==null?void 0:w.toMillis())||0;if(b!==x)return b-x}return p.registeredAt.toMillis()-g.registeredAt.toMillis()}),m=o.map(p=>{var w;const g=e.get(p.uid),_=(w=g==null?void 0:g.attendanceHistory)==null?void 0:w[t.groupId];return{...p,priority:4,lastAttended:_}}).sort((p,g)=>p.registeredAt.toMillis()-g.registeredAt.toMillis());return[...f,...m]},qE=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block text-dark-text-secondary",children:[M.jsx("circle",{cx:"12",cy:"12",r:"10"}),M.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),M.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),ZM=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block",children:[M.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),M.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),JM=({instance:r,userProfile:e})=>{const{user:t}=ha(),[s,o]=z.useState(!1),[u,f]=z.useState([]),[m,p]=z.useState(!1),g=z.useMemo(()=>r.participants.find(H=>H.uid===(t==null?void 0:t.uid)),[r.participants,t]),_=z.useMemo(()=>{const H=new Date;return r.registrationOpenDateTime.toDate()<=H&&r.eventStartDateTime.toDate()>H},[r.registrationOpenDateTime,r.eventStartDateTime]),w=z.useMemo(()=>r.listRevealDateTime.toDate()<=new Date,[r.listRevealDateTime]),b=z.useMemo(()=>u.slice(0,r.spots),[u,r.spots]),x=z.useMemo(()=>u.slice(r.spots),[u,r.spots]);z.useEffect(()=>{(async()=>{if(r.participants.length===0){f([]);return}const $=r.participants.map(me=>me.uid),ne=new Map;e&&ne.set(e.uid,e);const ce=$.filter(me=>!ne.has(me));if(ce.length>0){const me=Ag(po(yr,"users"),Iw("uid","in",ce));(await FN(me)).forEach(A=>{ne.set(A.id,A.data())})}const he=WM(r.participants,ne,r);f(he)})()},[r,e]);const D=async()=>{if(!t||!e)return;o(!0);const H=document.getElementById("organizer-checkbox")?document.getElementById("organizer-checkbox").checked:!1,$={uid:t.uid,displayName:t.displayName||"Googler",photoURL:t.photoURL||"",isOrganizer:H,registeredAt:je.now()};try{const ne=vu(yr,"eventInstances",r.id);await ME(ne,{participants:YN($)}),an.success("You're on the list!")}catch(ne){console.error(ne),an.error("Failed to register.")}finally{o(!1),p(!1)}},j=async()=>{if(!(!t||!g)){o(!0);try{const H=vu(yr,"eventInstances",r.id);await ME(H,{participants:QN(g)}),an.success("You have resigned from the event.")}catch(H){console.error(H),an.error("Failed to resign.")}finally{o(!1)}}},G=(H,$)=>M.jsxs("li",{className:"flex items-center gap-3 py-2",children:[M.jsxs("span",{className:"font-mono text-dark-text-secondary w-6 text-right",children:[$+1,"."]}),M.jsx("img",{src:H.photoURL,alt:H.displayName,className:"w-8 h-8 rounded-full"}),M.jsx("span",{className:"flex-grow",children:H.displayName}),H.isOrganizer&&M.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},H.uid);return M.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-lg p-6 flex flex-col md:flex-row gap-6",children:[M.jsxs("div",{className:"md:w-1/3 border-b md:border-b-0 md:border-r border-dark-border pb-6 md:pb-0 md:pr-6",children:[M.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.title}),M.jsx("p",{className:"text-lg font-semibold text-primary",children:Xl(r.eventStartDateTime.toDate(),"eeee, MMMM d, yyyy")}),M.jsx("p",{className:"text-md text-dark-text-secondary mb-4",children:Xl(r.eventStartDateTime.toDate(),"p")}),M.jsx("p",{className:"text-sm text-dark-text-secondary mb-4",children:r.description}),r.location&&M.jsx("a",{href:r.location,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Location"}),M.jsxs("div",{className:"mt-4 text-sm text-dark-text-secondary space-y-2",children:[M.jsxs("p",{children:[M.jsx(qE,{})," Registration opened: ",Xl(r.registrationOpenDateTime.toDate(),"PP p")]}),M.jsxs("p",{children:[M.jsx(qE,{})," List reveals: ",Xl(r.listRevealDateTime.toDate(),"PP p")]})]})]}),M.jsxs("div",{className:"md:w-2/3",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold",children:[M.jsx(ZM,{})," Participants",M.jsxs("span",{className:"text-dark-text-secondary text-lg",children:["(",r.participants.length," / ",r.spots,")"]})]}),_&&(g?M.jsx(ri,{variant:"danger",onClick:j,isLoading:s,children:"Resign"}):M.jsxs("div",{className:"flex gap-2 items-center",children:[m&&M.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[M.jsx("input",{id:"organizer-checkbox",type:"checkbox",className:"form-checkbox bg-dark-bg border-dark-border text-primary focus:ring-primary"}),M.jsx("span",{children:"Organizer?"})]}),M.jsx(ri,{variant:"secondary",onClick:()=>m?D():p(!0),isLoading:s,children:m?"Confirm Registration":"Register"})]}))]}),w?M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[M.jsxs("div",{children:[M.jsxs("h4",{className:"font-bold text-secondary mb-2",children:[" Confirmed List (",b.length,"/",r.spots,")"]}),M.jsx("ul",{className:"divide-y divide-dark-border",children:b.map(G)})]}),M.jsxs("div",{children:[M.jsxs("h4",{className:"font-bold text-warning mb-2",children:[" Waiting List (",x.length,")"]}),x.length>0?M.jsx("ul",{className:"divide-y divide-dark-border",children:x.map((H,$)=>G(H,$+r.spots))}):M.jsx("p",{className:"text-sm text-dark-text-secondary italic",children:"Waiting list is empty."})]})]}):M.jsxs("div",{children:[M.jsxs("p",{className:"text-center text-dark-text-secondary bg-dark-bg p-4 rounded-md",children:["The participant list will be sorted and revealed on ",M.jsx("br",{}),M.jsx("span",{className:"font-semibold text-dark-text",children:Xl(r.listRevealDateTime.toDate(),"MMMM d, yyyy 'at' p")})]}),M.jsxs("h4",{className:"font-bold text-white mt-4 mb-2",children:["Registered (",r.participants.length,")"]}),M.jsx("ul",{className:"divide-y divide-dark-border max-h-48 overflow-y-auto",children:r.participants.map((H,$)=>M.jsxs("li",{className:"flex items-center gap-3 py-2",children:[M.jsx("img",{src:H.photoURL,alt:H.displayName,className:"w-8 h-8 rounded-full"}),M.jsx("span",{children:H.displayName}),H.isOrganizer&&M.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},H.uid))})]})]})]})},e4=()=>{const{groupId:r}=iA(),{user:e,userProfile:t}=ha(),[s,o]=z.useState(null),[u,f]=z.useState([]),[m,p]=z.useState(!0),[g,_]=z.useState(!1),[w,b]=z.useState(!1),x=(s==null?void 0:s.ownerUids.includes((e==null?void 0:e.uid)||""))||!1;z.useEffect(()=>{if(!r)return;(async()=>{const $=vu(yr,"groups",r),ne=await Dw($);ne.exists()?o({id:ne.id,...ne.data()}):an.error("Group not found.")})();const G=Ag(po(yr,"eventInstances"),Iw("groupId","==",r),BN("eventStartDateTime","asc")),H=Nw(G,$=>{const ne=[];$.forEach(ce=>{ne.push({id:ce.id,...ce.data()})}),f(ne),p(!1)},$=>{console.error("Error fetching events: ",$),an.error("Failed to load events."),p(!1)});return()=>H()},[r]);const D=async j=>{if(j.preventDefault(),!r||!x)return;b(!0);const G=new FormData(j.currentTarget),H=Object.fromEntries(G.entries());try{const $=new Date(`${H.eventStartDate}T${H.eventStartTime}`),ne=new Date(`${H.regOpenDate}T${H.regOpenTime}`),ce=new Date(`${H.revealDate}T${H.revealTime}`),he=new Date(H.recurrenceEndDate),me={groupId:r,title:H.title,description:H.description,location:H.location,spots:Number(H.spots),eventStartDateTime:je.fromDate($),registrationOpenDateTime:je.fromDate(ne),listRevealDateTime:je.fromDate(ce),recurrence:{type:H.recurrenceType,value:Number(H.recurrenceValue)},recurrenceEndDate:je.fromDate(he)},k=await _p(po(yr,"events"),{...me,createdAt:Mw()});let A=$,R=ne,O=ce;for(;A<=he;){const P={eventId:k.id,groupId:r,title:me.title,description:me.description,location:me.location,spots:me.spots,eventStartDateTime:je.fromDate(A),registrationOpenDateTime:je.fromDate(R),listRevealDateTime:je.fromDate(O),participants:[]};await _p(po(yr,"eventInstances"),P);const U={[me.recurrence.type]:me.recurrence.value};A=Hm(A,U),R=Hm(R,U),O=Hm(O,U)}an.success("Recurring event created successfully!"),_(!1)}catch($){console.error("Error creating event:",$),an.error("Failed to create event.")}finally{b(!1)}};return m?M.jsx("div",{className:"flex justify-center items-center h-64",children:M.jsx(Ng,{})}):M.jsxs("div",{children:[M.jsxs("div",{className:"mb-8",children:[M.jsx($h,{to:"/",className:"text-primary hover:underline",children:" Back to Groups"}),M.jsxs("div",{className:"flex justify-between items-center mt-4",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-4xl font-bold",children:s==null?void 0:s.name}),M.jsx("p",{className:"text-dark-text-secondary mt-1",children:s==null?void 0:s.description})]}),x&&M.jsx(ri,{onClick:()=>_(!0),children:"Create New Event"})]})]}),M.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upcoming Events"}),M.jsx("div",{className:"space-y-6",children:u.length>0?u.map(j=>M.jsx(JM,{instance:j,userProfile:t},j.id)):M.jsxs("div",{className:"text-center py-10 bg-dark-surface rounded-lg",children:[M.jsx("p",{className:"text-dark-text-secondary",children:"No upcoming events scheduled for this group."}),x&&M.jsx("p",{className:"mt-2 text-sm text-dark-text-secondary",children:'Click "Create New Event" to get started.'})]})}),x&&M.jsx(zw,{isOpen:g,onClose:()=>_(!1),title:"Create New Recurring Event",children:M.jsxs("form",{onSubmit:D,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[M.jsx("input",{name:"title",placeholder:"Event Title",required:!0,className:"input-style"}),M.jsx("textarea",{name:"description",placeholder:"Event Description",required:!0,className:"input-style",rows:3}),M.jsx("input",{name:"location",placeholder:"Location (e.g., Google Maps Link)",required:!0,className:"input-style"}),M.jsx("input",{name:"spots",type:"number",placeholder:"Available Spots",required:!0,min:"1",className:"input-style"}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"First Event Date"}),M.jsx("input",{name:"eventStartDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Event Time"}),M.jsx("input",{name:"eventStartTime",type:"time",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Registration Open Date"}),M.jsx("input",{name:"regOpenDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Registration Open Time"}),M.jsx("input",{name:"regOpenTime",type:"time",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"List Reveal Date"}),M.jsx("input",{name:"revealDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"List Reveal Time"}),M.jsx("input",{name:"revealTime",type:"time",required:!0,className:"input-style"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Recurrence"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{children:"Every"}),M.jsx("input",{name:"recurrenceValue",type:"number",min:"1",defaultValue:"1",required:!0,className:"input-style w-20"}),M.jsxs("select",{name:"recurrenceType",required:!0,className:"input-style",children:[M.jsx("option",{value:"days",children:"Day(s)"}),M.jsx("option",{value:"weeks",children:"Week(s)"}),M.jsx("option",{value:"months",children:"Month(s)"})]})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"label-style",children:"Recurrence End Date"}),M.jsx("input",{name:"recurrenceEndDate",type:"date",required:!0,className:"input-style"})]}),M.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[M.jsx(ri,{type:"button",variant:"ghost",onClick:()=>_(!1),children:"Cancel"}),M.jsx(ri,{type:"submit",isLoading:w,children:"Create Events"})]}),M.jsx("style",{children:`
                        .input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                        .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }
                    `})]})})]})},t4=()=>{const{user:r,userProfile:e}=ha(),t=Tu(),s=async()=>{try{await SC(Dg),an.success("Signed out successfully"),t("/login")}catch(o){console.error("Error signing out: ",o),an.error("Failed to sign out")}};return M.jsx("nav",{className:"bg-dark-surface shadow-md",children:M.jsx("div",{className:"container mx-auto px-4",children:M.jsxs("div",{className:"flex justify-between items-center py-3",children:[M.jsx($h,{to:"/",className:"text-xl font-bold text-primary flex items-center gap-2",children:" FairPlay Scheduler"}),r&&e&&M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-8 h-8 rounded-full"}),M.jsx("span",{className:"text-sm font-medium text-dark-text-secondary hidden sm:block",children:e.displayName})]}),M.jsx("button",{onClick:s,className:"bg-danger text-white px-3 py-1.5 rounded-md text-sm font-semibold hover:bg-red-600 transition-colors",children:"Logout"})]})]})})})},HE=({children:r})=>M.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[M.jsx(t4,{}),M.jsx("main",{className:"container mx-auto px-4 py-8",children:r})]}),FE=({children:r})=>{var s;const{user:e,loading:t}=ha();return t?M.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-dark-bg",children:M.jsx(Ng,{})}):e?(s=e.email)!=null&&s.endsWith("@google.com")?M.jsx(M.Fragment,{children:r}):M.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-dark-bg text-red-500",children:[M.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),M.jsx("p",{children:"This application is restricted to @google.com users only."}),M.jsx("p",{children:"Please sign in with a valid Google corporate account."})]}):M.jsx(tT,{to:"/login",replace:!0})},n4=()=>{z.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const{user:r,loading:e}=ha();return M.jsx(HA,{children:M.jsxs(_A,{children:[M.jsx(Wl,{path:"/login",element:M.jsx(BO,{})}),M.jsx(Wl,{path:"/",element:M.jsx(FE,{children:M.jsx(HE,{children:M.jsx(qO,{})})})}),M.jsx(Wl,{path:"/group/:groupId",element:M.jsx(FE,{children:M.jsx(HE,{children:M.jsx(e4,{})})})}),M.jsx(Wl,{path:"*",element:M.jsx(tT,{to:r&&!e?"/":"/login"})})]})})},Gw=document.getElementById("root");if(!Gw)throw new Error("Could not find root element to mount to");const r4=IS.createRoot(Gw);r4.render(M.jsx(_S.StrictMode,{children:M.jsxs(XN,{children:[M.jsx(n4,{}),M.jsx(zO,{position:"bottom-right",toastOptions:{className:"dark:bg-dark-surface dark:text-dark-text",style:{background:"#333",color:"#fff"}}})]})}));
