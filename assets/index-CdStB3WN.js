(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function zE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function pS(){if(P_)return Hl;P_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=t,Hl.jsxs=t,Hl}var L_;function gS(){return L_||(L_=1,bm.exports=pS()),bm.exports}var D=gS(),wm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function yS(){if(U_)return Re;U_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function F(V,ne,le){this.props=V,this.context=ne,this.refs=z,this.updater=le||O}F.prototype.isReactComponent={},F.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function W(V,ne,le){this.props=V,this.context=ne,this.refs=z,this.updater=le||O}var re=W.prototype=new Y;re.constructor=W,N(re,F.prototype),re.isPureReactComponent=!0;var fe=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function M(V,ne,le,ie,ye,xe){return le=xe.ref,{$$typeof:r,type:V,key:ne,ref:le!==void 0?le:null,props:xe}}function A(V,ne){return M(V.type,ne,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function x(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return ne[le]})}var P=/\/+/g;function L(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):ne.toString(36)}function C(){}function dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function rt(V,ne,le,ie,ye){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case r:case e:we=!0;break;case E:return we=V._init,rt(we(V._payload),ne,le,ie,ye)}}if(we)return ye=ye(V),we=ie===""?"."+L(V,0):ie,fe(ye)?(le="",we!=null&&(le=we.replace(P,"$&/")+"/"),rt(ye,ne,le,"",function(Jn){return Jn})):ye!=null&&(R(ye)&&(ye=A(ye,le+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+we)),ne.push(ye)),1;we=0;var Nt=ie===""?".":ie+":";if(fe(V))for(var et=0;et<V.length;et++)ie=V[et],xe=Nt+L(ie,et),we+=rt(ie,ne,le,xe,ye);else if(et=b(V),typeof et=="function")for(V=et.call(V),et=0;!(ie=V.next()).done;)ie=ie.value,xe=Nt+L(ie,et++),we+=rt(ie,ne,le,xe,ye);else if(xe==="object"){if(typeof V.then=="function")return rt(dt(V),ne,le,ie,ye);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(V,ne,le){if(V==null)return V;var ie=[],ye=0;return rt(V,ie,"","",function(xe){return ne.call(le,xe,ye++)}),ie}function ae(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Be(){}return Re.Children={map:K,forEach:function(V,ne,le){K(V,function(){ne.apply(this,arguments)},le)},count:function(V){var ne=0;return K(V,function(){ne++}),ne},toArray:function(V){return K(V,function(ne){return ne})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=F,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=W,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return oe.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,ne,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ie=N({},V.props),ye=V.key,xe=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(xe=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!ge.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(ie[we]=ne[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];ie.children=Nt}return M(V.type,ye,void 0,void 0,xe,ie)},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,ne,le){var ie,ye={},xe=null;if(ne!=null)for(ie in ne.key!==void 0&&(xe=""+ne.key),ne)ge.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=ne[ie]);var we=arguments.length-2;if(we===1)ye.children=le;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];ye.children=Nt}if(V&&V.defaultProps)for(ie in we=V.defaultProps,we)ye[ie]===void 0&&(ye[ie]=we[ie]);return M(V,xe,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=R,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ae}},Re.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},Re.startTransition=function(V){var ne=oe.T,le={};oe.T=le;try{var ie=V(),ye=oe.S;ye!==null&&ye(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,me)}catch(xe){me(xe)}finally{oe.T=ne}},Re.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Re.use=function(V){return oe.H.use(V)},Re.useActionState=function(V,ne,le){return oe.H.useActionState(V,ne,le)},Re.useCallback=function(V,ne){return oe.H.useCallback(V,ne)},Re.useContext=function(V){return oe.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,ne){return oe.H.useDeferredValue(V,ne)},Re.useEffect=function(V,ne,le){var ie=oe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(V,ne)},Re.useId=function(){return oe.H.useId()},Re.useImperativeHandle=function(V,ne,le){return oe.H.useImperativeHandle(V,ne,le)},Re.useInsertionEffect=function(V,ne){return oe.H.useInsertionEffect(V,ne)},Re.useLayoutEffect=function(V,ne){return oe.H.useLayoutEffect(V,ne)},Re.useMemo=function(V,ne){return oe.H.useMemo(V,ne)},Re.useOptimistic=function(V,ne){return oe.H.useOptimistic(V,ne)},Re.useReducer=function(V,ne,le){return oe.H.useReducer(V,ne,le)},Re.useRef=function(V){return oe.H.useRef(V)},Re.useState=function(V){return oe.H.useState(V)},Re.useSyncExternalStore=function(V,ne,le){return oe.H.useSyncExternalStore(V,ne,le)},Re.useTransition=function(){return oe.H.useTransition()},Re.version="19.1.0",Re}var j_;function Tp(){return j_||(j_=1,wm.exports=yS()),wm.exports}var j=Tp();const vS=zE(j);var Sm={exports:{}},Fl={},Am={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function _S(){return z_||(z_=1,function(r){function e(K,ae){var me=K.length;K.push(ae);e:for(;0<me;){var Be=me-1>>>1,V=K[Be];if(0<o(V,ae))K[Be]=ae,K[me]=V,me=Be;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],me=K.pop();if(me!==ae){K[0]=me;e:for(var Be=0,V=K.length,ne=V>>>1;Be<ne;){var le=2*(Be+1)-1,ie=K[le],ye=le+1,xe=K[ye];if(0>o(ie,me))ye<V&&0>o(xe,ie)?(K[Be]=xe,K[ye]=me,Be=ye):(K[Be]=ie,K[le]=me,Be=le);else if(ye<V&&0>o(xe,me))K[Be]=xe,K[ye]=me,Be=ye;else break e}}return ae}function o(K,ae){var me=K.sortIndex-ae.sortIndex;return me!==0?me:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,b=3,O=!1,N=!1,z=!1,F=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function fe(K){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=K)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function oe(K){if(z=!1,fe(K),!N)if(t(p)!==null)N=!0,ge||(ge=!0,L());else{var ae=t(g);ae!==null&&rt(oe,ae.startTime-K)}}var ge=!1,M=-1,A=5,R=-1;function x(){return F?!0:!(r.unstable_now()-R<A)}function P(){if(F=!1,ge){var K=r.unstable_now();R=K;var ae=!0;try{e:{N=!1,z&&(z=!1,W(M),M=-1),O=!0;var me=b;try{t:{for(fe(K),w=t(p);w!==null&&!(w.expirationTime>K&&x());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,b=w.priorityLevel;var V=Be(w.expirationTime<=K);if(K=r.unstable_now(),typeof V=="function"){w.callback=V,fe(K),ae=!0;break t}w===t(p)&&s(p),fe(K)}else s(p);w=t(p)}if(w!==null)ae=!0;else{var ne=t(g);ne!==null&&rt(oe,ne.startTime-K),ae=!1}}break e}finally{w=null,b=me,O=!1}ae=void 0}}finally{ae?L():ge=!1}}}var L;if(typeof re=="function")L=function(){re(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,dt=C.port2;C.port1.onmessage=P,L=function(){dt.postMessage(null)}}else L=function(){Y(P,0)};function rt(K,ae){M=Y(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var me=b;b=ae;try{return K()}finally{b=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=b;b=K;try{return ae()}finally{b=me}},r.unstable_scheduleCallback=function(K,ae,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=me+V,K={id:E++,callback:ae,priorityLevel:K,startTime:me,expirationTime:V,sortIndex:-1},me>Be?(K.sortIndex=me,e(g,K),t(p)===null&&K===t(g)&&(z?(W(M),M=-1):z=!0,rt(oe,me-Be))):(K.sortIndex=V,e(p,K),N||O||(N=!0,ge||(ge=!0,L()))),K},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(K){var ae=b;return function(){var me=b;b=ae;try{return K.apply(this,arguments)}finally{b=me}}}}(Rm)),Rm}var B_;function ES(){return B_||(B_=1,Am.exports=_S()),Am.exports}var Im={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function TS(){if(q_)return Kt;q_=1;var r=Tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Kt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var H_;function bS(){if(H_)return Im.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=TS(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function wS(){if(F_)return Fl;F_=1;var r=ES(),e=Tp(),t=bS();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function dt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case F:return"Profiler";case z:return"StrictMode";case oe:return"Suspense";case ge:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case re:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case fe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:dt(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return dt(n(i))}catch{}}return null}var rt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],V=-1;function ne(n){return{current:n}}function le(n){0>V||(n.current=Be[V],Be[V]=null,V--)}function ie(n,i){V++,Be[V]=n.current,n.current=i}var ye=ne(null),xe=ne(null),we=ne(null),Nt=ne(null);function et(n,i){switch(ie(we,i),ie(xe,n),ie(ye,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?c_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=c_(i),n=h_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ye),ie(ye,n)}function Jn(){le(ye),le(xe),le(we)}function hi(n){n.memoizedState!==null&&ie(Nt,n);var i=ye.current,a=h_(i,n.type);i!==a&&(ie(xe,n),ie(ye,a))}function Sr(n){xe.current===n&&(le(ye),le(xe)),Nt.current===n&&(le(Nt),Ul._currentValue=me)}var us=Object.prototype.hasOwnProperty,cs=r.unstable_scheduleCallback,hs=r.unstable_cancelCallback,ko=r.unstable_shouldYield,Vu=r.unstable_requestPaint,wn=r.unstable_now,bf=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,fa=r.unstable_UserBlockingPriority,fs=r.unstable_NormalPriority,wf=r.unstable_LowPriority,da=r.unstable_IdlePriority,Lo=r.log,ku=r.unstable_setDisableYieldValue,ut=null,Ge=null;function dn(n){if(typeof Lo=="function"&&ku(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,n)}catch{}}var Qt=Math.clz32?Math.clz32:ds,Pu=Math.log,Sf=Math.LN2;function ds(n){return n>>>=0,n===0?32:31-(Pu(n)/Sf|0)|0}var ms=256,ps=4194304;function jn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ma(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=jn(l):(_&=T,_!==0?h=jn(_):a||(a=T&~n,a!==0&&(h=jn(a))))):(T=l&~d,T!==0?h=jn(T):_!==0?h=jn(_):a||(a=l&~n,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function gs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Uo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var n=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),n}function zo(){var n=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),n}function Ar(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Rr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bo(n,i,a,l,h,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,H=n.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Qt(a),ee=1<<X;T[X]=0,I[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&er(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function er(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Qt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function qo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function fi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function di(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:D_(n.type))}function Lu(n,i){var a=ae.p;try{return ae.p=n,i()}finally{ae.p=a}}var it=Math.random().toString(36).slice(2),At="__reactFiber$"+it,vt="__reactProps$"+it,Sn="__reactContainer$"+it,Ho="__reactEvents$"+it,Af="__reactListeners$"+it,mi="__reactHandles$"+it,Uu="__reactResources$"+it,ys="__reactMarker$"+it;function pi(n){delete n[At],delete n[vt],delete n[Ho],delete n[Af],delete n[mi]}function Ir(n){var i=n[At];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Sn]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=p_(n);n!==null;){if(a=n[At])return a;n=p_(n)}return i}n=a,a=n.parentNode}return null}function tr(n){if(n=n[At]||n[Sn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function nr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function en(n){var i=n[Uu];return i||(i=n[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(n){n[ys]=!0}var Fo=new Set,ga={};function zn(n,i){Cr(n,i),Cr(n+"Capture",i)}function Cr(n,i){for(ga[n]=i,n=0;n<i.length;n++)Fo.add(i[n])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},vs={};function Bu(n){return us.call(vs,n)?!0:us.call(zu,n)?!1:ju.test(n)?vs[n]=!0:(zu[n]=!0,!1)}function gi(n,i,a){if(Bu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function rr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function jt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var _s,qu;function xr(n){if(_s===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_s=i&&i[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+n+qu}var ya=!1;function va(n,i){if(!n||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){G=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var X=`
`+I[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=h);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?xr(a):""}function Go(n){switch(n.tag){case 26:case 27:case 5:return xr(n.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return va(n.type,!1);case 11:return va(n.type.render,!1);case 1:return va(n.type,!0);case 31:return xr("Activity");default:return""}}function _a(n){try{var i="";do i+=Go(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rf(n){var i=Yo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ea(n){n._valueTracker||(n._valueTracker=Rf(n))}function Qo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Yo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Es(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var If=/[\n"\\]/g;function _t(n){return n.replace(If,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(n,i,a,l,h,d,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+tn(i)):n.value!==""+tn(i)&&(n.value=""+tn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?yi(n,_,tn(i)):a!=null?yi(n,_,tn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function Ts(n,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function yi(n,i,a){i==="number"&&Es(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Dr(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Ke(n,i,a){if(i!=null&&(i=""+tn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+tn(a):""}function bs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function An(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||ws.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function $o(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Hu(n,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(n,d,i[d])}function Ko(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return xf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Nr=null;function Rn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Or=null,Mr=null;function Xo(n){var i=tr(n);if(i&&(n=i.stateNode)){var a=n[vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[vt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Qo(l)}break e;case"textarea":Ke(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Dr(n,!!a.multiple,i,!1)}}}var ir=!1;function Fu(n,i,a){if(ir)return n(i,a);ir=!0;try{var l=n(i);return l}finally{if(ir=!1,(Or!==null||Mr!==null)&&(Lc(),Or&&(i=Or,n=Mr,Mr=Or=null,Xo(i),n)))for(i=0;i<n.length;i++)Xo(n[i])}}function Ss(n,i){var a=n.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Bn)try{var As={};Object.defineProperty(As,"passive",{get:function(){In=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{In=!1}var sr=null,vi=null,Vr=null;function Wo(){if(Vr)return Vr;var n,i=vi,a=i.length,l,h="value"in sr?sr.value:sr.textContent,d=h.length;for(n=0;n<a&&i[n]===h[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Vr=h.slice(n,1<l?1-l:void 0)}function ar(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function or(){return!0}function Zo(){return!1}function Ot(n){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Zo,this.isPropagationStopped=Zo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Ot(He),Rs=E({},He,{view:0,detail:0}),Gu=Ot(Rs),wa,Sa,lr,Is=E({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lr&&(lr&&n.type==="mousemove"?(wa=n.screenX-lr.screenX,Sa=n.screenY-lr.screenY):Sa=wa=0,lr=n),wa)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),Cn=Ot(Is),Yu=E({},Is,{dataTransfer:0}),Df=Ot(Yu),Cs=E({},Rs,{relatedTarget:0}),Aa=Ot(Cs),Jo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Ot(Jo),Qu=E({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ia=Ot(Qu),Nf=E({},He,{data:0}),el=Ot(Nf),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ku[n])?!!i[n]:!1}function Ds(){return tl}var Xu=E({},Rs,{key:function(n){if(n.key){var i=xs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ar(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$u[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(n){return n.type==="keypress"?ar(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ar(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ca=Ot(Xu),Wu=E({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Ot(Wu),kr=E({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Zu=Ot(kr),Ju=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Ot(Ju),tc=E({},Is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Ot(tc),nn=E({},He,{newState:0,oldState:0}),nc=Ot(nn),rc=[9,13,27,32],ur=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,v=Bn&&(!ur||c&&8<c&&11>=c),S=" ",B=!1;function $(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ke=!1;function Rt(n,i){switch(n){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return n=i.data,n===S&&B?null:n;default:return null}}function Pe(n,i){if(ke)return n==="compositionend"||!ur&&$(n,i)?(n=Wo(),Vr=vi=sr=null,ke=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Mt[n.type]:i==="textarea"}function Pr(n,i,a,l){Or?Mr?Mr.push(l):Mr=[l]:Or=l,i=Hc(i,"onChange"),0<i.length&&(a=new ba("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var zt=null,cr=null;function rl(n){s_(n,0)}function ic(n){var i=nr(n);if(Qo(i))return n}function Rg(n,i){if(n==="change")return i}var Ig=!1;if(Bn){var Of;if(Bn){var Mf="oninput"in document;if(!Mf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Mf=typeof Cg.oninput=="function"}Of=Mf}else Of=!1;Ig=Of&&(!document.documentMode||9<document.documentMode)}function xg(){zt&&(zt.detachEvent("onpropertychange",Dg),cr=zt=null)}function Dg(n){if(n.propertyName==="value"&&ic(cr)){var i=[];Pr(i,cr,n,Rn(n)),Fu(rl,i)}}function Gw(n,i,a){n==="focusin"?(xg(),zt=i,cr=a,zt.attachEvent("onpropertychange",Dg)):n==="focusout"&&xg()}function Yw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(cr)}function Qw(n,i){if(n==="click")return ic(i)}function $w(n,i){if(n==="input"||n==="change")return ic(i)}function Kw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var pn=typeof Object.is=="function"?Object.is:Kw;function il(n,i){if(pn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!us.call(i,h)||!pn(n[h],i[h]))return!1}return!0}function Ng(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Og(n,i){var a=Ng(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Mg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Mg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Vg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Es(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Es(n.document)}return i}function Vf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Xw=Bn&&"documentMode"in document&&11>=document.documentMode,Da=null,kf=null,sl=null,Pf=!1;function kg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||Da==null||Da!==Es(l)||(l=Da,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Hc(kf,"onSelect"),0<l.length&&(i=new ba("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Da)))}function Ns(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Na={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Lf={},Pg={};Bn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Os(n){if(Lf[n])return Lf[n];if(!Na[n])return n;var i=Na[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pg)return Lf[n]=i[a];return n}var Lg=Os("animationend"),Ug=Os("animationiteration"),jg=Os("animationstart"),Ww=Os("transitionrun"),Zw=Os("transitionstart"),Jw=Os("transitioncancel"),zg=Os("transitionend"),Bg=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function qn(n,i){Bg.set(n,i),zn(i,[n])}var qg=new WeakMap;function xn(n,i){if(typeof n=="object"&&n!==null){var a=qg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:_a(i)},qg.set(n,i),i)}return{value:n,source:i,stack:_a(i)}}var Dn=[],Oa=0,jf=0;function sc(){for(var n=Oa,i=jf=Oa=0;i<n;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function ac(n,i,a,l){Dn[Oa++]=n,Dn[Oa++]=i,Dn[Oa++]=a,Dn[Oa++]=l,jf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function zf(n,i,a,l){return ac(n,i,a,l),oc(n)}function Ma(n,i){return ac(n,null,null,i),oc(n)}function Hg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&i!==null&&(h=31-Qt(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(n){if(50<Dl)throw Dl=0,Yd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Va={};function e1(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,i,a,l){return new e1(n,i,a,l)}function Bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Lr(n,i){var a=n.alternate;return a===null?(a=gn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Fg(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lc(n,i,a,l,h,d){var _=0;if(l=n,typeof n=="function")Bf(n)&&(_=1);else if(typeof n=="string")_=nS(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=gn(31,a,i,h),n.elementType=R,n.lanes=d,n;case N:return Ms(a.children,h,d,i);case z:_=8,h|=24;break;case F:return n=gn(12,a,i,h|2),n.elementType=F,n.lanes=d,n;case oe:return n=gn(13,a,i,h),n.elementType=oe,n.lanes=d,n;case ge:return n=gn(19,a,i,h),n.elementType=ge,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case re:_=10;break e;case W:_=9;break e;case fe:_=11;break e;case M:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=gn(_,a,i,h),i.elementType=n,i.type=l,i.lanes=d,i}function Ms(n,i,a,l){return n=gn(7,n,l,i),n.lanes=a,n}function qf(n,i,a){return n=gn(6,n,null,i),n.lanes=a,n}function Hf(n,i,a){return i=gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ka=[],Pa=0,uc=null,cc=0,Nn=[],On=0,Vs=null,Ur=1,jr="";function ks(n,i){ka[Pa++]=cc,ka[Pa++]=uc,uc=n,cc=i}function Gg(n,i,a){Nn[On++]=Ur,Nn[On++]=jr,Nn[On++]=Vs,Vs=n;var l=Ur;n=jr;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ur=1<<32-Qt(i)+h|a<<h|l,jr=d+n}else Ur=1<<d|a<<h|l,jr=n}function Ff(n){n.return!==null&&(ks(n,1),Gg(n,1,0))}function Gf(n){for(;n===uc;)uc=ka[--Pa],ka[Pa]=null,cc=ka[--Pa],ka[Pa]=null;for(;n===Vs;)Vs=Nn[--On],Nn[On]=null,jr=Nn[--On],Nn[On]=null,Ur=Nn[--On],Nn[On]=null}var rn=null,ct=null,qe=!1,Ps=null,hr=!1,Yf=Error(s(519));function Ls(n){var i=Error(s(418,""));throw ll(xn(i,n)),Yf}function Yg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[At]=n,i[vt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Oe(Ol[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Ts(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),bs(i,l.value,l.defaultValue,l.children),Ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||u_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||Ls(n)}function Qg(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:rn=rn.return}}function al(n){if(n!==rn)return!1;if(!qe)return Qg(n),qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||lm(n.type,n.memoizedProps)),a=!a),a&&ct&&Ls(n),Qg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ct=Fn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ct=null}}else i===27?(i=ct,Vi(n.type)?(n=fm,fm=null,ct=n):ct=i):ct=rn?Fn(n.stateNode.nextSibling):null;return!0}function ol(){ct=rn=null,qe=!1}function $g(){var n=Ps;return n!==null&&(un===null?un=n:un.push.apply(un,n),Ps=null),n}function ll(n){Ps===null?Ps=[n]:Ps.push(n)}var Qf=ne(null),Us=null,zr=null;function _i(n,i,a){ie(Qf,i._currentValue),i._currentValue=a}function Br(n){n._currentValue=Qf.current,le(Qf)}function $f(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Kf(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),$f(d.return,a,n),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),$f(_,a,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ul(n,i,a,l){n=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(h===Nt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ul):n=[Ul])}h=h.return}n!==null&&Kf(i,n,a,l),i.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function js(n){Us=n,zr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return Kg(Us,n)}function fc(n,i){return Us===null&&js(n),Kg(n,i)}function Kg(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zr===null){if(n===null)throw Error(s(308));zr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else zr=zr.next=i;return a}var t1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},n1=r.unstable_scheduleCallback,r1=r.unstable_NormalPriority,Ct={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new t1,data:new Map,refCount:0}}function cl(n){n.refCount--,n.refCount===0&&n1(r1,function(){n.controller.abort()})}var hl=null,Wf=0,La=0,Ua=null;function i1(n,i){if(hl===null){var a=hl=[];Wf=0,La=Jd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,i.then(Xg,Xg),i}function Xg(){if(--Wf===0&&hl!==null){Ua!==null&&(Ua.status="fulfilled");var n=hl;hl=null,La=0,Ua=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function s1(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=K.S;K.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&i1(n,i),Wg!==null&&Wg(n,i)};var zs=ne(null);function Zf(){var n=zs.current;return n!==null?n:tt.pooledCache}function dc(n,i){i===null?ie(zs,zs.current):ie(zs,i.pool)}function Zg(){var n=Zf();return n===null?null:{parent:Ct._currentValue,pool:n}}var fl=Error(s(460)),Jg=Error(s(474)),mc=Error(s(542)),Jf={then:function(){}};function ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function ty(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(pc,pc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ry(n),n;default:if(typeof i.status=="string")i.then(pc,pc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ry(n),n}throw dl=i,fl}}var dl=null;function ny(){if(dl===null)throw Error(s(459));var n=dl;return dl=null,n}function ry(n){if(n===fl||n===mc)throw Error(s(483))}var Ei=!1;function ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function bi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=oc(n),Hg(n,null,a),i}return ac(n,l,i,a),oc(n)}function ml(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,qo(n,a)}}function nd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var rd=!1;function pl(){if(rd){var n=Ua;if(n!==null)throw n}}function gl(n,i,a,l){rd=!1;var h=n.updateQueue;Ei=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;_=0,X=H=I=null,T=d;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Le&G)===G:(l&G)===G){G!==0&&G===La&&(rd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=n,ve=T;G=i;var Ze=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){ee=Te.call(Ze,ee,G);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,G=typeof Te=="function"?Te.call(Ze,ee,G):Te,G==null)break e;ee=E({},ee,G);break e;case 2:Ei=!0}}G=T.callback,G!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Q,I=ee):X=X.next=Q,_|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Di|=_,n.lanes=_,n.memoizedState=ee}}function iy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function sy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)iy(a[n],i)}var ja=ne(null),gc=ne(0);function ay(n,i){n=$r,ie(gc,n),ie(ja,i),$r=n|i.baseLanes}function id(){ie(gc,$r),ie(ja,ja.current)}function sd(){$r=gc.current,le(ja),le(gc)}var wi=0,Ie=null,Xe=null,Et=null,yc=!1,za=!1,Bs=!1,vc=0,yl=0,Ba=null,a1=0;function pt(){throw Error(s(321))}function ad(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!pn(n[a],i[a]))return!1;return!0}function od(n,i,a,l,h,d){return wi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?Hy:Fy,Bs=!1,d=a(l,h),Bs=!1,za&&(d=ly(i,a,l,h)),oy(n),d}function oy(n){K.H=Sc;var i=Xe!==null&&Xe.next!==null;if(wi=0,Et=Xe=Ie=null,yc=!1,yl=0,Ba=null,i)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&hc(n)&&(Vt=!0))}function ly(n,i,a,l){Ie=n;var h=0;do{if(za&&(Ba=null),yl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,Et=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=d1,d=i(a,l)}while(za);return d}function o1(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?vl(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),i}function ld(){var n=vc!==0;return vc=0,n}function ud(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function cd(n){if(yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yc=!1}wi=0,Et=Xe=Ie=null,za=!1,yl=vc=0,Ba=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=Et===null?Ie.memoizedState:Et.next;if(i!==null)Et=i,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?Ie.memoizedState=Et=n:Et=Et.next=n}return Et}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(n){var i=yl;return yl+=1,Ba===null&&(Ba=[]),n=ty(Ba,n,i),i=Ie,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Hy:Fy),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===re)return $t(n)}throw Error(s(438,String(n)))}function fd(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=x;return i.index++,a}function qr(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=Tt();return dd(i,Xe,n)}function dd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{i=h.next;var T=_=null,I=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Le&ee)===ee:(wi&ee)===ee){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===La&&(X=!0);else if((wi&G)===G){H=H.next,G===La&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ee,_=d):I=I.next=ee,Ie.lanes|=G,Di|=G;ee=H.action,Bs&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else G={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=G,_=d):I=I.next=G,Ie.lanes|=ee,Di|=ee;H=H.next}while(H!==null&&H!==i);if(I===null?_=d:I.next=T,!pn(d,n.memoizedState)&&(Vt=!0,X&&(a=Ua,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function md(n){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=n(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(n,i,a){var l=Ie,h=Tt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Xe||h).memoizedState,a);_&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=fy.bind(null,l,h,n);if(_l(2048,8,T,[n]),h.getSnapshot!==i||_||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,qa(9,Tc(),hy.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(wi&124)!==0||cy(l,i,a)}return a}function cy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=hd(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function hy(n,i,a,l){i.value=a,i.getSnapshot=l,dy(i)&&my(n)}function fy(n,i,a){return a(function(){dy(i)&&my(n)})}function dy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!pn(n,a)}catch{return!0}}function my(n){var i=Ma(n,2);i!==null&&Tn(i,n,2)}function pd(n){var i=on();if(typeof n=="function"){var a=n;if(n=a(),Bs){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:n},i}function py(n,i,a,l){return n.baseState=a,dd(n,Xe,typeof l=="function"?l:qr)}function l1(n,i,a,l,h){if(wc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gy(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),I=K.S;I!==null&&I(_,T),yy(n,i,T)}catch(H){gd(n,i,H)}finally{K.T=d}}else try{d=a(h,l),yy(n,i,d)}catch(H){gd(n,i,H)}}function yy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(n,i,l)},function(l){return gd(n,i,l)}):vy(n,i,a)}function vy(n,i,a){i.status="fulfilled",i.value=a,_y(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,gy(n,a)))}function gd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,_y(i),i=i.next;while(i!==l)}n.action=null}function _y(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ey(n,i){return i}function Ty(n,i){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(qe){if(ct){t:{for(var h=ct,d=hr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Fn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=l,a=zy.bind(null,Ie,l),l.dispatch=a,l=pd(!1),d=Td.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=l1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function by(n){var i=Tt();return wy(i,Xe,n)}function wy(n,i,a){if(i=dd(n,i,Ey)[0],n=Ec(qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(_){throw _===fl?mc:_}else l=i;i=Tt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,qa(9,Tc(),u1.bind(null,h,a),null)),[l,d,n]}function u1(n,i){n.action=i}function Sy(n){var i=Tt(),a=Xe;if(a!==null)return wy(i,a,n);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function qa(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=hd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function Ay(){return Tt().memoizedState}function bc(n,i,a,l){var h=on();l=l===void 0?null:l,Ie.flags|=n,h.memoizedState=qa(1|i,Tc(),a,l)}function _l(n,i,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&ad(l,Xe.memoizedState.deps)?h.memoizedState=qa(i,d,a,l):(Ie.flags|=n,h.memoizedState=qa(1|i,d,a,l))}function Ry(n,i){bc(8390656,8,n,i)}function Iy(n,i){_l(2048,8,n,i)}function Cy(n,i){return _l(4,2,n,i)}function xy(n,i){return _l(4,4,n,i)}function Dy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ny(n,i,a){a=a!=null?a.concat([n]):null,_l(4,4,Dy.bind(null,i,n),a)}function yd(){}function Oy(n,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ad(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function My(n,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ad(i,l[1]))return l[0];if(l=n(),Bs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function vd(n,i,a){return a===void 0||(wi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Pv(),Ie.lanes|=n,Di|=n,a)}function Vy(n,i,a,l){return pn(a,i)?a:ja.current!==null?(n=vd(n,a,l),pn(n,i)||(Vt=!0),n):(wi&42)===0?(Vt=!0,n.memoizedState=a):(n=Pv(),Ie.lanes|=n,Di|=n,i)}function ky(n,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,Td(n,!1,i,a);try{var I=h(),H=K.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=s1(I,l);El(n,i,X,En(n))}else El(n,i,l,En(n))}catch(ee){El(n,i,{then:function(){},status:"rejected",reason:ee},En())}finally{ae.p=d,K.T=_}}function c1(){}function _d(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=Py(n).queue;ky(n,h,i,me,a===null?c1:function(){return Ly(n),a(l)})}function Py(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ly(n){var i=Py(n).next.queue;El(n,i,{},En())}function Ed(){return $t(Ul)}function Uy(){return Tt().memoizedState}function jy(){return Tt().memoizedState}function h1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();n=Ti(a);var l=bi(i,n,a);l!==null&&(Tn(l,i,a),ml(l,i,a)),i={cache:Xf()},n.payload=i;return}i=i.return}}function f1(n,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?By(i,a):(a=zf(n,i,a,l),a!==null&&(Tn(a,n,l),qy(a,i,l)))}function zy(n,i,a){var l=En();El(n,i,a,l)}function El(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))By(i,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return ac(n,i,h,0),tt===null&&sc(),!1}catch{}finally{}if(a=zf(n,i,h,l),a!==null)return Tn(a,n,l),qy(a,i,l),!0}return!1}function Td(n,i,a,l){if(l={lane:2,revertLane:Jd(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(s(479))}else i=zf(n,a,l,2),i!==null&&Tn(i,n,2)}function wc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function By(n,i){za=yc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function qy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,qo(n,a)}}var Sc={readContext:$t,use:_c,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Hy={readContext:$t,use:_c,useCallback:function(n,i){return on().memoizedState=[n,i===void 0?null:i],n},useContext:$t,useEffect:Ry,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,bc(4194308,4,Dy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return bc(4194308,4,n,i)},useInsertionEffect:function(n,i){bc(4,2,n,i)},useMemo:function(n,i){var a=on();i=i===void 0?null:i;var l=n();if(Bs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=on();if(a!==void 0){var h=a(i);if(Bs){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=f1.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=on();return n={current:n},i.memoizedState=n},useState:function(n){n=pd(n);var i=n.queue,a=zy.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(n,i){var a=on();return vd(a,n,i)},useTransition:function(){var n=pd(!1);return n=ky.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,h=on();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Le&124)!==0||cy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ry(fy.bind(null,l,d,n),[n]),l.flags|=2048,qa(9,Tc(),hy.bind(null,l,d,a,i),null),a},useId:function(){var n=on(),i=tt.identifierPrefix;if(qe){var a=jr,l=Ur;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=a1++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Ed,useFormState:Ty,useActionState:Ty,useOptimistic:function(n){var i=on();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Td.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:fd,useCacheRefresh:function(){return on().memoizedState=h1.bind(null,Ie)}},Fy={readContext:$t,use:_c,useCallback:Oy,useContext:$t,useEffect:Iy,useImperativeHandle:Ny,useInsertionEffect:Cy,useLayoutEffect:xy,useMemo:My,useReducer:Ec,useRef:Ay,useState:function(){return Ec(qr)},useDebugValue:yd,useDeferredValue:function(n,i){var a=Tt();return Vy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Ec(qr)[0],i=Tt().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:Ed,useFormState:by,useActionState:by,useOptimistic:function(n,i){var a=Tt();return py(a,Xe,n,i)},useMemoCache:fd,useCacheRefresh:jy},d1={readContext:$t,use:_c,useCallback:Oy,useContext:$t,useEffect:Iy,useImperativeHandle:Ny,useInsertionEffect:Cy,useLayoutEffect:xy,useMemo:My,useReducer:md,useRef:Ay,useState:function(){return md(qr)},useDebugValue:yd,useDeferredValue:function(n,i){var a=Tt();return Xe===null?vd(a,n,i):Vy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=md(qr)[0],i=Tt().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:Ed,useFormState:Sy,useActionState:Sy,useOptimistic:function(n,i){var a=Tt();return Xe!==null?py(a,Xe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:jy},Ha=null,Tl=0;function Ac(n){var i=Tl;return Tl+=1,Ha===null&&(Ha=[]),ty(Ha,n,i)}function bl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rc(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Gy(n){var i=n._init;return i(n._payload)}function Yy(n){function i(U,k){if(n){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!n)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=Lr(U,k),U.index=0,U.sibling=null,U}function d(U,k,q){return U.index=q,n?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,q,Z){return k===null||k.tag!==6?(k=qf(q,U.mode,Z),k.return=U,k):(k=h(k,q),k.return=U,k)}function I(U,k,q,Z){var he=q.type;return he===N?X(U,k,q.props.children,Z,q.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Gy(he)===k.type)?(k=h(k,q.props),bl(k,q),k.return=U,k):(k=lc(q.type,q.key,q.props,null,U.mode,Z),bl(k,q),k.return=U,k)}function H(U,k,q,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Hf(q,U.mode,Z),k.return=U,k):(k=h(k,q.children||[]),k.return=U,k)}function X(U,k,q,Z,he){return k===null||k.tag!==7?(k=Ms(q,U.mode,Z,he),k.return=U,k):(k=h(k,q),k.return=U,k)}function ee(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=qf(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return q=lc(k.type,k.key,k.props,null,U.mode,q),bl(q,k),q.return=U,q;case O:return k=Hf(k,U.mode,q),k.return=U,k;case A:var Z=k._init;return k=Z(k._payload),ee(U,k,q)}if(rt(k)||L(k))return k=Ms(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return ee(U,Ac(k),q);if(k.$$typeof===re)return ee(U,fc(U,k),q);Rc(U,k)}return null}function G(U,k,q,Z){var he=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:T(U,k,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===he?I(U,k,q,Z):null;case O:return q.key===he?H(U,k,q,Z):null;case A:return he=q._init,q=he(q._payload),G(U,k,q,Z)}if(rt(q)||L(q))return he!==null?null:X(U,k,q,Z,null);if(typeof q.then=="function")return G(U,k,Ac(q),Z);if(q.$$typeof===re)return G(U,k,fc(U,q),Z);Rc(U,q)}return null}function Q(U,k,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,T(k,U,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return U=U.get(Z.key===null?q:Z.key)||null,I(k,U,Z,he);case O:return U=U.get(Z.key===null?q:Z.key)||null,H(k,U,Z,he);case A:var De=Z._init;return Z=De(Z._payload),Q(U,k,q,Z,he)}if(rt(Z)||L(Z))return U=U.get(q)||null,X(k,U,Z,he,null);if(typeof Z.then=="function")return Q(U,k,q,Ac(Z),he);if(Z.$$typeof===re)return Q(U,k,q,fc(k,Z),he);Rc(k,Z)}return null}function Te(U,k,q,Z){for(var he=null,De=null,de=k,_e=k=0,Pt=null;de!==null&&_e<q.length;_e++){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var ze=G(U,de,q[_e],Z);if(ze===null){de===null&&(de=Pt);break}n&&de&&ze.alternate===null&&i(U,de),k=d(ze,k,_e),De===null?he=ze:De.sibling=ze,De=ze,de=Pt}if(_e===q.length)return a(U,de),qe&&ks(U,_e),he;if(de===null){for(;_e<q.length;_e++)de=ee(U,q[_e],Z),de!==null&&(k=d(de,k,_e),De===null?he=de:De.sibling=de,De=de);return qe&&ks(U,_e),he}for(de=l(de);_e<q.length;_e++)Pt=Q(de,U,_e,q[_e],Z),Pt!==null&&(n&&Pt.alternate!==null&&de.delete(Pt.key===null?_e:Pt.key),k=d(Pt,k,_e),De===null?he=Pt:De.sibling=Pt,De=Pt);return n&&de.forEach(function(ji){return i(U,ji)}),qe&&ks(U,_e),he}function ve(U,k,q,Z){if(q==null)throw Error(s(151));for(var he=null,De=null,de=k,_e=k=0,Pt=null,ze=q.next();de!==null&&!ze.done;_e++,ze=q.next()){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var ji=G(U,de,ze.value,Z);if(ji===null){de===null&&(de=Pt);break}n&&de&&ji.alternate===null&&i(U,de),k=d(ji,k,_e),De===null?he=ji:De.sibling=ji,De=ji,de=Pt}if(ze.done)return a(U,de),qe&&ks(U,_e),he;if(de===null){for(;!ze.done;_e++,ze=q.next())ze=ee(U,ze.value,Z),ze!==null&&(k=d(ze,k,_e),De===null?he=ze:De.sibling=ze,De=ze);return qe&&ks(U,_e),he}for(de=l(de);!ze.done;_e++,ze=q.next())ze=Q(de,U,_e,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),k=d(ze,k,_e),De===null?he=ze:De.sibling=ze,De=ze);return n&&de.forEach(function(mS){return i(U,mS)}),qe&&ks(U,_e),he}function Ze(U,k,q,Z){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var he=q.key;k!==null;){if(k.key===he){if(he=q.type,he===N){if(k.tag===7){a(U,k.sibling),Z=h(k,q.props.children),Z.return=U,U=Z;break e}}else if(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Gy(he)===k.type){a(U,k.sibling),Z=h(k,q.props),bl(Z,q),Z.return=U,U=Z;break e}a(U,k);break}else i(U,k);k=k.sibling}q.type===N?(Z=Ms(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=lc(q.type,q.key,q.props,null,U.mode,Z),bl(Z,q),Z.return=U,U=Z)}return _(U);case O:e:{for(he=q.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),Z=h(k,q.children||[]),Z.return=U,U=Z;break e}else{a(U,k);break}else i(U,k);k=k.sibling}Z=Hf(q,U.mode,Z),Z.return=U,U=Z}return _(U);case A:return he=q._init,q=he(q._payload),Ze(U,k,q,Z)}if(rt(q))return Te(U,k,q,Z);if(L(q)){if(he=L(q),typeof he!="function")throw Error(s(150));return q=he.call(q),ve(U,k,q,Z)}if(typeof q.then=="function")return Ze(U,k,Ac(q),Z);if(q.$$typeof===re)return Ze(U,k,fc(U,q),Z);Rc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),Z=h(k,q),Z.return=U,U=Z):(a(U,k),Z=qf(q,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,k)}return function(U,k,q,Z){try{Tl=0;var he=Ze(U,k,q,Z);return Ha=null,he}catch(de){if(de===fl||de===mc)throw de;var De=gn(29,de,null,U.mode);return De.lanes=Z,De.return=U,De}finally{}}}var Fa=Yy(!0),Qy=Yy(!1),Mn=ne(null),fr=null;function Si(n){var i=n.alternate;ie(xt,xt.current&1),ie(Mn,n),fr===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(fr=n)}function $y(n){if(n.tag===22){if(ie(xt,xt.current),ie(Mn,n),fr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fr=n)}}else Ai()}function Ai(){ie(xt,xt.current),ie(Mn,Mn.current)}function Hr(n){le(Mn),fr===n&&(fr=null),le(xt)}var xt=ne(0);function Ic(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function bd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var wd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=En(),h=Ti(l);h.payload=i,a!=null&&(h.callback=a),i=bi(n,h,l),i!==null&&(Tn(i,n,l),ml(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=En(),h=Ti(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=bi(n,h,l),i!==null&&(Tn(i,n,l),ml(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=En(),l=Ti(a);l.tag=2,i!=null&&(l.callback=i),i=bi(n,l,a),i!==null&&(Tn(i,n,a),ml(i,n,a))}};function Ky(n,i,a,l,h,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Xy(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&wd.enqueueReplaceState(i,i.state,null)}function qs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wy(n){Cc(n)}function Zy(n){console.error(n)}function Jy(n){Cc(n)}function xc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ev(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sd(n,i,a){return a=Ti(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,i)},a}function tv(n){return n=Ti(n),n.tag=3,n}function nv(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){ev(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){ev(i,a,l),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function m1(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ul(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return fr===null?$d():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Jf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Xd(n,l,h)),!1;case 22:return a.flags|=65536,l===Jf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Xd(n,l,h)),!1}throw Error(s(435,a.tag))}return Xd(n,l,h),$d(),!1}if(qe)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Yf&&(n=Error(s(422),{cause:l}),ll(xn(n,a)))):(l!==Yf&&(i=Error(s(423),{cause:l}),ll(xn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=xn(l,a),h=Sd(n.stateNode,l,h),nd(n,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),xl===null?xl=[d]:xl.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Sd(a.stateNode,l,n),nd(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=tv(h),nv(h,n,a,l),nd(a,h),!1}a=a.return}while(a!==null);return!1}var rv=Error(s(461)),Vt=!1;function Bt(n,i,a,l){i.child=n===null?Qy(i,null,a,l):Fa(i,n.child,a,l)}function iv(n,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return js(i),l=od(n,i,a,_,d,h),T=ld(),n!==null&&!Vt?(ud(n,i,h),Fr(n,i,h)):(qe&&T&&Ff(i),i.flags|=1,Bt(n,i,l,h),i.child)}function sv(n,i,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,av(n,i,d,l,h)):(n=lc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Od(n,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&n.ref===i.ref)return Fr(n,i,h)}return i.flags|=1,n=Lr(d,l),n.ref=i.ref,n.return=i,i.child=n}function av(n,i,a,l,h){if(n!==null){var d=n.memoizedProps;if(il(d,l)&&n.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,Od(n,h))(n.flags&131072)!==0&&(Vt=!0);else return i.lanes=n.lanes,Fr(n,i,h)}return Ad(n,i,a,l,h)}function ov(n,i,a){var l=i.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=i.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return lv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,d!==null?d.cachePool:null),d!==null?ay(i,d):id(),$y(i);else return i.lanes=i.childLanes=536870912,lv(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(i,d.cachePool),ay(i,d),Ai(),i.memoizedState=null):(n!==null&&dc(i,null),id(),Ai());return Bt(n,i,h,a),i.child}function lv(n,i,a,l){var h=Zf();return h=h===null?null:{parent:Ct._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&dc(i,null),id(),$y(i),n!==null&&ul(n,i,l,!0),null}function Dc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Ad(n,i,a,l,h){return js(i),a=od(n,i,a,l,void 0,h),l=ld(),n!==null&&!Vt?(ud(n,i,h),Fr(n,i,h)):(qe&&l&&Ff(i),i.flags|=1,Bt(n,i,a,h),i.child)}function uv(n,i,a,l,h,d){return js(i),i.updateQueue=null,a=ly(i,l,a,h),oy(n),l=ld(),n!==null&&!Vt?(ud(n,i,d),Fr(n,i,d)):(qe&&l&&Ff(i),i.flags|=1,Bt(n,i,a,d),i.child)}function cv(n,i,a,l,h){if(js(i),i.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ed(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):Va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(bd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var T=i.memoizedProps,I=qs(a,T);d.props=I;var H=d.context,X=a.contextType;_=Va,typeof X=="object"&&X!==null&&(_=$t(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&Xy(i,d,l,_),Ei=!1;var G=i.memoizedState;d.state=G,gl(i,l,d,h),pl(),H=i.memoizedState,T||G!==H||Ei?(typeof ee=="function"&&(bd(i,a,ee,l),H=i.memoizedState),(I=Ei||Ky(i,a,I,l,G,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,td(n,i),_=i.memoizedProps,X=qs(a,_),d.props=X,ee=i.pendingProps,G=d.context,H=a.contextType,I=Va,typeof H=="object"&&H!==null&&(I=$t(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==I)&&Xy(i,d,l,I),Ei=!1,G=i.memoizedState,d.state=G,gl(i,l,d,h),pl();var Q=i.memoizedState;_!==ee||G!==Q||Ei||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof T=="function"&&(bd(i,a,T,l),Q=i.memoizedState),(X=Ei||Ky(i,a,X,l,G,Q,I)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Fa(i,n.child,null,h),i.child=Fa(i,null,a,h)):Bt(n,i,a,h),i.memoizedState=d.state,n=i.child):n=Fr(n,i,h),n}function hv(n,i,a,l){return ol(),i.flags|=256,Bt(n,i,a,l),i.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(n){return{baseLanes:n,cachePool:Zg()}}function Cd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Vn),n}function fv(n,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(qe){if(h?Si(i):Ai(),qe){var T=ct,I;if(I=T){e:{for(I=T,T=hr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Fn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:Ur,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,rn=i,ct=null,I=!0):I=!1}I||Ls(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return hm(T)?i.lanes=32:i.lanes=536870912,null;Hr(i)}return T=l.children,l=l.fallback,h?(Ai(),h=i.mode,T=Nc({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Id(a),h.childLanes=Cd(n,_,a),i.memoizedState=Rd,l):(Si(i),xd(i,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Si(i),i.flags&=-257,i=Dd(n,i,a)):i.memoizedState!==null?(Ai(),i.child=n.child,i.flags|=128,i=null):(Ai(),h=l.fallback,T=i.mode,l=Nc({mode:"visible",children:l.children},T),h=Ms(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Fa(i,n.child,null,a),l=i.child,l.memoizedState=Id(a),l.childLanes=Cd(n,_,a),i.memoizedState=Rd,i=h);else if(Si(i),hm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Dd(n,i,a)}else if(Vt||ul(n,i,a,!1),_=(a&n.childLanes)!==0,Vt||_){if(_=tt,_!==null&&(l=a&-a,l=(l&42)!==0?1:fi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ma(n,l),Tn(_,n,l),rv;T.data==="$?"||$d(),i=Dd(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ct=Fn(T.nextSibling),rn=i,qe=!0,Ps=null,hr=!1,n!==null&&(Nn[On++]=Ur,Nn[On++]=jr,Nn[On++]=Vs,Ur=n.id,jr=n.overflow,Vs=i),i=xd(i,l.children),i.flags|=4096);return i}return h?(Ai(),h=l.fallback,T=i.mode,I=n.child,H=I.sibling,l=Lr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Lr(H,h):(h=Ms(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=n.child.memoizedState,T===null?T=Id(a):(I=T.cachePool,I!==null?(H=Ct._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Zg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Cd(n,_,a),i.memoizedState=Rd,l):(Si(i),a=n.child,n=a.sibling,a=Lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function xd(n,i){return i=Nc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nc(n,i){return n=gn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Dd(n,i,a){return Fa(i,n.child,null,a),n=xd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function dv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),$f(n.return,i,a)}function Nd(n,i,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function mv(n,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(n,i,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dv(n,a,i);else if(n.tag===19)dv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(xt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Ic(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Nd(i,!0,a,null,d);break;case"together":Nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Di|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ul(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Lr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Lr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Od(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function p1(n,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),_i(i,Ct,n.memoizedState.cache),ol();break;case 27:case 5:hi(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:_i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(i),i.flags|=128,null):(a&i.child.childLanes)!==0?fv(n,i,a):(Si(i),n=Fr(n,i,a),n!==null?n.sibling:null);Si(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ul(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return mv(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(xt,xt.current),l)break;return null;case 22:case 23:return i.lanes=0,ov(n,i,a);case 24:_i(i,Ct,n.memoizedState.cache)}return Fr(n,i,a)}function pv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Vt=!0;else{if(!Od(n,a)&&(i.flags&128)===0)return Vt=!1,p1(n,i,a);Vt=(n.flags&131072)!==0}else Vt=!1,qe&&(i.flags&1048576)!==0&&Gg(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Bf(l)?(n=qs(l,n),i.tag=1,i=cv(null,i,l,n,a)):(i.tag=0,i=Ad(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=iv(null,i,l,n,a);break e}else if(h===M){i.tag=14,i=sv(null,i,l,n,a);break e}}throw i=dt(l)||l,Error(s(306,i,""))}}return i;case 0:return Ad(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=qs(l,i.pendingProps),cv(n,i,l,h,a);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,td(n,i),gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,_i(i,Ct,l),l!==d.cache&&Kf(i,[Ct],a,!0),pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=hv(n,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),ll(h),i=hv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=Fn(n.firstChild),rn=i,qe=!0,Ps=null,hr=!0,a=Qy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ol(),l===h){i=Fr(n,i,a);break e}Bt(n,i,l,a)}i=i.child}return i;case 26:return Dc(n,i),n===null?(a=__(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,n=i.pendingProps,l=Gc(we.current).createElement(a),l[At]=i,l[vt]=n,Ht(l,a,n),mt(l),i.stateNode=l):i.memoizedState=__(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return hi(i),n===null&&qe&&(l=i.stateNode=g_(i.type,i.pendingProps,we.current),rn=i,hr=!0,h=ct,Vi(i.type)?(fm=h,ct=Fn(l.firstChild)):ct=h),Bt(n,i,i.pendingProps.children,a),Dc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&qe&&((h=l=ct)&&(l=H1(l,i.type,i.pendingProps,hr),l!==null?(i.stateNode=l,rn=i,ct=Fn(l.firstChild),hr=!1,h=!0):h=!1),h||Ls(i)),hi(i),h=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,lm(h,d)?l=null:_!==null&&lm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=od(n,i,o1,null,null,a),Ul._currentValue=h),Dc(n,i),Bt(n,i,l,a),i.child;case 6:return n===null&&qe&&((n=a=ct)&&(a=F1(a,i.pendingProps,hr),a!==null?(i.stateNode=a,rn=i,ct=null,n=!0):n=!1),n||Ls(i)),null;case 13:return fv(n,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Fa(i,null,l,a):Bt(n,i,l,a),i.child;case 11:return iv(n,i,i.type,i.pendingProps,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_i(i,i.type,l.value),Bt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=$t(h),l=l(h),i.flags|=1,Bt(n,i,l,a),i.child;case 14:return sv(n,i,i.type,i.pendingProps,a);case 15:return av(n,i,i.type,i.pendingProps,a);case 19:return mv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Lr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ov(n,i,a);case 24:return js(i),l=$t(Ct),n===null?(h=Zf(),h===null&&(h=tt,d=Xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ed(i),_i(i,Ct,h)):((n.lanes&a)!==0&&(td(n,i),gl(i,null,null,a),pl()),h=n.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_i(i,Ct,l)):(l=d.cache,_i(i,Ct,l),l!==h.cache&&Kf(i,[Ct],a,!0))),Bt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gr(n){n.flags|=4}function gv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!S_(i)){if(i=Mn.current,i!==null&&((Le&4194048)===Le?fr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==fr))throw dl=Jf,Jg;n.flags|=8192}}function Oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?zo():536870912,n.lanes|=i,$a|=i)}function wl(n,i){if(!qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function g1(n,i,a){var l=i.pendingProps;switch(Gf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Br(Ct),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(al(i)?Gr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$g())),ot(i),null;case 26:return a=i.memoizedState,n===null?(Gr(i),a!==null?(ot(i),gv(i,a)):(ot(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Gr(i),ot(i),gv(i,a)):(ot(i),i.flags&=-16777217):(n.memoizedProps!==l&&Gr(i),ot(i),i.flags&=-16777217),null;case 27:Sr(i),a=we.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}n=ye.current,al(i)?Yg(i):(n=g_(h,l,a),i.stateNode=n,Gr(i))}return ot(i),null;case 5:if(Sr(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(n=ye.current,al(i))Yg(i);else{switch(h=Gc(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[At]=i,n[vt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Gr(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Gr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,al(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[At]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u_(n.nodeValue,a)),n||Ls(i)}else n=Gc(n).createTextNode(l),n[At]=i,i.stateNode=n}return ot(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=al(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=$g(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Hr(i),i):(Hr(i),null)}if(Hr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Oc(i,i.updateQueue),ot(i),null;case 4:return Jn(),n===null&&rm(i.stateNode.containerInfo),ot(i),null;case 10:return Br(i.type),ot(i),null;case 19:if(le(xt),h=i.memoizedState,h===null)return ot(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ic(n),d!==null){for(i.flags|=128,wl(h,!1),n=d.updateQueue,i.updateQueue=n,Oc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Fg(a,n),a=a.sibling;return ie(xt,xt.current&1|2),i.child}n=n.sibling}h.tail!==null&&wn()>kc&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Ic(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Oc(i,n),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return ot(i),null}else 2*wn()-h.renderingStartTime>kc&&a!==536870912&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(n=h.last,n!==null?n.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,n=xt.current,ie(xt,l?n&1|2:n&1),i):(ot(i),null);case 22:case 23:return Hr(i),sd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Oc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&le(zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Br(Ct),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function y1(n,i){switch(Gf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Br(Ct),Jn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Sr(i),null;case 13:if(Hr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ol()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(xt),null;case 4:return Jn(),null;case 10:return Br(i.type),null;case 22:case 23:return Hr(i),sd(),n!==null&&le(zs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Br(Ct),null;case 25:return null;default:return null}}function yv(n,i){switch(Gf(i),i.tag){case 3:Br(Ct),Jn();break;case 26:case 27:case 5:Sr(i);break;case 4:Jn();break;case 13:Hr(i);break;case 19:le(xt);break;case 10:Br(i.type);break;case 22:case 23:Hr(i),sd(),n!==null&&le(zs);break;case 24:Br(Ct)}}function Sl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function Ri(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,H=T;try{H()}catch(X){Je(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){Je(i,i.return,X)}}function vv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{sy(i,a)}catch(l){Je(n,n.return,l)}}}function _v(n,i,a){a.props=qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,i,l)}}function Al(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){Je(n,i,h)}}function dr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(n,i,h)}else a.current=null}function Ev(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(n,n.return,h)}}function Md(n,i,a){try{var l=n.stateNode;U1(l,n.type,a,i),l[vt]=i}catch(h){Je(n,n.return,h)}}function Tv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vi(n.type)||n.tag===4}function Vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(kd(n,i,a),n=n.sibling;n!==null;)kd(n,i,a),n=n.sibling}function Mc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Mc(n,i,a),n=n.sibling;n!==null;)Mc(n,i,a),n=n.sibling}function bv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,a),i[At]=n,i[vt]=a}catch(d){Je(n,n.return,d)}}var Yr=!1,gt=!1,Pd=!1,wv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function v1(n,i){if(n=n.containerInfo,am=Wc,n=Vg(n),Vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,H=0,X=0,ee=n,G=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(I=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===n)break t;if(G===a&&++H===h&&(T=_),G===d&&++X===l&&(I=_),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:n,selectionRange:a},Wc=!1,kt=i;kt!==null;)if(i=kt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,kt=n;else for(;kt!==null;){switch(i=kt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=qs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Je(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,kt=n;break}kt=i.return}}function Sv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(n,a),l&4&&Sl(5,a);break;case 1:if(Ii(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=qs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&vv(a),l&512&&Al(a,a.return);break;case 3:if(Ii(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(n,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&bv(a);case 26:case 5:Ii(n,a),i===null&&l&4&&Ev(a),l&512&&Al(a,a.return);break;case 12:Ii(n,a);break;case 13:Ii(n,a),l&4&&Iv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=I1.bind(null,a),G1(n,a))));break;case 22:if(l=a.memoizedState!==null||Yr,!l){i=i!==null&&i.memoizedState!==null||gt,h=Yr;var d=gt;Yr=l,(gt=i)&&!d?Ci(n,a,(a.subtreeFlags&8772)!==0):Ii(n,a),Yr=h,gt=d}break;case 30:break;default:Ii(n,a)}}function Av(n){var i=n.alternate;i!==null&&(n.alternate=null,Av(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&pi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,ln=!1;function Qr(n,i,a){for(a=a.child;a!==null;)Rv(n,i,a),a=a.sibling}function Rv(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:gt||dr(a,i),Qr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||dr(a,i);var l=st,h=ln;Vi(a.type)&&(st=a.stateNode,ln=!1),Qr(n,i,a),Vl(a.stateNode),st=l,ln=h;break;case 5:gt||dr(a,i);case 6:if(l=st,h=ln,st=null,Qr(n,i,a),st=l,ln=h,st!==null)if(ln)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:st!==null&&(ln?(n=st,m_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ql(n)):m_(st,a.stateNode));break;case 4:l=st,h=ln,st=a.stateNode.containerInfo,ln=!0,Qr(n,i,a),st=l,ln=h;break;case 0:case 11:case 14:case 15:gt||Ri(2,a,i),gt||Ri(4,a,i),Qr(n,i,a);break;case 1:gt||(dr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_v(a,i,l)),Qr(n,i,a);break;case 21:Qr(n,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Qr(n,i,a),gt=l;break;default:Qr(n,i,a)}}function Iv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ql(n)}catch(a){Je(i,i.return,a)}}function _1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new wv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new wv),i;default:throw Error(s(435,n.tag))}}function Ld(n,i){var a=_1(n);i.forEach(function(l){var h=C1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){st=T.stateNode,ln=!1;break e}break;case 5:st=T.stateNode,ln=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(st===null)throw Error(s(160));Rv(d,_,h),st=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Cv(i,n),i=i.sibling}var Hn=null;function Cv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(i,n),vn(n),l&4&&(Ri(3,n,n.return),Sl(3,n),Ri(5,n,n.return));break;case 1:yn(i,n),vn(n),l&512&&(gt||a===null||dr(a,a.return)),l&64&&Yr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(yn(i,n),vn(n),l&512&&(gt||a===null||dr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ys]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ht(d,l,a),d[At]=n,mt(d),l=d;break e;case"link":var _=b_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;case"meta":if(_=b_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=n,mt(d),l=d}n.stateNode=l}else w_(h,n.type,n.stateNode);else n.stateNode=T_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?w_(h,n.type,n.stateNode):T_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Md(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(i,n),vn(n),l&512&&(gt||a===null||dr(a,a.return)),a!==null&&l&4&&Md(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,n),vn(n),l&512&&(gt||a===null||dr(a,a.return)),n.flags&32){h=n.stateNode;try{An(h,"")}catch(Q){Je(n,n.return,Q)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Md(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Pd=!0);break;case 6:if(yn(i,n),vn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Q){Je(n,n.return,Q)}}break;case 3:if($c=null,h=Hn,Hn=Yc(i.containerInfo),yn(i,n),Hn=h,vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(i.containerInfo)}catch(Q){Je(n,n.return,Q)}Pd&&(Pd=!1,xv(n));break;case 4:l=Hn,Hn=Yc(n.stateNode.containerInfo),yn(i,n),vn(n),Hn=l;break;case 12:yn(i,n),vn(n);break;case 13:yn(i,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hd=wn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ld(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Yr,X=gt;if(Yr=H||h,gt=X||I,yn(i,n),gt=X,Yr=H,vn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Yr||gt||Hs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){Je(I,I.return,Q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Q){Je(I,I.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ld(n,a))));break;case 19:yn(i,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ld(n,l)));break;case 30:break;case 21:break;default:yn(i,n),vn(n)}}function vn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Tv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Vd(n);Mc(n,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(An(_,""),a.flags&=-33);var T=Vd(n);Mc(n,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Vd(n);kd(n,H,I);break;default:throw Error(s(161))}}catch(X){Je(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function xv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ii(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(n,i.alternate,i),i=i.sibling}function Hs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ri(4,i,i.return),Hs(i);break;case 1:dr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&_v(i,i.return,a),Hs(i);break;case 27:Vl(i.stateNode);case 26:case 5:dr(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}n=n.sibling}}function Ci(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ci(h,d,a),Sl(4,d);break;case 1:if(Ci(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)iy(I[h],T)}catch(H){Je(l,l.return,H)}}a&&_&64&&vv(d),Al(d,d.return);break;case 27:bv(d);case 26:case 5:Ci(h,d,a),a&&l===null&&_&4&&Ev(d),Al(d,d.return);break;case 12:Ci(h,d,a);break;case 13:Ci(h,d,a),a&&_&4&&Iv(h,d);break;case 22:d.memoizedState===null&&Ci(h,d,a),Al(d,d.return);break;case 30:break;default:Ci(h,d,a)}i=i.sibling}}function Ud(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&cl(a))}function jd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&cl(n))}function mr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dv(n,i,a,l),i=i.sibling}function Dv(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mr(n,i,a,l),h&2048&&Sl(9,i);break;case 1:mr(n,i,a,l);break;case 3:mr(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&cl(n)));break;case 12:if(h&2048){mr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else mr(n,i,a,l);break;case 13:mr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?mr(n,i,a,l):Rl(n,i):d._visibility&2?mr(n,i,a,l):(d._visibility|=2,Ga(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Ud(_,i);break;case 24:mr(n,i,a,l),h&2048&&jd(i.alternate,i);break;default:mr(n,i,a,l)}}function Ga(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,_=i,T=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,T,I,h),Sl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ga(d,_,T,I,h):Rl(d,_):(X._visibility|=2,Ga(d,_,T,I,h)),h&&H&2048&&Ud(_.alternate,_);break;case 24:Ga(d,_,T,I,h),h&&H&2048&&jd(_.alternate,_);break;default:Ga(d,_,T,I,h)}i=i.sibling}}function Rl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&Ud(l.alternate,l);break;case 24:Rl(a,l),h&2048&&jd(l.alternate,l);break;default:Rl(a,l)}i=i.sibling}}var Il=8192;function Ya(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 26:Ya(n),n.flags&Il&&n.memoizedState!==null&&iS(Hn,n.memoizedState,n.memoizedProps);break;case 5:Ya(n);break;case 3:case 4:var i=Hn;Hn=Yc(n.stateNode.containerInfo),Ya(n),Hn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ya(n),Il=i):Ya(n));break;default:Ya(n)}}function Ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Cl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Vv(l,n)}Ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mv(n),n=n.sibling}function Mv(n){switch(n.tag){case 0:case 11:case 15:Cl(n),n.flags&2048&&Ri(9,n,n.return);break;case 3:Cl(n);break;case 12:Cl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Vc(n)):Cl(n);break;default:Cl(n)}}function Vc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Vv(l,n)}Ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ri(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}n=n.sibling}}function Vv(n,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Ri(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=n;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(Av(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var E1={getCacheForType:function(n){var i=$t(Ct),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},T1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,Ne=null,Le=0,Qe=0,_n=null,xi=!1,Qa=!1,zd=!1,$r=0,ht=0,Di=0,Fs=0,Bd=0,Vn=0,$a=0,xl=null,un=null,qd=!1,Hd=0,kc=1/0,Pc=null,Ni=null,qt=0,Oi=null,Ka=null,Xa=0,Fd=0,Gd=null,kv=null,Dl=0,Yd=null;function En(){if((Ye&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var n=La;return n!==0?n:Jd()}return di()}function Pv(){Vn===0&&(Vn=(Le&536870912)===0||qe?jo():536870912);var n=Mn.current;return n!==null&&(n.flags|=32),Vn}function Tn(n,i,a){(n===tt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(Wa(n,0),Mi(n,Le,Vn,!1)),Rr(n,a),((Ye&2)===0||n!==tt)&&(n===tt&&((Ye&2)===0&&(Fs|=a),ht===4&&Mi(n,Le,Vn,!1)),pr(n))}function Lv(n,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||gs(n,i),h=l?S1(n,i):Kd(n,i,!0),d=l;do{if(h===0){Qa&&!l&&Mi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!b1(a)){h=Kd(n,i,!1),d=!1;continue}if(h===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;h=xl;var I=T.current.memoizedState.isDehydrated;if(I&&(Wa(T,_).flags|=256),_=Kd(T,_,!1),_!==2){if(zd&&!I){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Wa(n,0),Mi(n,i,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mi(l,i,Vn,!xi);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Hd+300-wn(),10<h)){if(Mi(l,i,Vn,!xi),ma(l,0,!0)!==0)break e;l.timeoutHandle=f_(Uv.bind(null,l,a,un,Pc,qd,i,Vn,Fs,$a,xi,d,2,-0,0),h);break e}Uv(l,a,un,Pc,qd,i,Vn,Fs,$a,xi,d,0,-0,0)}}break}while(!0);pr(n)}function Uv(n,i,a,l,h,d,_,T,I,H,X,ee,G,Q){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:rS},Nv(i),ee=sS(),ee!==null)){n.cancelPendingCommit=ee(Gv.bind(null,n,i,d,a,l,h,_,T,I,X,1,G,Q)),Mi(n,d,_,!H);return}Gv(n,i,d,a,l,h,_,T,I)}function b1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mi(n,i,a,l){i&=~Bd,i&=~Fs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&er(n,a,i)}function Lc(){return(Ye&6)===0?(Nl(0),!1):!0}function Qd(){if(Ne!==null){if(Qe===0)var n=Ne.return;else n=Ne,zr=Us=null,cd(n),Ha=null,Tl=0,n=Ne;for(;n!==null;)yv(n.alternate,n),n=n.return;Ne=null}}function Wa(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,z1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qd(),tt=n,Ne=a=Lr(n.current,null),Le=i,Qe=0,_n=null,xi=!1,Qa=gs(n,i),zd=!1,$a=Vn=Bd=Fs=Di=ht=0,un=xl=null,qd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=n[h],l&=~d}return $r=i,sc(),a}function jv(n,i){Ie=null,K.H=Sc,i===fl||i===mc?(i=ny(),Qe=3):i===Jg?(i=ny(),Qe=4):Qe=i===rv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Ne===null&&(ht=1,xc(n,xn(i,n.current)))}function zv(){var n=K.H;return K.H=Sc,n===null?Sc:n}function Bv(){var n=K.A;return K.A=E1,n}function $d(){ht=4,xi||(Le&4194048)!==Le&&Mn.current!==null||(Qa=!0),(Di&134217727)===0&&(Fs&134217727)===0||tt===null||Mi(tt,Le,Vn,!1)}function Kd(n,i,a){var l=Ye;Ye|=2;var h=zv(),d=Bv();(tt!==n||Le!==i)&&(Pc=null,Wa(n,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var T=Ne,I=_n;switch(Qe){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var H=Qe;if(Qe=0,_n=null,Za(n,T,I,H),a&&Qa){_=0;break e}break;default:H=Qe,Qe=0,_n=null,Za(n,T,I,H)}}w1(),_=ht;break}catch(X){jv(n,X)}while(!0);return i&&n.shellSuspendCounter++,zr=Us=null,Ye=l,K.H=h,K.A=d,Ne===null&&(tt=null,Le=0,sc()),_}function w1(){for(;Ne!==null;)qv(Ne)}function S1(n,i){var a=Ye;Ye|=2;var l=zv(),h=Bv();tt!==n||Le!==i?(Pc=null,kc=wn()+500,Wa(n,i)):Qa=gs(n,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=_n;t:switch(Qe){case 1:Qe=0,_n=null,Za(n,i,d,1);break;case 2:case 9:if(ey(d)){Qe=0,_n=null,Hv(i);break}i=function(){Qe!==2&&Qe!==9||tt!==n||(Qe=7),pr(n)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ey(d)?(Qe=0,_n=null,Hv(i)):(Qe=0,_n=null,Za(n,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var T=Ne;if(!_||S_(_)){Qe=0,_n=null;var I=T.sibling;if(I!==null)Ne=I;else{var H=T.return;H!==null?(Ne=H,Uc(H)):Ne=null}break t}}Qe=0,_n=null,Za(n,i,d,5);break;case 6:Qe=0,_n=null,Za(n,i,d,6);break;case 8:Qd(),ht=6;break e;default:throw Error(s(462))}}A1();break}catch(X){jv(n,X)}while(!0);return zr=Us=null,K.H=l,K.A=h,Ye=a,Ne!==null?0:(tt=null,Le=0,sc(),ht)}function A1(){for(;Ne!==null&&!ko();)qv(Ne)}function qv(n){var i=pv(n.alternate,n,$r);n.memoizedProps=n.pendingProps,i===null?Uc(n):Ne=i}function Hv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=uv(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=uv(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:cd(i);default:yv(a,i),i=Ne=Fg(i,$r),i=pv(a,i,$r)}n.memoizedProps=n.pendingProps,i===null?Uc(n):Ne=i}function Za(n,i,a,l){zr=Us=null,cd(i),Ha=null,Tl=0;var h=i.return;try{if(m1(n,h,i,a,Le)){ht=1,xc(n,xn(a,n.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,xc(n,xn(a,n.current)),Ne=null;return}i.flags&32768?(qe||l===1?n=!0:Qa||(Le&536870912)!==0?n=!1:(xi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fv(i,n)):Uc(i)}function Uc(n){var i=n;do{if((i.flags&32768)!==0){Fv(i,xi);return}n=i.return;var a=g1(i.alternate,i,$r);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=n}while(i!==null);ht===0&&(ht=5)}function Fv(n,i){do{var a=y1(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ht=6,Ne=null}function Gv(n,i,a,l,h,d,_,T,I){n.cancelPendingCommit=null;do jc();while(qt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=jf,Bo(n,a,d,_,T,I),n===tt&&(Ne=tt=null,Le=0),Ka=i,Oi=n,Xa=a,Fd=d,Gd=h,kv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,x1(fs,function(){return Xv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,_=Ye,Ye|=4;try{v1(n,i,a)}finally{Ye=_,ae.p=h,K.T=l}}qt=1,Yv(),Qv(),$v()}}function Yv(){if(qt===1){qt=0;var n=Oi,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Cv(i,n);var d=om,_=Vg(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Mg(T.ownerDocument.documentElement,T)){if(I!==null&&Vf(T)){var H=I.start,X=I.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Te=T.textContent.length,ve=Math.min(I.start,Te),Ze=I.end===void 0?ve:Math.min(I.end,Te);!Q.extend&&ve>Ze&&(_=Ze,Ze=ve,ve=_);var U=Og(T,ve),k=Og(T,Ze);if(U&&k&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),ve>Ze?(Q.addRange(q),Q.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Q.addRange(q))}}}}for(ee=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wc=!!am,om=am=null}finally{Ye=h,ae.p=l,K.T=a}}n.current=i,qt=2}}function Qv(){if(qt===2){qt=0;var n=Oi,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Sv(n,i.alternate,i)}finally{Ye=h,ae.p=l,K.T=a}}qt=3}}function $v(){if(qt===4||qt===3){qt=0,Vu();var n=Oi,i=Ka,a=Xa,l=kv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Ka=Oi=null,Kv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Ni=null),pa(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ae.p=h}}(Xa&3)!==0&&jc(),pr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Yd?Dl++:(Dl=0,Yd=n):Dl=0,Nl(0)}}function Kv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,cl(i)))}function jc(n){return Yv(),Qv(),$v(),Xv()}function Xv(){if(qt!==5)return!1;var n=Oi,i=Fd;Fd=0;var a=pa(Xa),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Gd,Gd=null;var d=Oi,_=Xa;if(qt=0,Ka=Oi=null,Xa=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,Mv(d.current),Dv(d,d.current,_,a),Ye=T,Nl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ae.p=h,K.T=l,Kv(n,i)}}function Wv(n,i,a){i=xn(a,i),i=Sd(n.stateNode,i,2),n=bi(n,i,2),n!==null&&(Rr(n,2),pr(n))}function Je(n,i,a){if(n.tag===3)Wv(n,n,a);else for(;i!==null;){if(i.tag===3){Wv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))){n=xn(a,n),a=tv(2),l=bi(i,a,2),l!==null&&(nv(a,l,i,n),Rr(l,2),pr(l));break}}i=i.return}}function Xd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new T1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(zd=!0,h.add(a),n=R1.bind(null,n,i,a),i.then(n,n))}function R1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>wn()-Hd?(Ye&2)===0&&Wa(n,0):Bd|=a,$a===Le&&($a=0)),pr(n)}function Zv(n,i){i===0&&(i=zo()),n=Ma(n,i),n!==null&&(Rr(n,i),pr(n))}function I1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Zv(n,a)}function C1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zv(n,a)}function x1(n,i){return cs(n,i)}var zc=null,Ja=null,Wd=!1,Bc=!1,Zd=!1,Gs=0;function pr(n){n!==Ja&&n.next===null&&(Ja===null?zc=Ja=n:Ja=Ja.next=n),Bc=!0,Wd||(Wd=!0,N1())}function Nl(n,i){if(!Zd&&Bc){Zd=!0;do for(var a=!1,l=zc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|n)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n_(l,d))}else d=Le,d=ma(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(a=!0,n_(l,d));l=l.next}while(a);Zd=!1}}function D1(){Jv()}function Jv(){Bc=Wd=!1;var n=0;Gs!==0&&(j1()&&(n=Gs),Gs=0);for(var i=wn(),a=null,l=zc;l!==null;){var h=l.next,d=e_(l,i);d===0?(l.next=null,a===null?zc=h:a.next=h,h===null&&(Ja=a)):(a=l,(n!==0||(d&3)!==0)&&(Bc=!0)),l=h}Nl(n)}function e_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-Qt(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Uo(T,i)):I<=i&&(n.expiredLanes|=T),d&=~T}if(i=tt,a=Le,a=ma(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&hs(l),pa(a)){case 2:case 8:a=fa;break;case 32:a=fs;break;case 268435456:a=da;break;default:a=fs}return l=t_.bind(null,n),a=cs(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&hs(l),n.callbackPriority=2,n.callbackNode=null,2}function t_(n,i){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(jc()&&n.callbackNode!==a)return null;var l=Le;return l=ma(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Lv(n,l,i),e_(n,wn()),n.callbackNode!=null&&n.callbackNode===a?t_.bind(null,n):null)}function n_(n,i){if(jc())return null;Lv(n,i,!0)}function N1(){B1(function(){(Ye&6)!==0?cs(Po,D1):Jv()})}function Jd(){return Gs===0&&(Gs=jo()),Gs}function r_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function i_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function O1(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=r_((h[vt]||null).action),_=l.submitter;_&&(i=(i=_[vt]||null)?r_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ba("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var I=_?i_(h,_):new FormData(h);_d(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?i_(h,_):new FormData(h),_d(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var em=0;em<Uf.length;em++){var tm=Uf[em],M1=tm.toLowerCase(),V1=tm[0].toUpperCase()+tm.slice(1);qn(M1,"on"+V1)}qn(Lg,"onAnimationEnd"),qn(Ug,"onAnimationIteration"),qn(jg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Ww,"onTransitionRun"),qn(Zw,"onTransitionStart"),qn(Jw,"onTransitionCancel"),qn(zg,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function s_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){Cc(X)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){Cc(X)}h.currentTarget=null,d=I}}}}function Oe(n,i){var a=i[Ho];a===void 0&&(a=i[Ho]=new Set);var l=n+"__bubble";a.has(l)||(a_(i,n,2,!1),a.add(l))}function nm(n,i,a){var l=0;i&&(l|=4),a_(a,n,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[qc]){n[qc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(k1.has(a)||nm(a,!1,n),nm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,nm("selectionchange",!1,i))}}function a_(n,i,a,l){switch(D_(i)){case 2:var h=lS;break;case 8:h=uS;break;default:h=ym}a=h.bind(null,i,a,n),h=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function im(n,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ir(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Fu(function(){var H=d,X=Rn(a),ee=[];e:{var G=Bg.get(n);if(G!==void 0){var Q=ba,Te=n;switch(n){case"keypress":if(ar(a)===0)break e;case"keydown":case"keyup":Q=Ca;break;case"focusin":Te="focus",Q=Aa;break;case"focusout":Te="blur",Q=Aa;break;case"beforeblur":case"afterblur":Q=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Zu;break;case Lg:case Ug:case jg:Q=Ra;break;case zg:Q=ec;break;case"scroll":case"scrollend":Q=Gu;break;case"wheel":Q=xa;break;case"copy":case"cut":case"paste":Q=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=nl;break;case"toggle":case"beforetoggle":Q=nc}var ve=(i&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),U=ve?G!==null?G+"Capture":null:G;ve=[];for(var k=H,q;k!==null;){var Z=k;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Ss(k,U),Z!=null&&ve.push(Ml(k,Z,q))),Ze)break;k=k.return}0<ve.length&&(G=new Q(G,Te,null,a,X),ee.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",G&&a!==Nr&&(Te=a.relatedTarget||a.fromElement)&&(Ir(Te)||Te[Sn]))break e;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Te=a.relatedTarget||a.toElement,Q=H,Te=Te?Ir(Te):null,Te!==null&&(Ze=u(Te),ve=Te.tag,Te!==Ze||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(Q=null,Te=H),Q!==Te)){if(ve=Cn,Z="onMouseLeave",U="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ve=nl,Z="onPointerLeave",U="onPointerEnter",k="pointer"),Ze=Q==null?G:nr(Q),q=Te==null?G:nr(Te),G=new ve(Z,k+"leave",Q,a,X),G.target=Ze,G.relatedTarget=q,Z=null,Ir(X)===H&&(ve=new ve(U,k+"enter",Te,a,X),ve.target=q,ve.relatedTarget=Ze,Z=ve),Ze=Z,Q&&Te)t:{for(ve=Q,U=Te,k=0,q=ve;q;q=eo(q))k++;for(q=0,Z=U;Z;Z=eo(Z))q++;for(;0<k-q;)ve=eo(ve),k--;for(;0<q-k;)U=eo(U),q--;for(;k--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=eo(ve),U=eo(U)}ve=null}else ve=null;Q!==null&&o_(ee,G,Q,ve,!1),Te!==null&&Ze!==null&&o_(ee,Ze,Te,ve,!0)}}e:{if(G=H?nr(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var he=Rg;else if(It(G))if(Ig)he=$w;else{he=Yw;var De=Gw}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ko(H.elementType)&&(he=Rg):he=Qw;if(he&&(he=he(n,H))){Pr(ee,he,a,X);break e}De&&De(n,G,H),n==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&yi(G,"number",G.value)}switch(De=H?nr(H):window,n){case"focusin":(It(De)||De.contentEditable==="true")&&(Da=De,kf=H,sl=null);break;case"focusout":sl=kf=Da=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,kg(ee,a,X);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":kg(ee,a,X)}var de;if(ur)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?$(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(de=Wo()):(sr=X,vi="value"in sr?sr.value:sr.textContent,ke=!0)),De=Hc(H,_e),0<De.length&&(_e=new el(_e,n,null,a,X),ee.push({event:_e,listeners:De}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?Rt(n,a):Pe(n,a))&&(_e=Hc(H,"onBeforeInput"),0<_e.length&&(De=new el("onBeforeInput","beforeinput",null,a,X),ee.push({event:De,listeners:_e}),De.data=de)),O1(ee,n,H,a,X)}s_(ee,i)})}function Ml(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Hc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ss(n,a),h!=null&&l.unshift(Ml(n,h,d)),h=Ss(n,i),h!=null&&l.push(Ml(n,h,d))),n.tag===3)return l;n=n.return}return[]}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function o_(n,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=Ss(a,d),H!=null&&_.unshift(Ml(a,H,I))):h||(H=Ss(a,d),H!=null&&_.push(Ml(a,H,I)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var P1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function l_(n){return(typeof n=="string"?n:""+n).replace(P1,`
`).replace(L1,"")}function u_(n,i){return i=l_(i),l_(n)===i}function Fc(){}function We(n,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(n,""+l);break;case"className":rr(n,"class",l);break;case"tabIndex":rr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(n,a,l);break;case"style":$o(n,l,d);break;case"data":if(i!=="object"){rr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",h.name,h,null),We(n,i,"formEncType",h.formEncType,h,null),We(n,i,"formMethod",h.formMethod,h,null),We(n,i,"formTarget",h.formTarget,h,null)):(We(n,i,"encType",h.encType,h,null),We(n,i,"method",h.method,h,null),We(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ta(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),gi(n,"popover",l);break;case"xlinkActuate":jt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cf.get(a)||a,gi(n,a,l))}}function sm(n,i,a,l,h,d){switch(a){case"style":$o(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?An(n,l):(typeof l=="number"||typeof l=="bigint")&&An(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=n[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):gi(n,a,l)}}}function Ht(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,d,_,a,null)}}h&&We(n,i,"srcSet",a.srcSet,a,null),l&&We(n,i,"src",a.src,a,null);return;case"input":Oe("invalid",n);var T=d=_=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":I=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(n,i,l,X,a,null)}}Ts(n,d,T,I,H,_,h,!1),Ea(n);return;case"select":Oe("invalid",n),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:We(n,i,h,T,a,null)}i=d,a=_,n.multiple=!!l,i!=null?Dr(n,!!l,i,!1):a!=null&&Dr(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,i,_,T,a,null)}bs(n,l,h,d),Ea(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,i,I,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Oe(Ol[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,H,l,a,null)}return;default:if(Ko(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&sm(n,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,i,T,l,a,null))}function U1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,H=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Q)||We(n,i,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&We(n,i,G,Q,l,ee)}}mn(n,_,T,I,H,X,d,h);return;case"select":Q=_=T=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||We(n,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&We(n,i,h,d,l,I)}i=T,a=_,l=Q,G!=null?Dr(n,!!a,G,!1):!!l!=!!a&&(i!=null?Dr(n,!!a,i,!0):Dr(n,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(n,i,_,h,l,d)}Ke(n,G,Q);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:We(n,i,Te,null,l,G)}for(I in l)if(G=l[I],Q=a[I],l.hasOwnProperty(I)&&G!==Q&&(G!=null||Q!=null))switch(I){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,i,I,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(n,i,ve,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:We(n,i,H,G,l,Q)}return;default:if(Ko(i)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&sm(n,i,Ze,void 0,l,G);for(X in l)G=l[X],Q=a[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||sm(n,i,X,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&We(n,i,U,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||We(n,i,ee,G,l,Q)}var am=null,om=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function c_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function lm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var um=null;function j1(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(n){return d_.resolve(null).then(n).catch(q1)}:f_;function q1(n){setTimeout(function(){throw n})}function Vi(n){return n==="head"}function m_(n,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=n.ownerDocument;if(a&1&&Vl(_.documentElement),a&2&&Vl(_.body),a&4)for(a=_.head,Vl(a),_=a.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[ys]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){n.removeChild(d),ql(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ql(i)}function cm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function H1(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ys])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function F1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function G1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Fn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var fm=null;function p_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function g_(n,i,a){switch(i=Gc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Vl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);pi(n)}var kn=new Map,y_=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Kr=ae.d;ae.d={f:Y1,r:Q1,D:$1,C:K1,L:X1,m:W1,X:J1,S:Z1,M:eS};function Y1(){var n=Kr.f(),i=Lc();return n||i}function Q1(n){var i=tr(n);i!==null&&i.tag===5&&i.type==="form"?Ly(i):Kr.r(n)}var to=typeof document>"u"?null:document;function v_(n,i,a){var l=to;if(l&&typeof i=="string"&&i){var h=_t(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",n),mt(i),l.head.appendChild(i)))}}function $1(n){Kr.D(n),v_("dns-prefetch",n,null)}function K1(n,i){Kr.C(n,i),v_("preconnect",n,i)}function X1(n,i,a){Kr.L(n,i,a);var l=to;if(l&&n&&i){var h='link[rel="preload"][as="'+_t(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(n)+'"]';var d=h;switch(i){case"style":d=no(n);break;case"script":d=ro(n)}kn.has(d)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),kn.set(d,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(kl(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),Ht(i,"link",n),mt(i),l.head.appendChild(i)))}}function W1(n,i){Kr.m(n,i);var a=to;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(n)}if(!kn.has(d)&&(n=E({rel:"modulepreload",href:n},i),kn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Ht(l,"link",n),mt(l),a.head.appendChild(l)}}}function Z1(n,i,a){Kr.S(n,i,a);var l=to;if(l&&n){var h=en(l).hoistableStyles,d=no(n);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(kl(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=kn.get(d))&&dm(n,a);var I=_=l.createElement("link");mt(I),Ht(I,"link",n),I._p=new Promise(function(H,X){I.onload=H,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function J1(n,i){Kr.X(n,i);var a=to;if(a&&n){var l=en(a).hoistableScripts,h=ro(n),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(n=E({src:n,async:!0},i),(i=kn.get(h))&&mm(n,i),d=a.createElement("script"),mt(d),Ht(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eS(n,i){Kr.M(n,i);var a=to;if(a&&n){var l=en(a).hoistableScripts,h=ro(n),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(n=E({src:n,async:!0,type:"module"},i),(i=kn.get(h))&&mm(n,i),d=a.createElement("script"),mt(d),Ht(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function __(n,i,a,l){var h=(h=we.current)?Yc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=no(a.href);var d=en(h).hoistableStyles,_=d.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=h.querySelector(kl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),d||tS(h,n,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function no(n){return'href="'+_t(n)+'"'}function kl(n){return'link[rel="stylesheet"]['+n+"]"}function E_(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function tS(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),mt(i),n.head.appendChild(i))}function ro(n){return'[src="'+_t(n)+'"]'}function Pl(n){return"script[async]"+n}function T_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),mt(l),Ht(l,"style",h),Qc(l,a.precedence,n),i.instance=l;case"stylesheet":h=no(a.href);var d=n.querySelector(kl(h));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=E_(a),(h=kn.get(h))&&dm(l,h),d=(n.ownerDocument||n).createElement("link"),mt(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ht(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,n),i.instance=d;case"script":return d=ro(a.src),(h=n.querySelector(Pl(d)))?(i.instance=h,mt(h),h):(l=a,(h=kn.get(d))&&(l=E({},a),mm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),mt(h),Ht(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,n));return i.instance}function Qc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function mm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var $c=null;function b_(n,i,a){if($c===null){var l=new Map,h=$c=new Map;h.set(a,l)}else h=$c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[ys]||d[At]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function w_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function nS(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function S_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ll=null;function rS(){}function iS(n,i,a){if(Ll===null)throw Error(s(475));var l=Ll;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=no(a.href),d=n.querySelector(kl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=n.ownerDocument||n,a=E_(a),(h=kn.get(h))&&dm(a,h),d=d.createElement("link"),mt(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ht(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Kc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function sS(){if(Ll===null)throw Error(s(475));var n=Ll;return n.stylesheets&&n.count===0&&pm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&pm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function pm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,i.forEach(aS,n),Xc=null,Kc.call(n))}function aS(n,i){if(!(i.state.loading&4)){var a=Xc.get(n);if(a)var l=a.get(null);else{a=new Map,Xc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Ul={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function oS(n,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function A_(n,i,a,l,h,d,_,T,I,H,X,ee){return n=new oS(n,i,a,_,T,I,H,ee),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),n.current=d,d.stateNode=n,i=Xf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ed(d),n}function R_(n){return n?(n=Va,n):Va}function I_(n,i,a,l,h,d){h=R_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ti(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=bi(n,l,i),a!==null&&(Tn(a,n,i),ml(a,n,i))}function C_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function gm(n,i){C_(n,i),(n=n.alternate)&&C_(n,i)}function x_(n){if(n.tag===13){var i=Ma(n,67108864);i!==null&&Tn(i,n,67108864),gm(n,67108864)}}var Wc=!0;function lS(n,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,ym(n,i,a,l)}finally{ae.p=d,K.T=h}}function uS(n,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,ym(n,i,a,l)}finally{ae.p=d,K.T=h}}function ym(n,i,a,l){if(Wc){var h=vm(l);if(h===null)im(n,i,l,Zc,a),N_(n,l);else if(hS(h,n,i,a,l))l.stopPropagation();else if(N_(n,l),i&4&&-1<cS.indexOf(n)){for(;h!==null;){var d=tr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Qt(_);T.entanglements[1]|=I,_&=~I}pr(d),(Ye&6)===0&&(kc=wn()+500,Nl(0))}}break;case 13:T=Ma(d,2),T!==null&&Tn(T,d,2),Lc(),gm(d,2)}if(d=vm(l),d===null&&im(n,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else im(n,i,l,null,a)}}function vm(n){return n=Rn(n),_m(n)}var Zc=null;function _m(n){if(Zc=null,n=Ir(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function D_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bf()){case Po:return 2;case fa:return 8;case fs:case wf:return 32;case da:return 268435456;default:return 32}default:return 32}}var Em=!1,ki=null,Pi=null,Li=null,jl=new Map,zl=new Map,Ui=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(n,i){switch(n){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(n,i,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=tr(i),i!==null&&x_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function hS(n,i,a,l,h){switch(i){case"focusin":return ki=Bl(ki,n,i,a,l,h),!0;case"dragenter":return Pi=Bl(Pi,n,i,a,l,h),!0;case"mouseover":return Li=Bl(Li,n,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return jl.set(d,Bl(jl.get(d)||null,n,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,zl.set(d,Bl(zl.get(d)||null,n,i,a,l,h)),!0}return!1}function O_(n){var i=Ir(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,Lu(n.priority,function(){if(a.tag===13){var l=En();l=fi(l);var h=Ma(a,l);h!==null&&Tn(h,a,l),gm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Nr=l,a.target.dispatchEvent(l),Nr=null}else return i=tr(a),i!==null&&x_(i),n.blockedOn=a,!1;i.shift()}return!0}function M_(n,i,a){Jc(n)&&a.delete(i)}function fS(){Em=!1,ki!==null&&Jc(ki)&&(ki=null),Pi!==null&&Jc(Pi)&&(Pi=null),Li!==null&&Jc(Li)&&(Li=null),jl.forEach(M_),zl.forEach(M_)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fS)))}var th=null;function V_(n){th!==n&&(th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(_m(l||a)===null)continue;break}var d=tr(a);d!==null&&(n.splice(i,3),i-=3,_d(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ql(n){function i(I){return eh(I,n)}ki!==null&&eh(ki,n),Pi!==null&&eh(Pi,n),Li!==null&&eh(Li,n),jl.forEach(i),zl.forEach(i);for(var a=0;a<Ui.length;a++){var l=Ui[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ui.length&&(a=Ui[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Ui.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[vt]||null;if(typeof d=="function")_||V_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[vt]||null)T=_.formAction;else if(_m(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),V_(a)}}}function Tm(n){this._internalRoot=n}nh.prototype.render=Tm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();I_(a,l,n,i,null,null)},nh.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;I_(n.current,2,null,n,null,null),Lc(),i[Sn]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=di();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ui.length&&i!==0&&i<Ui[a].priority;a++);Ui.splice(a,0,n),a===0&&O_(n)}};var k_=e.version;if(k_!=="19.1.0")throw Error(s(527,k_,"19.1.0"));ae.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var dS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ut=rh.inject(dS),Ge=rh}catch{}}return Fl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=Wy,d=Zy,_=Jy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=A_(n,1,!1,null,null,a,l,h,d,_,T,null),n[Sn]=i.current,rm(n),new Tm(i)},Fl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=Wy,_=Zy,T=Jy,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=A_(n,1,!0,i,a??null,l,h,d,_,T,I,H),i.context=R_(null),a=i.current,l=En(),l=fi(l),h=Ti(l),h.callback=null,bi(a,h,l),a=l,i.current.lanes=a,Rr(i,a),pr(i),n[Sn]=i.current,rm(n),new nh(i)},Fl.version="19.1.0",Fl}var G_;function SS(){if(G_)return Sm.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=wS(),Sm.exports}var AS=SS();const RS=zE(AS);var Gl={},Y_;function IS(){if(Y_)return Gl;Y_=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.parse=f,Gl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,O){const N=new u,z=b.length;if(z<2)return N;const F=(O==null?void 0:O.decode)||E;let Y=0;do{const W=b.indexOf("=",Y);if(W===-1)break;const re=b.indexOf(";",Y),fe=re===-1?z:re;if(W>fe){Y=b.lastIndexOf(";",W-1)+1;continue}const oe=m(b,Y,W),ge=p(b,W,oe),M=b.slice(oe,ge);if(N[M]===void 0){let A=m(b,W+1,fe),R=p(b,fe,A);const x=F(b.slice(A,R));N[M]=x}Y=fe+1}while(Y<z);return N}function m(b,O,N){do{const z=b.charCodeAt(O);if(z!==32&&z!==9)return O}while(++O<N);return N}function p(b,O,N){for(;O>N;){const z=b.charCodeAt(--O);if(z!==32&&z!==9)return O+1}return N}function g(b,O,N){const z=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const F=z(O);if(!e.test(F))throw new TypeError(`argument val is invalid: ${O}`);let Y=b+"="+F;if(!N)return Y;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Y+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Y+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Y+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Y+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Y+="; HttpOnly"),N.secure&&(Y+="; Secure"),N.partitioned&&(Y+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Y}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return Gl}IS();var Q_="popstate";function CS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=sa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Hm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:uu(u))}function s(o,u){Ln(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return DS(e,t,s,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ln(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xS(){return Math.random().toString(36).substring(2,10)}function $_(r,e){return{usr:r.state,key:r.key,idx:e}}function Hm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:t,key:e&&e.key||s||xS()}}function uu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function sa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function DS(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=E(),Y=F==null?null:F-g;g=F,p&&p({action:m,location:z.location,delta:Y})}function b(F,Y){m="PUSH";let W=Hm(z.location,F,Y);t&&t(W,F),g=E()+1;let re=$_(W,g),fe=z.createHref(W);try{f.pushState(re,"",fe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(fe)}u&&p&&p({action:m,location:z.location,delta:1})}function O(F,Y){m="REPLACE";let W=Hm(z.location,F,Y);t&&t(W,F),g=E();let re=$_(W,g),fe=z.createHref(W);f.replaceState(re,"",fe),u&&p&&p({action:m,location:z.location,delta:0})}function N(F){return NS(F)}let z={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Q_,w),p=F,()=>{o.removeEventListener(Q_,w),p=null}},createHref(F){return e(o,F)},createURL:N,encodeLocation(F){let Y=N(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:O,go(F){return f.go(F)}};return z}function NS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function BE(r,e,t="/"){return OS(r,e,t,!1)}function OS(r,e,t,s){let o=typeof e=="string"?sa(e):e,u=ri(o.pathname||"/",t);if(u==null)return null;let f=qE(r);MS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=FS(u);m=qS(f[p],g,s)}return m}function qE(r,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ti([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:zS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of HE(u.path))o(u,f,p)}),e}function HE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=HE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function MS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:BS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var VS=/^:[\w-]+$/,kS=3,PS=2,LS=1,US=10,jS=-2,K_=r=>r==="*";function zS(r,e){let t=r.split("/"),s=t.length;return t.some(K_)&&(s+=jS),e&&(s+=PS),t.filter(o=>!K_(o)).reduce((o,u)=>o+(VS.test(u)?kS:u===""?LS:US),s)}function BS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function qS(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ti([u,w.pathname]),pathnameBase:$S(ti([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=ti([u,w.pathnameBase]))}return f}function Ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=HS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},b)=>{if(E==="*"){let N=m[b]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const O=m[b];return w&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function HS(r,e=!1,t=!0){Ln(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ri(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function GS(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?sa(r):r;return{pathname:t?t.startsWith("/")?t:YS(t,e):e,search:KS(s),hash:XS(o)}}function YS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bp(r){let e=QS(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function wp(r,e,t,s=!1){let o;typeof r=="string"?o=sa(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let w=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=GS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ti=r=>r.join("/").replace(/\/\/+/g,"/"),$S=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function WS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var FE=["POST","PUT","PATCH","DELETE"];new Set(FE);var ZS=["GET",...FE];new Set(ZS);var So=j.createContext(null);So.displayName="DataRouter";var Yh=j.createContext(null);Yh.displayName="DataRouterState";var GE=j.createContext({isTransitioning:!1});GE.displayName="ViewTransition";var JS=j.createContext(new Map);JS.displayName="Fetchers";var eA=j.createContext(null);eA.displayName="Await";var Wn=j.createContext(null);Wn.displayName="Navigation";var Eu=j.createContext(null);Eu.displayName="Location";var Zn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Sp=j.createContext(null);Sp.displayName="RouteError";function tA(r,{relative:e}={}){at(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Wn),{hash:o,pathname:u,search:f}=bu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ti([t,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return j.useContext(Eu)!=null}function ss(){return at(Ao(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Eu).location}var YE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(r){j.useContext(Wn).static||j.useLayoutEffect(r)}function Tu(){let{isDataRoute:r}=j.useContext(Zn);return r?pA():nA()}function nA(){at(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(So),{basename:e,navigator:t}=j.useContext(Wn),{matches:s}=j.useContext(Zn),{pathname:o}=ss(),u=JSON.stringify(bp(s)),f=j.useRef(!1);return QE(()=>{f.current=!0}),j.useCallback((p,g={})=>{if(Ln(f.current,YE),!f.current)return;if(typeof p=="number"){t.go(p);return}let E=wp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ti([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}j.createContext(null);function rA(){let{matches:r}=j.useContext(Zn),e=r[r.length-1];return e?e.params:{}}function bu(r,{relative:e}={}){let{matches:t}=j.useContext(Zn),{pathname:s}=ss(),o=JSON.stringify(bp(t));return j.useMemo(()=>wp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function iA(r,e){return $E(r,e)}function $E(r,e,t,s){var Y;at(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(Wn),{matches:u}=j.useContext(Zn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let W=E&&E.path||"";KE(p,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=ss(),b;if(e){let W=typeof e=="string"?sa(e):e;at(g==="/"||((Y=W.pathname)==null?void 0:Y.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${W.pathname}" was given in the \`location\` prop.`),b=W}else b=w;let O=b.pathname||"/",N=O;if(g!=="/"){let W=g.replace(/^\//,"").split("/");N="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=BE(r,{pathname:N});Ln(E||z!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ln(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=uA(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:ti([g,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?g:ti([g,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,t,s);return e&&F?j.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},F):F}function sA(){let r=mA(),e=WS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,f)}var aA=j.createElement(sA,null),oA=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(Zn.Provider,{value:this.props.routeContext},j.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lA({routeContext:r,match:e,children:t}){let s=j.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Zn.Provider,{value:r},t)}function uA(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=t,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,b=!1,O=null,N=null;t&&(w=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||aA,f&&(m<0&&E===0?(KE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):m===E&&(b=!0,N=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),F=()=>{let Y;return w?Y=O:b?Y=N:g.route.Component?Y=j.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,j.createElement(lA,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?j.createElement(oA,{location:t.location,revalidation:t.revalidation,component:O,error:w,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):F()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cA(r){let e=j.useContext(So);return at(e,Ap(r)),e}function hA(r){let e=j.useContext(Yh);return at(e,Ap(r)),e}function fA(r){let e=j.useContext(Zn);return at(e,Ap(r)),e}function Rp(r){let e=fA(r),t=e.matches[e.matches.length-1];return at(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function dA(){return Rp("useRouteId")}function mA(){var s;let r=j.useContext(Sp),e=hA("useRouteError"),t=Rp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function pA(){let{router:r}=cA("useNavigate"),e=Rp("useNavigate"),t=j.useRef(!1);return QE(()=>{t.current=!0}),j.useCallback(async(o,u={})=>{Ln(t.current,YE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var X_={};function KE(r,e,t){!e&&!X_[r]&&(X_[r]=!0,Ln(!1,t))}j.memo(gA);function gA({routes:r,future:e,state:t}){return $E(r,void 0,t,e)}function XE({to:r,replace:e,state:t,relative:s}){at(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Wn);Ln(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Zn),{pathname:f}=ss(),m=Tu(),p=wp(r,bp(u),f,s==="path"),g=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Xl(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yA({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=sa(t));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:b="default"}=t,O=j.useMemo(()=>{let N=ri(p,f);return N==null?null:{location:{pathname:N,search:g,hash:E,state:w,key:b},navigationType:s}},[f,p,g,E,w,b,s]);return Ln(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Wn.Provider,{value:m},j.createElement(Eu.Provider,{children:e,value:O}))}function vA({children:r,location:e}){return iA(Fm(r),e)}function Fm(r,e=[]){let t=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){t.push.apply(t,Fm(s.props.children,u));return}at(s.type===Xl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),t.push(f)}),t}var fh="get",dh="application/x-www-form-urlencoded";function Qh(r){return r!=null&&typeof r.tagName=="string"}function _A(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function EA(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function TA(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function bA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wA(r,e){return r.button===0&&(!e||e==="_self")&&!bA(r)}var ih=null;function SA(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var AA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(r){return r!=null&&!AA.has(r)?(Ln(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function RA(r,e){let t,s,o,u,f;if(EA(r)){let m=r.getAttribute("action");s=m?ri(m,e):null,t=r.getAttribute("method")||fh,o=xm(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(_A(r)||TA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ri(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=xm(r.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!SA()){let{name:g,type:E,value:w}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,w)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,s=null,o=dh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function IA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xA(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await IA(u,t);return f.links?f.links():[]}return[]}));return MA(s.flat(1).filter(CA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(r,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function DA(r,e,{includeHydrateFallback:t}={}){return NA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NA(r){return[...new Set(r)]}function OA(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function MA(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(OA(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VA=new Set([100,101,204,205]);function kA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ri(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WE(){let r=j.useContext(So);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PA(){let r=j.useContext(Yh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cp=j.createContext(void 0);Cp.displayName="FrameworkContext";function ZE(){let r=j.useContext(Cp);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function LA(r,e){let t=j.useContext(Cp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,b=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let z=Y=>{Y.forEach(W=>{f(W.isIntersecting)})},F=new IntersectionObserver(z,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),j.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let O=()=>{o(!0)},N=()=>{o(!1),f(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Yl(m,O),onBlur:Yl(p,N),onMouseEnter:Yl(g,O),onMouseLeave:Yl(E,N),onTouchStart:Yl(w,O)}]:[!1,b,{}]}function Yl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function UA({page:r,...e}){let{router:t}=WE(),s=j.useMemo(()=>BE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?j.createElement(zA,{page:r,matches:s,...e}):null}function jA(r){let{manifest:e,routeModules:t}=ZE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return xA(r,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,t]),s}function zA({page:r,matches:e,...t}){let s=ss(),{manifest:o,routeModules:u}=ZE(),{basename:f}=WE(),{loaderData:m,matches:p}=PA(),g=j.useMemo(()=>W_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=j.useMemo(()=>W_(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,z=!1;if(e.forEach(Y=>{var re;let W=o.routes[Y.route.id];!W||!W.hasLoader||(!g.some(fe=>fe.route.id===Y.route.id)&&Y.route.id in m&&((re=u[Y.route.id])!=null&&re.shouldRevalidate)||W.hasClientLoader?z=!0:N.add(Y.route.id))}),N.size===0)return[];let F=kA(r,f);return z&&N.size>0&&F.searchParams.set("_routes",e.filter(Y=>N.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),b=j.useMemo(()=>DA(E,o),[E,o]),O=jA(E);return j.createElement(j.Fragment,null,w.map(N=>j.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>j.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),O.map(({key:N,link:z})=>j.createElement("link",{key:N,...z})))}function BA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JE&&(window.__reactRouterVersion="7.6.3")}catch{}function qA({basename:r,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=CS({window:t,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(yA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...b},O){let{basename:N}=j.useContext(Wn),z=typeof g=="string"&&eT.test(g),F,Y=!1;if(typeof g=="string"&&z&&(F=g,JE))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ri(x.pathname,N);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:Y=!0}catch{Ln(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=tA(g,{relative:o}),[re,fe,oe]=LA(s,b),ge=YA(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function M(R){e&&e(R),R.defaultPrevented||ge(R)}let A=j.createElement("a",{...b,...oe,href:F||W,onClick:Y||u?e:M,ref:BA(O,fe),target:p,"data-discover":!z&&t==="render"?"true":void 0});return re&&!z?j.createElement(j.Fragment,null,A,j.createElement(UA,{page:W})):A});$h.displayName="Link";var HA=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=bu(f,{relative:g.relative}),b=ss(),O=j.useContext(Yh),{navigator:N,basename:z}=j.useContext(Wn),F=O!=null&&WA(w)&&m===!0,Y=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,W=b.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(W=W.toLowerCase(),re=re?re.toLowerCase():null,Y=Y.toLowerCase()),re&&z&&(re=ri(re,z)||re);const fe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=W===Y||!o&&W.startsWith(Y)&&W.charAt(fe)==="/",ge=re!=null&&(re===Y||!o&&re.startsWith(Y)&&re.charAt(Y.length)==="/"),M={isActive:oe,isPending:ge,isTransitioning:F},A=oe?e:void 0,R;typeof s=="function"?R=s(M):R=[s,oe?"active":null,ge?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(M):u;return j.createElement($h,{...g,"aria-current":A,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(M):p)});HA.displayName="NavLink";var FA=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...b},O)=>{let N=KA(),z=XA(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&eT.test(m),W=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let fe=re.nativeEvent.submitter,oe=(fe==null?void 0:fe.getAttribute("formmethod"))||f;N(fe||re.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return j.createElement("form",{ref:O,method:F,action:z,onSubmit:s?p:W,...b,"data-discover":!Y&&r==="render"?"true":void 0})});FA.displayName="Form";function GA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tT(r){let e=j.useContext(So);return at(e,GA(r)),e}function YA(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Tu(),p=ss(),g=bu(r,{relative:u});return j.useCallback(E=>{if(wA(E,e)){E.preventDefault();let w=t!==void 0?t:uu(p)===uu(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,r,o,u,f])}var QA=0,$A=()=>`__${String(++QA)}__`;function KA(){let{router:r}=tT("useSubmit"),{basename:e}=j.useContext(Wn),t=dA();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=RA(s,e);if(o.navigate===!1){let E=o.fetcherKey||$A();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function XA(r,{relative:e}={}){let{basename:t}=j.useContext(Wn),s=j.useContext(Zn);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},f=ss();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ti([t,u.pathname])),uu(u)}function WA(r,e={}){let t=j.useContext(GE);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tT("useViewTransitionState"),o=bu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ri(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=ri(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}[...VA];const ZA=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JA=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],f=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(b=64)),s.push(t[E],t[w],t[b],t[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(nT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new eR;const b=u<<2|m>>4;if(s.push(b),g!==64){const O=m<<4&240|g>>2;if(s.push(O),w!==64){const N=g<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(r){const e=nT(r);return rT.encodeByteArray(e,!0)},Rh=function(r){return tR(r).replace(/\./g,"")},iT=function(r){try{return rT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=()=>nR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof Z_>"u")return;const r=Z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&iT(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return ZA()||rR()||iR()||sR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sT=r=>{var e,t;return(t=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},aR=r=>{const e=sT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},aT=()=>{var r;return(r=Kh())===null||r===void 0?void 0:r.config},oT=r=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(f)),""].join(".")}const tu={};function uR(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function cR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let J_=!1;function uT(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||tu[r]===e||tu[r]||J_)return;tu[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=uR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{J_=!0,f()},b}function E(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=cR(s),O=t("text"),N=document.getElementById(O)||document.createElement("span"),z=t("learnmore"),F=document.getElementById(z)||document.createElement("a"),Y=t("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),E(F,z);const fe=g();p(W,Y),re.append(W,N,F,fe),document.body.appendChild(re)}u?(N.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function fR(){var r;const e=(r=Kh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yR(){return!fR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="FirebaseError";class ci extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=ER,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?TR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ci(o,m,s)}}function TR(r,e){return r.replace(bR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bR=/\{\$([^}]+)}/g;function wR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ii(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(e0(u)&&e0(f)){if(!ii(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function e0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function SR(r,e){const t=new AR(r,e);return t.subscribe.bind(t)}class AR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");RR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new oR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CR(r){return r===Ys?void 0:r}function xR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const NR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},OR=Me.INFO,MR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},VR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=MR[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=VR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const kR=(r,e)=>e.some(t=>r instanceof t);let t0,n0;function PR(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LR(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,Gm=new WeakMap,hT=new WeakMap,Nm=new WeakMap,Dp=new WeakMap;function UR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(Qi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&cT.set(t,r)}).catch(()=>{}),Dp.set(e,r),e}function jR(r){if(Gm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Gm.set(r,e)}let Ym={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||hT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zR(r){Ym=r(Ym)}function BR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Om(this),e,...t);return hT.set(s,e.sort?e.sort():[e]),Qi(s)}:LR().includes(r)?function(...e){return r.apply(Om(this),e),Qi(cT.get(this))}:function(...e){return Qi(r.apply(Om(this),e))}}function qR(r){return typeof r=="function"?BR(r):(r instanceof IDBTransaction&&jR(r),kR(r,PR())?new Proxy(r,Ym):r)}function Qi(r){if(r instanceof IDBRequest)return UR(r);if(Nm.has(r))return Nm.get(r);const e=qR(r);return e!==r&&(Nm.set(r,e),Dp.set(e,r)),e}const Om=r=>Dp.get(r);function HR(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qi(f.result),p.oldVersion,p.newVersion,Qi(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const FR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],Mm=new Map;function r0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=GR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FR.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Mm.set(e,u),u}zR(r=>({...r,get:(e,t,s)=>r0(e,t)||r.get(e,t,s),has:(e,t)=>!!r0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function QR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",i0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new xp("@firebase/app"),$R="@firebase/app-compat",KR="@firebase/analytics-compat",XR="@firebase/analytics",WR="@firebase/app-check-compat",ZR="@firebase/app-check",JR="@firebase/auth",eI="@firebase/auth-compat",tI="@firebase/database",nI="@firebase/data-connect",rI="@firebase/database-compat",iI="@firebase/functions",sI="@firebase/functions-compat",aI="@firebase/installations",oI="@firebase/installations-compat",lI="@firebase/messaging",uI="@firebase/messaging-compat",cI="@firebase/performance",hI="@firebase/performance-compat",fI="@firebase/remote-config",dI="@firebase/remote-config-compat",mI="@firebase/storage",pI="@firebase/storage-compat",gI="@firebase/firestore",yI="@firebase/ai",vI="@firebase/firestore-compat",_I="firebase",EI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",TI={[Qm]:"fire-core",[$R]:"fire-core-compat",[XR]:"fire-analytics",[KR]:"fire-analytics-compat",[ZR]:"fire-app-check",[WR]:"fire-app-check-compat",[JR]:"fire-auth",[eI]:"fire-auth-compat",[tI]:"fire-rtdb",[nI]:"fire-data-connect",[rI]:"fire-rtdb-compat",[iI]:"fire-fn",[sI]:"fire-fn-compat",[aI]:"fire-iid",[oI]:"fire-iid-compat",[lI]:"fire-fcm",[uI]:"fire-fcm-compat",[cI]:"fire-perf",[hI]:"fire-perf-compat",[fI]:"fire-rc",[dI]:"fire-rc-compat",[mI]:"fire-gcs",[pI]:"fire-gcs-compat",[gI]:"fire-fst",[vI]:"fire-fst-compat",[yI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,bI=new Map,Km=new Map;function s0(r,e){try{r.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function po(r){const e=r.name;if(Km.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,r);for(const t of Ih.values())s0(t,r);for(const t of bI.values())s0(t,r);return!0}function Np(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new wu("app","Firebase",wI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=EI;function fT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$m,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(t||(t=aT()),!t)throw $i.create("no-options");const u=Ih.get(o);if(u){if(ii(t,u.options)&&ii(s,u.config))return u;throw $i.create("duplicate-app",{appName:o})}const f=new DR(o);for(const p of Km.values())f.addComponent(p);const m=new SI(t,s,f);return Ih.set(o,m),m}function dT(r=$m){const e=Ih.get(r);if(!e&&r===$m&&aT())return fT();if(!e)throw $i.create("no-app",{appName:r});return e}function Ws(r,e,t){var s;let o=(s=TI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(m.join(" "));return}po(new ea(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",RI=1,cu="firebase-heartbeat-store";let Vm=null;function mT(){return Vm||(Vm=HR(AI,RI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(r=>{throw $i.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function II(r){try{const t=(await mT()).transaction(cu),s=await t.objectStore(cu).get(pT(r));return await t.done,s}catch(e){if(e instanceof ci)si.warn(e.message);else{const t=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(t.message)}}}async function a0(r,e){try{const s=(await mT()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,pT(r)),await s.done}catch(t){if(t instanceof ci)si.warn(t.message);else{const s=$i.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});si.warn(s.message)}}}function pT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1024,xI=30;class DI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=o0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xI){const f=MI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){si.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o0(),{heartbeatsToSend:s,unsentEntries:o}=NI(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return si.warn(t),""}}}function o0(){return new Date().toISOString().substring(0,10)}function NI(r,e=CI){const t=[];let s=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),l0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),l0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class OI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await II(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function l0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function MI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){po(new ea("platform-logger",e=>new YR(e),"PRIVATE")),po(new ea("heartbeat",e=>new DI(e),"PRIVATE")),Ws(Qm,i0,r),Ws(Qm,i0,"esm2017"),Ws("fire-js","")}VI("");function Op(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=gT,yT=new wu("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new xp("@firebase/auth");function PI(r,...e){Ch.logLevel<=Me.WARN&&Ch.warn(`Auth (${Io}): ${r}`,...e)}function mh(r,...e){Ch.logLevel<=Me.ERROR&&Ch.error(`Auth (${Io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r,...e){throw Vp(r,...e)}function Qn(r,...e){return Vp(r,...e)}function Mp(r,e,t){const s=Object.assign(Object.assign({},kI()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function Zs(r){return Mp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&br(r,"argument-error"),Mp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return yT.create(r,...e)}function be(r,e,...t){if(!r)throw Vp(e,...t)}function Zr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function ai(r,e){r||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function UI(){return u0()==="http:"||u0()==="https:"}function u0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UI()||mR()||"connection"in navigator)?navigator.onLine:!0}function zI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=hR()||pR()}get(){return jI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,e){ai(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new Au(3e4,6e4);function Pp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Co(r,e,t,s,o={}){return _T(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Su(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return dR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),vT.fetch()(await ET(r,r.config.apiHost,t,m),g)})}async function _T(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},BI),e);try{const o=new GI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw sh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw sh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mp(r,E,g);br(r,E)}}catch(o){if(o instanceof ci)throw o;br(r,"network-request-failed",{message:String(o)})}}async function FI(r,e,t,s,o={}){const u=await Co(r,e,t,s,o);return"mfaPendingCredential"in u&&br(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ET(r,e,t,s){const o=`${e}${t}?${s}`,u=r,f=u.config.emulator?kp(r.config,o):`${r.config.apiScheme}://${o}`;return qI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class GI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),HI.get())})}}function sh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qn(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r,e){return Co(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return Co(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(r,e=!1){const t=Ut(r),s=await t.getIdToken(e),o=Lp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:nu(km(o.auth_time)),issuedAtTime:nu(km(o.iat)),expirationTime:nu(km(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function km(r){return Number(r)*1e3}function Lp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=iT(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function c0(r){const e=Lp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ci&&$I(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $I({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await hu(r,xh(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?TT(u.providerUserInfo):[],m=WI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function XI(r){const e=Ut(r);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function TT(r){return r.map(e=>{var{providerId:t}=e,s=Op(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e){const t=await _T(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await ET(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),vT.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JI(r,e){return Co(r,"POST","/v2/accounts:revokeToken",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=c0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new uo;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await hu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QI(this,e)}reload(){return XI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await hu(this,YI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,E;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=t.photoURL)!==null&&f!==void 0?f:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,F=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,W=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:fe,isAnonymous:oe,providerData:ge,stsTokenManager:M}=t;be(re&&M,e,"internal-error");const A=uo.fromJSON(this.name,M);be(typeof re=="string",e,"internal-error"),zi(w,e.name),zi(b,e.name),be(typeof fe=="boolean",e,"internal-error"),be(typeof oe=="boolean",e,"internal-error"),zi(O,e.name),zi(N,e.name),zi(z,e.name),zi(F,e.name),zi(Y,e.name),zi(W,e.name);const R=new Yn({uid:re,auth:e,email:b,emailVerified:fe,displayName:w,isAnonymous:oe,photoURL:N,phoneNumber:O,tenantId:z,stsTokenManager:A,createdAt:Y,lastLoginAt:W});return ge&&Array.isArray(ge)&&(R.providerData=ge.map(x=>Object.assign({},x))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new uo;o.updateFromServerResponse(t);const u=new Yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?TT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(s);const p=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function Jr(r){ai(r instanceof Function,"Expected a class definition");let e=h0.get(r);return e?(ai(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,h0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bT.type="NONE";const f0=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,e,t){return`firebase:${r}:${e}:${t}`}class co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xh(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new co(Jr(f0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Jr(f0);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const b=await xh(e,{idToken:E}).catch(()=>{});if(!b)break;w=await Yn._fromGetAccountInfoResponse(e,b,E)}else w=Yn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(xT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(IT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function wT(r=Jt()){return/firefox\//i.test(r)}function ST(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(r=Jt()){return/crios\//i.test(r)}function RT(r=Jt()){return/iemobile/i.test(r)}function IT(r=Jt()){return/android/i.test(r)}function CT(r=Jt()){return/blackberry/i.test(r)}function xT(r=Jt()){return/webos/i.test(r)}function Up(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function e2(r=Jt()){var e;return Up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t2(){return gR()&&document.documentMode===10}function DT(r=Jt()){return Up(r)||IT(r)||xT(r)||CT(r)||/windows phone/i.test(r)||RT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r,e=[]){let t;switch(r){case"Browser":t=d0(Jt());break;case"Worker":t=`${d0(Jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r,e={}){return Co(r,"GET","/v2/passwordPolicy",Pp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=6;class s2{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:i2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new n2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Zs(this));const t=e?Ut(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r2(this),t=new s2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await JI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xh(r){return Ut(r)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o2(r){jp=r}function l2(r){return jp.loadJS(r)}function u2(){return jp.gapiScript}function c2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r,e){const t=Np(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ii(u,e??{}))return o;br(o,"already-initialized")}return t.initialize({options:e})}function f2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Jr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function d2(r,e,t){const s=Xh(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=OT(e),{host:f,port:m}=m2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ii(g,s.config.emulator)&&ii(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ro(f)?(lT(`${u}//${f}${p}`),uT("Auth",!0)):p2()}function OT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function m2(r){const e=OT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:p0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:p0(f)}}}function p0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function p2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r,e){return FI(r,"POST","/v1/accounts:signInWithIdp",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="http://localhost";class ta extends MT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Op(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return ho(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ho(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ho(e,t)}buildRequest(){const e={requestUri:g2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ru{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ru{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ru{constructor(){super("twitter.com")}static credential(e,t){return ta._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Fi.credential(t,s)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Yn._fromIdTokenResponse(e,s,o),f=g0(s);return new go({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=g0(s);return new go({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function g0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends ci{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nh(e,t,s,o)}}function VT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function y2(r,e,t=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return go._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(r,e,t=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(Zs(s));const o="reauthenticate";try{const u=await hu(r,VT(s,o,e,r),t);be(u.idToken,s,"internal-error");const f=Lp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),go._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&br(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(r,e,t=!1){if(Gn(r.app))return Promise.reject(Zs(r));const s="signIn",o=await VT(r,s,e),u=await go._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function E2(r,e,t,s){return Ut(r).onIdTokenChanged(e,t,s)}function T2(r,e,t){return Ut(r).beforeAuthStateChanged(e,t)}function b2(r,e,t,s){return Ut(r).onAuthStateChanged(e,t,s)}function w2(r){return Ut(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1e3,A2=10;class PT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);t2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const R2=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LT.type="SESSION";const UT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await I2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Bp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function x2(r){yr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function D2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function O2(){return jT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebaseLocalStorageDb",M2=1,Mh="firebaseLocalStorage",BT="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zh(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function V2(){const r=indexedDB.deleteDatabase(zT);return new Iu(r).toPromise()}function Zm(){const r=indexedDB.open(zT,M2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:BT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await V2(),e(await Zm()))})})}async function y0(r,e,t){const s=Zh(r,!0).put({[BT]:e,value:t});return new Iu(s).toPromise()}async function k2(r,e){const t=Zh(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function v0(r,e){const t=Zh(r,!0).delete(e);return new Iu(t).toPromise()}const P2=800,L2=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>L2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await D2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await y0(e,Oh,"1"),await v0(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>y0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>k2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const U2=qT;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r,e){return e?Jr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends MT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function j2(r){return _2(r.auth,new qp(r),r.bypassAuthState)}function z2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),v2(t,new qp(r),r.bypassAuthState)}async function B2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),y2(t,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j2;case"linkViaPopup":case"linkViaRedirect":return B2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:br(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Au(2e3,1e4);async function H2(r,e,t){if(Gn(r.app))return Promise.reject(Qn(r,"operation-not-supported-in-this-environment"));const s=Xh(r);LI(r,e,zp);const o=HT(s,t);return new $s(s,"signInViaPopup",e,o).executeNotNull()}class $s extends FT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="pendingRedirect",gh=new Map;class G2 extends FT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(r,e){const t=K2(e),s=$2(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Q2(r,e){gh.set(r._key(),e)}function $2(r){return Jr(r._redirectPersistence)}function K2(r){return ph(F2,r.config.apiKey,r.name)}async function X2(r,e,t=!1){if(Gn(r.app))return Promise.reject(Zs(r));const s=Xh(r),o=HT(s,e),f=await new G2(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=10*60*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!GT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function GT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,e={}){return Co(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nC=/^https?/;async function rC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await eC(r);for(const t of e)try{if(iC(t))return}catch{}br(r,"unauthorized-domain")}function iC(r){const e=Xm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!nC.test(t))return!1;if(tC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Au(3e4,6e4);function E0(){const r=yr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function aC(r){return new Promise((e,t)=>{var s,o,u;function f(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),t(Qn(r,"network-request-failed"))},timeout:sC.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yr().gapi)===null||u===void 0)&&u.load)f();else{const m=c2("iframefcb");return yr()[m]=()=>{gapi.load?f():t(Qn(r,"network-request-failed"))},l2(`${u2()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function oC(r){return yh=yh||aC(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Au(5e3,15e3),uC="__/auth/iframe",cC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dC(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?kp(e,cC):`https://${r.config.authDomain}/${uC}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=fC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Su(s).slice(1)}`}async function mC(r){const e=await oC(r),t=yr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:dC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(r,"network-request-failed"),m=yr().setTimeout(()=>{u(f)},lC.get());function p(){yr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gC=500,yC=600,vC="_blank",_C="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EC(r,e,t,s=gC,o=yC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},pC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jt().toLowerCase();t&&(m=AT(g)?vC:t),wT(g)&&(e=e||_C,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[O,N])=>`${b}${O}=${N},`,"");if(e2(g)&&m!=="_self")return TC(e||"",m),new T0(null);const w=window.open(e||"",m,E);be(w,r,"popup-blocked");try{w.focus()}catch{}return new T0(w)}function TC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__/auth/handler",wC="emulator/auth/handler",SC=encodeURIComponent("fac");async function b0(r,e,t,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Io,eventId:o};if(e instanceof zp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",wR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ru){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${SC}=${encodeURIComponent(p)}`:"";return`${AC(r)}?${Su(m).slice(1)}${g}`}function AC({config:r}){return r.emulator?kp(r,wC):`https://${r.authDomain}/${bC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=X2,this._overrideRedirectResult=Q2}async _openPopup(e,t,s,o){var u;ai((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await b0(e,t,s,Xm(),o);return EC(e,f,Bp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await b0(e,t,s,Xm(),o);return x2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ai(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await mC(e),s=new Z2(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pm,{type:Pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Pm];f!==void 0&&t(!!f),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DT()||ST()||Up()}}const IC=RC;var w0="@firebase/auth",S0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(r){po(new ea("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(r)},g=new a2(s,o,u,p);return f2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),po(new ea("auth-internal",e=>{const t=Xh(e.getProvider("auth").getImmediate());return(s=>new CC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(w0,S0,xC(r)),Ws(w0,S0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=5*60,OC=oT("authIdTokenMaxAge")||NC;let A0=null;const MC=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>OC)return;const o=t==null?void 0:t.token;A0!==o&&(A0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VC(r=dT()){const e=Np(r,"auth");if(e.isInitialized())return e.getImmediate();const t=h2(r,{popupRedirectResolver:IC,persistence:[U2,R2,UT]}),s=oT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=MC(u.toString());T2(t,f,()=>f(t.currentUser)),E2(t,m=>f(m))}}const o=sT("auth");return o&&d2(t,`http://${o}`),t}function kC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}o2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",kC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,YT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function R(){}R.prototype=A.prototype,M.D=A.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(x,P,L){for(var C=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)C[dt-2]=arguments[dt];return A.prototype[P].apply(x,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,A,R){R||(R=0);var x=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)x[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=M.g[0],R=M.g[1],P=M.g[2];var L=M.g[3],C=A+(L^R&(P^L))+x[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=L+(P^A&(R^P))+x[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=P+(R^L&(A^R))+x[2]+606105819&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(A^P&(L^A))+x[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(L^R&(P^L))+x[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(P^A&(R^P))+x[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=P+(R^L&(A^R))+x[6]+2821735955&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(A^P&(L^A))+x[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(L^R&(P^L))+x[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(P^A&(R^P))+x[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=P+(R^L&(A^R))+x[10]+4294925233&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(A^P&(L^A))+x[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(L^R&(P^L))+x[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(P^A&(R^P))+x[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=P+(R^L&(A^R))+x[14]+2792965006&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(A^P&(L^A))+x[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=A+(P^L&(R^P))+x[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(A^R))+x[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(L^A))+x[11]+643717713&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(P^L))+x[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^L&(R^P))+x[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(A^R))+x[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(L^A))+x[15]+3634488961&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(P^L))+x[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^L&(R^P))+x[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(A^R))+x[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(L^A))+x[3]+4107603335&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(P^L))+x[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(P^L&(R^P))+x[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(A^R))+x[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=P+(A^R&(L^A))+x[7]+1735328473&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(P^L))+x[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=A+(R^P^L)+x[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^P)+x[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=P+(L^A^R)+x[11]+1839030562&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^A)+x[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^L)+x[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^P)+x[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=P+(L^A^R)+x[7]+4139469664&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^A)+x[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^L)+x[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^P)+x[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=P+(L^A^R)+x[3]+3572445317&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^A)+x[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(R^P^L)+x[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^P)+x[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=P+(L^A^R)+x[15]+530742520&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^A)+x[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=A+(P^(R|~L))+x[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~P))+x[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=P+(A^(L|~R))+x[14]+2878612391&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~A))+x[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~L))+x[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~P))+x[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=P+(A^(L|~R))+x[10]+4293915773&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~A))+x[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~L))+x[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~P))+x[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=P+(A^(L|~R))+x[6]+2734768916&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~A))+x[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=A+(P^(R|~L))+x[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~P))+x[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=P+(A^(L|~R))+x[2]+718787259&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~A))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var R=A-this.blockSize,x=this.B,P=this.h,L=0;L<A;){if(P==0)for(;L<=R;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<A;)if(x[P++]=M.charCodeAt(L++),P==this.blockSize){o(this,x),P=0;break}}else for(;L<A;)if(x[P++]=M[L++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var R=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=R&255,R/=256;for(this.u(M),M=Array(16),A=R=0;4>A;++A)for(var x=0;32>x;x+=8)M[R++]=this.g[A]>>>x&255;return M};function u(M,A){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=A(M)}function f(M,A){this.h=A;for(var R=[],x=!0,P=M.length-1;0<=P;P--){var L=M[P]|0;x&&L==A||(R[P]=L,x=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(A){return new f([A|0],0>A?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return F(g(-M));for(var A=[],R=1,x=0;M>=R;x++)A[x]=M/R|0,R*=4294967296;return new f(A,0)}function E(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return F(E(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),x=w,P=0;P<M.length;P+=8){var L=Math.min(8,M.length-P),C=parseInt(M.substring(P,P+L),A);8>L?(L=g(Math.pow(A,L)),x=x.j(L).add(g(C))):(x=x.j(R),x=x.add(g(C)))}return x}var w=p(0),b=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(z(this))return-F(this).m();for(var M=0,A=1,R=0;R<this.g.length;R++){var x=this.i(R);M+=(0<=x?x:4294967296+x)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(z(this))return"-"+F(this).toString(M);for(var A=g(Math.pow(M,6)),R=this,x="";;){var P=fe(R,A).g;R=Y(R,P.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,N(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function z(M){return M.h==-1}r.l=function(M){return M=Y(this,M),z(M)?-1:N(M)?0:1};function F(M){for(var A=M.g.length,R=[],x=0;x<A;x++)R[x]=~M.g[x];return new f(R,~M.h).add(b)}r.abs=function(){return z(this)?F(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],x=0,P=0;P<=A;P++){var L=x+(this.i(P)&65535)+(M.i(P)&65535),C=(L>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);x=C>>>16,L&=65535,C&=65535,R[P]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(M,A){return M.add(F(A))}r.j=function(M){if(N(this)||N(M))return w;if(z(this))return z(M)?F(this).j(F(M)):F(F(this).j(M));if(z(M))return F(this.j(F(M)));if(0>this.l(O)&&0>M.l(O))return g(this.m()*M.m());for(var A=this.g.length+M.g.length,R=[],x=0;x<2*A;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<M.g.length;P++){var L=this.i(x)>>>16,C=this.i(x)&65535,dt=M.i(P)>>>16,rt=M.i(P)&65535;R[2*x+2*P]+=C*rt,W(R,2*x+2*P),R[2*x+2*P+1]+=L*rt,W(R,2*x+2*P+1),R[2*x+2*P+1]+=C*dt,W(R,2*x+2*P+1),R[2*x+2*P+2]+=L*dt,W(R,2*x+2*P+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new f(R,0)};function W(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function re(M,A){this.g=M,this.h=A}function fe(M,A){if(N(A))throw Error("division by zero");if(N(M))return new re(w,w);if(z(M))return A=fe(F(M),A),new re(F(A.g),F(A.h));if(z(A))return A=fe(M,F(A)),new re(F(A.g),A.h);if(30<M.g.length){if(z(M)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=A;0>=x.l(M);)R=oe(R),x=oe(x);var P=ge(R,1),L=ge(x,1);for(x=ge(x,2),R=ge(R,2);!N(x);){var C=L.add(x);0>=C.l(M)&&(P=P.add(R),L=C),x=ge(x,1),R=ge(R,1)}return A=Y(M,P.j(A)),new re(P,A)}for(P=w;0<=M.l(A);){for(R=Math.max(1,Math.floor(M.m()/A.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=g(R),C=L.j(A);z(C)||0<C.l(M);)R-=x,L=g(R),C=L.j(A);N(L)&&(L=b),P=P.add(L),M=Y(M,C)}return new re(P,M)}r.A=function(M){return fe(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)&M.i(x);return new f(R,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)|M.i(x);return new f(R,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)^M.i(x);return new f(R,this.h^M.h)};function oe(M){for(var A=M.g.length+1,R=[],x=0;x<A;x++)R[x]=M.i(x)<<1|M.i(x-1)>>>31;return new f(R,M.h)}function ge(M,A){var R=A>>5;A%=32;for(var x=M.g.length-R,P=[],L=0;L<x;L++)P[L]=0<A?M.i(L+R)>>>A|M.i(L+R+1)<<32-A:M.i(L+R);return new f(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,YT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ki=f}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,Wl,$T,vh,Jm,KT,XT,WT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,b.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,$){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return y.prototype[B].apply(S,se)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function F(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,$=S.length||0;c.length=B+$;for(let se=0;se<$;se++)c[B+se]=S[se]}else c.push(S)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var oe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ge(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class dt{constructor(){this.h=this.g=null}add(y,v){const S=rt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new Y(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Be=new dt,V=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){L(v)}var y=rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function xe(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{fe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}N(xe,ie);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Jn(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++et,this.da=this.fa=!1}function hi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,v,S,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=cs(c,y,S,B);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new Jn(y,this.src,$,!!S,B),y.fa=v,c.push(y)),y};function us(c,y){var v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(S,B,1),$&&(hi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function cs(c,y,v,S){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return B}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),ko={};function Vu(c,y,v,S,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Vu(c,y[$],v,S,B);return null}return v=ku(v),c&&c[Nt]?c.K(y,v,g(S)?!!S.capture:!1,B):wn(c,y,v,!1,S,B)}function wn(c,y,v,S,B,$){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,ke=da(c);if(ke||(c[hs]=ke=new Sr(c)),v=ke.add(y,v,S,se,$),v.proxy)return v;if(S=bf(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ye||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(fs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bf(){function c(v){return y.call(c.src,c.listener,v)}const y=wf;return c}function Po(c,y,v,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Po(c,y[$],v,S,B);else S=g(S)?!!S.capture:!!S,v=ku(v),c&&c[Nt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=cs($,v,S,B),-1<v&&(hi($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=da(c))&&(y=c.g[y.toString()],c=-1,y&&(c=cs(y,v,S,B)),(v=-1<c?y[c]:null)&&fa(v))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])us(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(fs(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=da(y))?(us(v,c),v.h==0&&(v.src=null,y[hs]=null)):hi(c)}}}function fs(c){return c in ko?ko[c]:ko[c]="on"+c}function wf(c,y){if(c.da)c=!0;else{y=new xe(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&fa(c),c=v.call(S,y)}return c}function da(c){return c=c[hs],c instanceof Sr?c:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(y){return c.handleEvent(y)}),c[Lo])}function ut(){le.call(this),this.i=new Sr(this),this.M=this,this.F=null}N(ut,le),ut.prototype[Nt]=!0,ut.prototype.removeEventListener=function(c,y,v,S){Po(this,c,y,v,S)};function Ge(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var B=y;y=new ie(S,c),x(y,B)}if(B=!0,v)for(var $=v.length-1;0<=$;$--){var se=y.g=v[$];B=dn(se,S,!0,y)&&B}if(se=y.g=c,B=dn(se,S,!0,y)&&B,B=dn(se,S,!1,y)&&B,v)for($=0;$<v.length;$++)se=y.g=v[$],B=dn(se,S,!1,y)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)hi(v[S]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ut.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function dn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==v){var ke=se.listener,Rt=se.ha||se.src;se.fa&&us(c.i,se),B=ke.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Qt(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Pu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){le.call(this),this.h=c,this.g={}}N(ds,le);var ms=[];function ps(c){ge(c.g,function(y,v){this.g.hasOwnProperty(v)&&fa(y)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),ps(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,ma=m.JSON.parse,gs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Uo(){}Uo.prototype.h=null;function jo(c){return c.h||(c.h=c.i())}function zo(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){ie.call(this,"d")}N(Rr,ie);function Bo(){ie.call(this,"c")}N(Bo,ie);var er={},qo=null;function fi(){return qo=qo||new ut}er.La="serverreachability";function pa(c){ie.call(this,er.La,c)}N(pa,ie);function di(c){const y=fi();Ge(y,new pa(y))}er.STAT_EVENT="statevent";function Lu(c,y){ie.call(this,er.STAT_EVENT,c),this.stat=y}N(Lu,ie);function it(c){const y=fi();Ge(y,new Lu(y,c))}er.Ma="timingevent";function At(c,y){ie.call(this,er.Ma,c),this.size=y}N(At,ie);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Ho(c,y,v,S,B,$){c.info(function(){if(c.g)if($)for(var se="",ke=$.split("&"),Rt=0;Rt<ke.length;Rt++){var Pe=ke[Rt].split("=");if(1<Pe.length){var Mt=Pe[0];Pe=Pe[1];var It=Mt.split("_");se=2<=It.length&&It[1]=="type"?se+(Mt+"="+Pe+"&"):se+(Mt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function Af(c,y,v,S,B,$,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+$+" "+se})}function mi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ys(c,v)+(S?" "+S:"")})}function Uu(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function ys(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return jn(v)}catch{return y}}var pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function nr(){}N(nr,Uo),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},tr=new nr;function en(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Fo={},ga={};function zn(c,y,v){c.L=1,c.v=bs(mn(y)),c.m=v,c.P=!0,Cr(c,null)}function Cr(c,y){c.F=Date.now(),vs(c),c.A=mn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Xo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new mt,c.g=ec(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Sf(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ms[0]=B.toString()),B=ms);for(var $=0;$<B.length;$++){var se=Vu(v,B[$],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),di(),Ho(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const It=Cn(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||It!=4||y==7||(y==8||0>=Pr?di(3):di(2)),gi(this);var v=this.g.Z();this.X=v;t:if(ju(this)){var S=Yu(this.g);c="";var B=S.length,$=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),rr(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,Af(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Rt=this.g;if((ke=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ke)){var Pe=ke;break t}}Pe=null}if(v=Pe)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_s(this,v);else{this.o=!1,this.s=3,it(12),jt(this),rr(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<se.length;)if(zt=zu(this,se),zt==ga){It==4&&(this.s=4,it(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Fo){this.s=4,it(15),mi(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,zt,null),_s(this,zt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||se.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,se,"[Invalid Chunked Response]"),jt(this),rr(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ds(Mt),Mt.M=!0,it(11))}}else mi(this.i,this.l,se,null),_s(this,se);It==4&&jt(this),this.o&&!this.J&&(It==4?Wu(this.j,this):(this.o=!1,vs(this)))}else Df(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),jt(this),rr(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ga:(v=Number(y.substring(v,S)),isNaN(v)?Fo:(S+=1,S+v>y.length?ga:(y=y.slice(S,S+v),c.C=S+v,y)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function vs(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(b(c.ba,c),y)}function gi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Uu(this.i,this.A),this.L!=2&&(di(),it(17)),jt(this),this.s=2,rr(this)):Bu(this,this.S-c)};function rr(c){c.j.G==0||c.J||Wu(c.j,c)}function jt(c){gi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ps(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _s(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Go(v.h,c))){if(!c.K&&Go(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ca(v),Ra(v);else break e;tl(v),it(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(b(v.Za,v),6e3));if(1>=va(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else kr(v,11)}else if((c.K||v.g==c)&&Ca(v),!W(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Mt=Pe[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const It=Pe[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const Pr=Pe[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(S=1.5*Pr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const zt=c.g;if(zt){const cr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var $=S.h;$.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(_a($,$.h),$.h=null))}if(S.D){const rl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(S.ya=rl,Ke(S.I,S.D,rl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var se=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),se.K){tn(S.h,se);var ke=se,Rt=S.L;Rt&&(ke.I=Rt),ke.B&&(gi(ke),vs(ke)),S.g=se}else Ku(S);0<v.i.length&&Ia(v)}else Pe[0]!="stop"&&Pe[0]!="close"||kr(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?kr(v,7):Jo(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}di(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function xr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function va(c){return c.h?1:c.g?c.g.size:0}function Go(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function _a(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xr.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function Rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ea(c),S=Rf(c),B=S.length,$=0;$<B;$++)y.call(void 0,S[$],v&&v[$],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var $=c[v].substring(0,S);B=c[v].substring(S+1)}else $=c[v];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.s),this.l=c.l;var y=c.i,v=new Nr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Dr(this,v),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,Ts(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),yi(this,y[4]),this.l=An(y[5]||"",!0),Dr(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ws(y,$o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ws(y,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?Cf:Ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,Ta)),c.join("")};function mn(c){return new _t(c)}function Ts(c,y,v){c.j=v?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Dr(c,y,v){y instanceof Nr?(c.i=y,Fu(c.i,c.h)):(v||(y=ws(y,xf)),c.i=new Nr(y,c.h))}function Ke(c,y,v){c.i.set(y,v)}function bs(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Ko=/[#\?:]/g,Cf=/[#\?]/g,xf=/[#\?@]/g,Ta=/#/g;function Nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&If(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Nr.prototype,r.add=function(c,y){Rn(this),this.i=null,c=ir(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Or(c,y){Rn(c),y=ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mr(c,y){return Rn(c),y=ir(c,y),c.g.has(y)}r.forEach=function(c,y){Rn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const B=c[S];for(let $=0;$<B.length;$++)v.push(y[S])}return v},r.V=function(c){Rn(this);let y=[];if(typeof c=="string")Mr(this,c)&&(y=y.concat(this.g.get(ir(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Rn(this),this.i=null,c=ir(this,c),Mr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Xo(c,y,v){Or(c,y),0<v.length&&(c.i=null,c.g.set(ir(c,y),z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const $=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var B=$;se[S]!==""&&(B+="="+encodeURIComponent(String(se[S]))),c.push(B)}}return this.i=c.join("&")};function ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Or(this,S),Xo(this,B,v))},c)),c.j=y}function Ss(c,y){const v=new Sn;if(m.Image){const S=new Image;S.onload=O(In,v,"TestLoadImage: loaded",!0,y,S),S.onerror=O(In,v,"TestLoadImage: error",!1,y,S),S.onabort=O(In,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(In,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Bn(c,y){const v=new Sn,S=new AbortController,B=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function As(){this.g=new gs}function sr(c,y,v){const S=v||"";try{Qo(c,function(B,$){let se=B;g(B)&&(se=jn(B)),y.push(S+$+"="+encodeURIComponent(se))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function vi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(vi,Uo),vi.prototype.g=function(){return new Vr(this.l,this.j)},vi.prototype.i=function(c){return function(){return c}}({});function Vr(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Vr,ut),r=Vr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,or(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ar(this):or(this),this.readyState==3&&Wo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ar(this))},r.Qa=function(c){this.g&&(this.response=c,ar(this))},r.ga=function(){this.g&&ar(this)};function ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,or(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zo(c){let y="";return ge(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Zo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,y,v))}function He(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,ut);var ba=/^https?$/i,Rs=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?jo(this.o):jo(tr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Gu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of v)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Gu(this,$)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,wa(c),lr(c)}function wa(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),lr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},r.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Qt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=se===0){var B=String(c.D).match(Es)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!ba.test(B?B.toLowerCase():"")}v=S}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var $=2<Cn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",wa(c)}}finally{lr(c)}}}}function lr(c,y){if(c.g){Is(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=S}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ma(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(W(c[S]))continue;var v=P(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[B]||[];y[B]=$,$.push(v)}M(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Aa.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){it(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),Ia(this)};function Jo(c){if(Qu(c),c.G==3){var y=c.U++,v=mn(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),xs(c,v),y=new en(c,c.j,y),y.L=2,y.v=bs(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vs(y)}Zu(c)}function Ra(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Qu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!ya(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||V(),me||(ae(),me=!0),Be.add(y,c),c.B=0}}function Nf(c,y){return va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(b(c.Ga,c,y),nl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),x($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=$u(this,B,y),v=mn(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),xs(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Zo($)))+"&"+y:this.m&&Ot(v,this.m,$)),_a(this.h,B),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",y),Ke(v,"SID","null"),B.T=!0,zn(B,v,null)):zn(B,v,y),this.G=2}}else this.G==3&&(c?el(this,c):this.i.length==0||ya(this.h)||el(this))};function el(c,y){var v;y?v=y.l:v=c.U++;const S=mn(c.I);Ke(S,"SID",c.K),Ke(S,"RID",v),Ke(S,"AID",c.T),xs(c,S),c.m&&c.o&&Ot(S,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_a(c.h,v),zn(v,S,y)}function xs(c,y){c.H&&ge(c.H,function(v,S){Ke(y,S,v)}),c.l&&Qo({},function(v,S){Ke(y,S,v)})}function $u(c,y,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const se=["count="+v];$==-1?0<v?($=B[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let ke=!0;for(let Rt=0;Rt<v;Rt++){let Pe=B[Rt].g;const Mt=B[Rt].map;if(Pe-=$,0>Pe)$=Math.max(0,B[Rt].g-100),ke=!1;else try{sr(Mt,se,"req"+Pe+"_")}catch{S&&S(Mt)}}if(ke){S=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||V(),me||(ae(),me=!0),Be.add(y,c),c.v=0}}function tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(b(c.Fa,c),nl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ra(this),Xu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),xs(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=bs(mn(y)),v.m=null,v.P=!0,Cr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ra(this),tl(this),it(19))};function Ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){Ca(c),Ds(c),c.g=null;var S=2}else if(Go(c.h,y))v=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=fi(),Ge(S,new At(S,v)),Ia(c)}else Ku(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Nf(c,y)||S==2&&tl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function nl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function kr(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),S=c.Xa;const B=!S;S=new _t(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ts(S,"https"),bs(S),B?Ss(S.toString(),v):Bn(S.toString(),v)}else it(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,v){var S=v instanceof _t?mn(v):new _t(v);if(S.g!="")y&&(S.g=y+"."+S.g),yi(S,S.s);else{var B=m.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new _t(null);S&&Ts($,S),y&&($.g=y),B&&yi($,B),v&&($.l=v),S=$}return v=c.D,y=c.ya,v&&y&&Ke(S,v,y),Ke(S,"VER",c.la),xs(c,S),S}function ec(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new vi({eb:v})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ut.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ur(this)}N(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Jo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);y.i.push(new qu(y.Ya++,c)),y.G==3&&Ia(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,nn.aa.N.call(this)};function nc(c){Rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(nc,Rr);function rc(){Bo.call(this),this.status=1}N(rc,Bo);function ur(c){this.g=c}N(ur,tc),ur.prototype.ua=function(){Ge(this.g,"a")},ur.prototype.ta=function(c){Ge(this.g,new nc(c))},ur.prototype.sa=function(c){Ge(this.g,new rc)},ur.prototype.ra=function(){Ge(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,WT=function(){return new xa},XT=function(){return fi()},KT=er,Jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,vh=pi,Ir.COMPLETE="complete",$T=Ir,zo.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Wl=zo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,QT=He}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",C0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new xp("@firebase/firestore");function so(){return na.logLevel}function ce(r,...e){if(na.logLevel<=Me.DEBUG){const t=e.map(Hp);na.debug(`Firestore (${xo}): ${r}`,...t)}}function oi(r,...e){if(na.logLevel<=Me.ERROR){const t=e.map(Hp);na.error(`Firestore (${xo}): ${r}`,...t)}}function Zi(r,...e){if(na.logLevel<=Me.WARN){const t=e.map(Hp);na.warn(`Firestore (${xo}): ${r}`,...t)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ZT(r,s,t)}function ZT(r,e,t){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw oi(s),new Error(s)}function Fe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||ZT(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new JT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class jC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new jC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new x0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function ep(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=eb(),f=HC(u.encode(D0(r,t)),u.encode(D0(e,t)));return f!==0?f:Ce(s,o)}}t+=s>65535?2:1}return Ce(r.length,e.length)}function D0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function HC(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ce(r[t],e[t]);return Ce(r.length,e.length)}function yo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__name__";class gr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const s=gr.isNumericId(e),o=gr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):ep(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class nt extends gr{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends gr{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new Gt([N0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(r,e,t){if(!t)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GC(r,e,t,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function O0(r){if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M0(r){if(pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function $n(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function Cu(r,e){if(!nb(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ue(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-62135596800,k0=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*k0);return new je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<V0)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:St("string",je._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new je(0,0))}static max(){return new Se(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function YC(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new je(t+1,0):new je(t,s));return new Ji(o,pe.empty(),e)}function QC(r){return new Ji(r.readTime,r.key,fu)}class Ji{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ji(Se.min(),pe.empty(),fu)}static max(){return new Ji(Se.max(),pe.empty(),fu)}}function $C(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==KC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function WC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ef.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function tf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function ZC(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="";function JC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=P0(e)),e=ex(r.get(t),e);return P0(e)}function ex(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case rb:t+="";break;default:t+=u}}return t}function P0(r){return r+rb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function as(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ib(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Dt(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sb("Invalid base64 string: "+u):u}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const t=tx.exec(r);if(Fe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="server_timestamp",ob="__type__",lb="__previous_value__",ub="__local_write_time__";function Yp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ob])===null||t===void 0?void 0:t.stringValue)===ab}function nf(r){const e=r.mapValue.fields[lb];return Yp(e)?nf(e):e}function du(r){const e=es(r.mapValue.fields[ub].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const kh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__type__",rx="__max__",lh={mapValue:{}},hb="__vector__",Ph="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:sx(r)?9007199254740991:ix(r)?10:11:Ee(28295,{value:r})}function wr(r,e){if(r===e)return!0;const t=ns(r);if(t!==ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L0(f)!==L0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!wr(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function pu(r,e){return(r.values||[]).find(t=>wr(t,e))!==void 0}function vo(r,e){if(r===e)return 0;const t=ns(r),s=ns(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return j0(r.timestampValue,e.timestampValue);case 4:return j0(du(r),du(e));case 5:return ep(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ts(u),p=ts(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(yt(u.latitude),yt(f.latitude));return m!==0?m:Ce(yt(u.longitude),yt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return z0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},b=f.fields||{},O=(m=w[Ph])===null||m===void 0?void 0:m.arrayValue,N=(p=b[Ph])===null||p===void 0?void 0:p.arrayValue,z=Ce(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:z0(O,N)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===lh.mapValue&&f===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(f===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const b=ep(p[w],E[w]);if(b!==0)return b;const O=vo(m[p[w]],g[E[w]]);if(O!==0)return O}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function j0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=es(r),s=es(e),o=Ce(t.seconds,s.seconds);return o!==0?o:Ce(t.nanos,s.nanos)}function z0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=vo(t[o],s[o]);if(u)return u}return Ce(t.length,s.length)}function _o(r){return tp(r)}function tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=es(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ts(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tp(t.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return as(s.fields,(u,f)=>{o+=u.length+_h(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function B0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function np(r){return!!r&&"integerValue"in r}function Qp(r){return!!r&&"arrayValue"in r}function q0(r){return!!r&&"nullValue"in r}function H0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function ix(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[cb])===null||t===void 0?void 0:t.stringValue)===hb}function ru(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return as(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ru(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===rx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=ru(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){as(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(ru(this.value))}}function fb(r){const e=[];return as(r.fields,(t,s)=>{const o=new Gt([t]);if(Eh(s)){const u=fb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function F0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),t.key):s=vo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function G0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!wr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ax(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{}class wt extends db{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lx(e,t,s):t==="array-contains"?new hx(e,s):t==="in"?new fx(e,s):t==="not-in"?new dx(e,s):t==="array-contains-any"?new mx(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new ux(e,s):new cx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vo(t,this.value)):t!==null&&ns(this.value)===ns(t)&&this.matchesComparison(vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends db{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Xn(e,t)}matches(e){return mb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function mb(r){return r.op==="and"}function pb(r){return ox(r)&&mb(r)}function ox(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function rp(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(pb(r))return r.filters.map(e=>rp(e)).join(",");{const e=r.filters.map(t=>rp(t)).join(",");return`${r.op}(${e})`}}function gb(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&wr(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&gb(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function yb(r){return r instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(r):r instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(yb).join(" ,")+"}"}(r):"Filter"}class lx extends wt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class ux extends wt{constructor(e,t){super(e,"in",t),this.keys=vb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cx extends wt{constructor(e,t){super(e,"not-in",t),this.keys=vb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class hx extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&pu(t.arrayValue,this.value)}}class fx extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pu(this.value.arrayValue,t)}}class dx extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pu(this.value.arrayValue,t)}}class mx extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function Y0(r,e=null,t=[],s=[],o=null,u=null,f=null){return new px(r,e,t,s,o,u,f)}function $p(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>rp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.Pe=t}return e.Pe}function Kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ax(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!gb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!G0(r.startAt,e.startAt)&&G0(r.endAt,e.endAt)}function ip(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gx(r,e,t,s,o,u,f,m){return new Oo(r,e,t,s,o,u,f,m)}function rf(r){return new Oo(r)}function Q0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _b(r){return r.collectionGroup!==null}function iu(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new gu(u,s))}),t.has(Gt.keyField().canonicalString())||e.Te.push(new gu(Gt.keyField(),s))}return e.Te}function vr(r){const e=Ae(r);return e.Ie||(e.Ie=yx(e,iu(r))),e.Ie}function yx(r,e){if(r.limitType==="F")return Y0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)});const t=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return Y0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function sp(r,e){const t=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ap(r,e,t){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function sf(r,e){return Kp(vr(r),vr(e))&&r.limitType===e.limitType}function Eb(r){return`${$p(vr(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>yb(o)).join(", ")}]`),tf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(vr(r))}; limitType=${r.limitType})`}function af(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=F0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,iu(s),o)||s.endAt&&!function(f,m,p){const g=F0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,iu(s),o))}(r,e)}function vx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Tb(r){return(e,t)=>{let s=!1;for(const o of iu(r)){const u=_x(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function _x(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new lt(pe.comparator);function li(){return Ex}const bb=new lt(pe.comparator);function Zl(...r){let e=bb;for(const t of r)e=e.insert(t.key,t);return e}function wb(r){let e=bb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ks(){return su()}function Sb(){return su()}function su(){return new aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const Tx=new lt(pe.comparator),bx=new Dt(pe.comparator);function Ve(...r){let e=bx;for(const t of r)e=e.add(t);return e}const wx=new Dt(Ce);function Sx(){return wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Ab(r){return{integerValue:""+r}}function Ax(r,e){return ZC(e)?Ab(e):Xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function Rx(r,e,t){return r instanceof yu?function(o,u){const f={fields:{[ob]:{stringValue:ab},[ub]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=nf(u)),u&&(f.fields[lb]=u),{mapValue:f}}(t,e):r instanceof Eo?Ib(r,e):r instanceof To?Cb(r,e):function(o,u){const f=Rb(o,u),m=$0(f)+$0(o.Ee);return np(f)&&np(o.Ee)?Ab(m):Xp(o.serializer,m)}(r,e)}function Ix(r,e,t){return r instanceof Eo?Ib(r,e):r instanceof To?Cb(r,e):t}function Rb(r,e){return r instanceof Uh?function(s){return np(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class yu extends of{}class Eo extends of{constructor(e){super(),this.elements=e}}function Ib(r,e){const t=xb(e);for(const s of r.elements)t.some(o=>wr(o,s))||t.push(s);return{arrayValue:{values:t}}}class To extends of{constructor(e){super(),this.elements=e}}function Cb(r,e){let t=xb(e);for(const s of r.elements)t=t.filter(o=>!wr(o,s));return{arrayValue:{values:t}}}class Uh extends of{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function $0(r){return yt(r.integerValue||r.doubleValue)}function xb(r){return Qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.field=e,this.transform=t}}function Cx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?yo(s.elements,o.elements,wr):s instanceof Uh&&o instanceof Uh?wr(s.Ee,o.Ee):s instanceof yu&&o instanceof yu}(r.transform,e.transform)}class xx{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lf{}function Db(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ob(r.key,Kn.none()):new xu(r.key,r.data,Kn.none());{const t=r.data,s=hn.empty();let o=new Dt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new os(r.key,s,new bn(o.toArray()),Kn.none())}}function Dx(r,e,t){r instanceof xu?function(o,u,f){const m=o.value.clone(),p=X0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):r instanceof os?function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=X0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Nb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function au(r,e,t,s){return r instanceof xu?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=u.value.clone(),E=W0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof os?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=W0(u.fieldTransforms,p,f),E=f.data;return E.setAll(Nb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,t)}function Nx(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Rb(s.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(s.field,u))}return t||null}function K0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,(u,f)=>Cx(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends lf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends lf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Nb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function X0(r,e,t){const s=new Map;Fe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Ix(f,m,t[o]))}return s}function W0(r,e,t){const s=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);s.set(o.field,Rx(u,f,e))}return s}class Ob extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ox extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Dx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Sb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=Db(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(t,s)=>K0(t,s))&&yo(this.baseMutations,e.baseMutations,(t,s)=>K0(t,s))}}class Zp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return Tx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Zp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ue;function Px(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Mb(r){if(r===void 0)return oi("GRPC error has no .code"),J.UNKNOWN;switch(r){case bt.OK:return J.OK;case bt.CANCELLED:return J.CANCELLED;case bt.UNKNOWN:return J.UNKNOWN;case bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case bt.INTERNAL:return J.INTERNAL;case bt.UNAVAILABLE:return J.UNAVAILABLE;case bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case bt.NOT_FOUND:return J.NOT_FOUND;case bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case bt.ABORTED:return J.ABORTED;case bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case bt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=bt||(bt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Ki([4294967295,4294967295],0);function Z0(r){const e=eb().encode(r),t=new YT;return t.update(e),new Uint8Array(t.digest())}function J0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ki([t,s],0),new Ki([o,u],0)]}class Jp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Jl(`Invalid padding: ${t}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ki.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Ki.fromNumber(s)));return o.compare(Lx)===1&&(o=new Ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Z0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Jp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const t=Z0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new uf(Se.min(),o,new lt(Ce),li(),Ve())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Vb{constructor(e,t){this.targetId=e,this.De=t}}class kb{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class eE{constructor(){this.ve=0,this.Ce=tE(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),s=Ve();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Du(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=tE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Ux{constructor(e){this.We=e,this.Ge=new Map,this.ze=li(),this.je=uh(),this.Je=uh(),this.He=new lt(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(ip(u))if(s===0){const f=new pe(u.path);this.Xe(t,f,Zt.newNoDocument(f,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this.ot(t);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=ts(s).toUint8Array()}catch(p){if(p instanceof sb)return Zi("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(f,o,u)}catch(p){return Zi(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&ip(m.target)){const p=new pe(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Zt.newNoDocument(p,e))}u.Ne&&(t.set(f,u.Le()),u.ke())}});let s=Ve();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new uf(e,t,this.He,this.ze,s);return this.ze=li(),this.je=uh(),this.Je=uh(),this.He=new lt(Ce),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new eE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new eE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function uh(){return new lt(pe.comparator)}function tE(){return new lt(pe.comparator)}const jx={asc:"ASCENDING",desc:"DESCENDING"},zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bx={and:"AND",or:"OR"};class qx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(r,e){return r.useProto3Json||tf(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(r,e){return jh(r,e.toTimestamp())}function _r(r){return Fe(!!r,49232),Se.fromTimestamp(function(t){const s=es(t);return new je(s.seconds,s.nanos)}(r))}function eg(r,e){return lp(r,e).canonicalString()}function lp(r,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Lb(r){const e=nt.fromString(r);return Fe(qb(e),10190,{key:e.toString()}),e}function up(r,e){return eg(r.databaseId,e.path)}function Lm(r,e){const t=Lb(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(jb(t))}function Ub(r,e){return eg(r.databaseId,e)}function Fx(r){const e=Lb(r);return e.length===4?nt.emptyPath():jb(e)}function cp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nE(r,e,t){return{name:up(r,e),fields:t.value.mapValue.fields}}function Gx(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?J.UNKNOWN:Mb(g.code);return new ue(E,g.message||"")}(f);t=new kb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lm(r,s.document.name),u=_r(s.document.updateTime),f=s.document.createTime?_r(s.document.createTime):Se.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new bh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lm(r,s.document),u=s.readTime?_r(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new bh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lm(r,s.document),u=s.removedTargetIds||[];t=new bh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new kx(o,u),m=s.targetId;t=new Vb(m,f)}}return t}function Yx(r,e){let t;if(e instanceof xu)t={update:nE(r,e.key,e.value)};else if(e instanceof Ob)t={delete:up(r,e.key)};else if(e instanceof os)t={update:nE(r,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof Ox))return Ee(16599,{Rt:e.type});t={verify:up(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof yu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof To)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Hx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),t}function Qx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(t=>function(o,u){let f=o.updateTime?_r(o.updateTime):_r(u);return f.isEqual(Se.min())&&(f=_r(u)),new xx(f,o.transformResults||[])}(t,e))):[]}function $x(r,e){return{documents:[Ub(r,e.path)]}}function Kx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Ub(r,o);const u=function(g){if(g.length!==0)return Bb(Xn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:oo(b.field),direction:Zx(b.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=op(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function Xx(r){let e=Fx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(w){const b=zb(w);return b instanceof Xn&&pb(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(w){return w.map(b=>function(N){return new gu(lo(N.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,tf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(w){const b=!!w.before,O=w.values||[];return new Lh(O,b)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const b=!w.before,O=w.values||[];return new Lh(O,b)}(t.endAt)),gx(e,o,f,u,m,"F",p,g)}function Wx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zb(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(t.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(t.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return wt.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(s=>zb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function Zx(r){return jx[r]}function Jx(r){return zx[r]}function eD(r){return Bx[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Gt.fromServerFormat(r.fieldPath)}function Bb(r){return r instanceof wt?function(t){if(t.op==="=="){if(H0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(q0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(H0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(q0(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:Jx(t.op),value:t.value}}}(r):r instanceof Xn?function(t){const s=t.getFilters().map(o=>Bb(o));return s.length===1?s[0]:{compositeFilter:{op:eD(t.op),filters:s}}}(r):Ee(54877,{filter:r})}function tD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,s,o,u=Se.min(),f=Se.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.gt=e}}function rD(r){const e=Xx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Dn=new sD}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ji.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class sD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hb=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(Hb,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new bo(0)}static ur(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",aD=1048576;function sE([r,e],[t,s]){const o=Ce(r,t);return o===0?Ce(e,s):o}class oD{constructor(e){this.Tr=e,this.buffer=new Dt(sE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();sE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(iE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){No(t)?ce(iE,"Ignoring IndexedDB error during garbage collection: ",t):await Do(t)}await this.Rr(3e5)})}}class uD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(ef.ue);const s=new oD(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(rE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),so()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function cD(r,e){return new uD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&au(s.mutation,o,bn.empty(),je.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=Ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=li();const f=su(),m=function(){return su()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof os)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),au(E.mutation,g,E.mutation.getFieldMask(),je.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),t.forEach((g,E)=>{var w;return m.set(g,new fD(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const s=su();let o=new lt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=Sb();E.forEach(b=>{if(!u.has(b)){const O=Db(t.get(b),s.get(b));O!==null&&w.set(b,O),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_b(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Ks());let m=fu,p=u;return f.next(g=>te.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:wb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,b){return new Oo(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&au(E.mutation,g,bn.empty(),je.now()),af(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:rD(o.bundledQuery),readTime:_r(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.overlays=new lt(pe.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ks();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Ks(),u=t.length+1,f=new pe(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ks(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Vx(t,s));let u=this.kr.get(t);u===void 0&&(u=Ve(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.qr=new Dt(Lt.Qr),this.$r=new Dt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new pe(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new pe(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=Ve();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return pe.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(Lt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Mx(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Gp:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Ce);return t.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new pe(u),0);let m=new Dt(Ce);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},f),te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.ni=e,this.docs=function(){return new lt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=li();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=li();const f=t.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||$C(QC(E),s)<=0||(o.has(E.key)||af(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new _D(this)}getSize(e){return te.resolve(this.size)}}class _D extends hD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.persistence=e,this.ii=new aa(t=>$p(t),Kp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new tg,this.targetCount=0,this._i=bo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new bo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t){this.ai={},this.overlays={},this.ui=new ef(0),this.ci=!1,this.ci=!0,this.li=new gD,this.referenceDelegate=e(this),this.hi=new ED(this),this.indexManager=new iD,this.remoteDocumentCache=function(o){return new vD(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new nD(t),this.Ti=new mD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new yD(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new TD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class TD extends XC{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ai=new tg,this.Ri=null}static Vi(e){return new ng(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=pe.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class zh{constructor(e,t){this.persistence=e,this.gi=new aa(s=>JC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=cD(this,t)}static Vi(e,t){return new zh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}Sr(e,t,s){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return yR()?8:WC(Jt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new bD;return this.ws(e,t,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,f,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(so()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(so()<=Me.DEBUG&&ce("QueryEngine","Query:",ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(so()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):te.resolve())}ps(e,t){if(Q0(t))return te.resolve(null);let s=vr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ap(t,null,"F"),s=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,f,p.readTime)?this.ps(e,ap(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return Q0(t)||o.isEqual(Se.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(t,u);return this.Ds(t,f,s,o)?te.resolve(null):(so()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.vs(e,f,t,YC(o,fu)).next(m=>m))})}bs(e,t){let s=new Dt(Tb(e));return t.forEach((o,u)=>{af(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return so()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ao(t)),this.gs.getDocumentsMatchingQuery(e,t,Ji.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",SD=3e8;class AD{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new lt(Ce),this.Ms=new aa(u=>$p(u),Kp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function RD(r,e,t,s){return new AD(r,e,t,s)}async function Gb(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:m}))})})}function ID(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,b=w.keys();let O=te.resolve();return b.forEach(N=>{O=O.next(()=>E.getEntry(p,N)).next(z=>{const F=g.docVersions.get(N);Fe(F!==null,48541),z.version.compareTo(F)<0&&(w.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Yb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function CD(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((E,w)=>{const b=o.get(w);if(!b)return;m.push(t.hi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>t.hi.addMatchingKeys(u,E.addedDocuments,w)));let O=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function(z,F,Y){return z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=SD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,O,E)&&m.push(t.hi.updateTargetData(u,O))});let p=li(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(xD(u,f,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(Se.min())){const E=t.hi.getLastRemoteSnapshotVersion(u).next(w=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function xD(r,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=li();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function DD(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Gp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ND(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.hi.allocateTargetId(s).next(f=>(o=new Yi(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function hp(r,e,t){const s=Ae(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;ce(ig,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function aE(r,e,t){const s=Ae(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ae(p),b=w.Ms.get(E);return b!==void 0?te.resolve(w.Fs.get(b)):w.hi.getTargetData(g,E)}(s,f,vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,t?o:Se.min(),t?u:Ve())).next(m=>(OD(s,vx(e),m),{documents:m,qs:u})))}function OD(r,e,t){let s=r.xs.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class oE{constructor(){this.activeTargetIds=Sx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MD{constructor(){this.Fo=new oE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new oE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class uE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(lE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(lE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function fp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const f=fp(),m=this.Go(e,t.toUriEncodedString());ce(Um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Ro(g);return this.jo(e,m,p,s,E).then(w=>(ce(Um,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Zi(Um,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Jo(e,t,s,o,u,f){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=kD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class UD extends PD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const f=fp();return new Promise((m,p)=>{const g=new QT;g.setWithCredentials(!0),g.listenOnce($T.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const w=g.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case vh.TIMEOUT:ce(Xt,`RPC '${e}' ${f} timed out`),p(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const b=g.getStatus();if(ce(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const N=O==null?void 0:O.error;if(N&&N.status&&N.message){const z=function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN}(N.status);p(new ue(z,N.message))}else p(new ue(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ce(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(t,"POST",E,s,15)})}P_(e,t,s){const o=fp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=WT(),m=XT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let b=!1,O=!1;const N=new LD({Ho:F=>{O?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Yo:()=>w.close()}),z=(F,Y,W)=>{F.listen(Y,re=>{try{W(re)}catch(fe){setTimeout(()=>{throw fe},0)}})};return z(w,Wl.EventType.OPEN,()=>{O||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),N.s_())}),z(w,Wl.EventType.CLOSE,()=>{O||(O=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),N.__(),this.I_(w))}),z(w,Wl.EventType.ERROR,F=>{O||(O=!0,Zi(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),N.__(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),z(w,Wl.EventType.MESSAGE,F=>{var Y;if(!O){const W=F.data[0];Fe(!!W,16349);const re=W,fe=(re==null?void 0:re.error)||((Y=re[0])===null||Y===void 0?void 0:Y.error);if(fe){ce(Xt,`RPC '${e}' stream ${o} received error:`,fe);const oe=fe.status;let ge=function(R){const x=bt[R];if(x!==void 0)return Mb(x)}(oe),M=fe.message;ge===void 0&&(ge=J.INTERNAL,M="Unknown error status: "+oe+" with message "+fe.message),O=!0,N.__(new ue(ge,M)),w.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,W),N.a_(W)}}),z(m,KT.STAT_EVENT,F=>{F.stat===Jm.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Jm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r){return new qx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class $b{constructor(e,t,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Qb(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(cE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ce(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jD extends $b{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Gx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?_r(f.readTime):Se.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=cp(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=ip(p)?{documents:$x(u,p)}:{query:Kx(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Pb(u,f.resumeToken);const g=op(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=op(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Wx(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=cp(this.serializer),t.removeTarget=e,this.k_(t)}}class zD extends $b{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Qx(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=cp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Yx(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class qD extends BD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,lp(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,lp(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class HD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(oi(t),this._a=!1):ce("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class FD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{oa(this)&&(ce(ra,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Nu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await hf(g)}(this))})}),this.Aa=new HD(s,o)}}async function hf(r){if(oa(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function Kb(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),lg(t)?og(t):Mo(t).x_()&&ag(t,e))}function sg(r,e){const t=Ae(r),s=Mo(t);t.Ta.delete(e),s.x_()&&Xb(t,e),t.Ta.size===0&&(s.x_()?s.B_():oa(t)&&t.Aa.set("Unknown"))}function ag(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mo(r).H_(e)}function Xb(r,e){r.Ra.$e(e),Mo(r).Y_(e)}function og(r){r.Ra=new Ux({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Aa.aa()}function lg(r){return oa(r)&&!Mo(r).M_()&&r.Ta.size>0}function oa(r){return Ae(r).Ia.size===0}function Wb(r){r.Ra=void 0}async function GD(r){r.Aa.set("Online")}async function YD(r){r.Ta.forEach((e,t)=>{ag(r,e)})}async function QD(r,e){Wb(r),lg(r)?(r.Aa.la(e),og(r)):r.Aa.set("Unknown")}async function $D(r,e,t){if(r.Aa.set("Online"),e instanceof kb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){ce(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof bh?r.Ra.Ye(e):e instanceof Vb?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Se.min()))try{const s=await Yb(r.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),Xb(u,p);const w=new Yi(E.target,p,g,E.sequenceNumber);ag(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ce(ra,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,t){if(!No(e))throw e;r.Ia.add(1),await Nu(r),r.Aa.set("Offline"),t||(t=()=>Yb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(ra,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await hf(r)})}function Zb(r,e){return e().catch(t=>Bh(r,t,e))}async function ff(r){const e=Ae(r),t=rs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gp;for(;KD(e);)try{const o=await DD(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,XD(e,o)}catch(o){await Bh(e,o)}Jb(e)&&ew(e)}function KD(r){return oa(r)&&r.Pa.length<10}function XD(r,e){r.Pa.push(e);const t=rs(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function Jb(r){return oa(r)&&!rs(r).M_()&&r.Pa.length>0}function ew(r){rs(r).start()}async function WD(r){rs(r).na()}async function ZD(r){const e=rs(r);for(const t of r.Pa)e.X_(t.mutations)}async function JD(r,e,t){const s=r.Pa.shift(),o=Zp.from(s,e,t);await Zb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ff(r)}async function eN(r,e){e&&rs(r).Z_&&await async function(s,o){if(function(f){return Px(f)&&f!==J.ABORTED}(o.code)){const u=s.Pa.shift();rs(s).N_(),await Zb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ff(s)}}(r,e),Jb(r)&&ew(r)}async function hE(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),ce(ra,"RemoteStore received new credentials");const s=oa(t);t.Ia.add(3),await Nu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await hf(t)}async function tN(r,e){const t=Ae(r);e?(t.Ia.delete(2),await hf(t)):e||(t.Ia.add(2),await Nu(t),t.Aa.set("Unknown"))}function Mo(r){return r.Va||(r.Va=function(t,s,o){const u=Ae(t);return u.ia(),new jD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:GD.bind(null,r),e_:YD.bind(null,r),n_:QD.bind(null,r),J_:$D.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),lg(r)?og(r):r.Aa.set("Unknown")):(await r.Va.stop(),Wb(r))})),r.Va}function rs(r){return r.ma||(r.ma=function(t,s,o){const u=Ae(t);return u.ia(),new zD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:WD.bind(null,r),n_:eN.bind(null,r),ea:ZD.bind(null,r),ta:JD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await ff(r)):(await r.ma.stop(),r.Pa.length>0&&(ce(ra,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new ug(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(r,e){if(oi("AsyncQueue",`${e}: ${r}`),No(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Zl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.fa=new lt(pe.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class wo{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new wo(e,t,fo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class rN{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=dE(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function dE(){return new aa(r=>Eb(r),sf)}async function tw(r,e){const t=Ae(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new nN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=cg(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&hg(t)}async function nw(r,e){const t=Ae(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function iN(r,e){const t=Ae(r);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&hg(t)}function sN(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function hg(r){r.Da.forEach(e=>{e.next()})}var dp,mE;(mE=dp||(dp={})).Fa="default",mE.Cache="cache";class rw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class sw{constructor(e){this.key=e}}class aN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=Tb(e),this.eu=new fo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new fE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const b=o.get(E),O=af(this.query,w)?w:null,N=!!b&&this.mutatedKeys.has(b.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let F=!1;b&&O?b.data.isEqual(O.data)?N!==z&&(s.track({type:3,doc:O}),F=!0):this.iu(b,O)||(s.track({type:2,doc:O}),F=!0,(p&&this.Xa(O,p)>0||g&&this.Xa(O,g)<0)&&(m=!0)):!b&&O?(s.track({type:0,doc:O}),F=!0):b&&!O&&(s.track({type:1,doc:b}),F=!0,(p||g)&&(m=!0)),F&&(O?(f=f.add(O),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((E,w)=>function(O,N){const z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:F})}};return z(O)-z(N)}(E.type,w.type)||this.Xa(E.doc,w.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new wo(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new fE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new sw(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new iw(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return wo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const fg="SyncEngine";class oN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class lN{constructor(e){this.key=e,this.lu=!1}}class uN{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new aa(m=>Eb(m),sf),this.Tu=new Map,this.Iu=new Set,this.du=new lt(pe.comparator),this.Eu=new Map,this.Au=new tg,this.Ru={},this.Vu=new Map,this.mu=bo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function cN(r,e,t=!0){const s=hw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await aw(s,e,t,!0),o}async function hN(r,e){const t=hw(r);await aw(t,e,!0,!1)}async function aw(r,e,t,s){const o=await ND(r.localStore,vr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await fN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&Kb(r.remoteStore,o),m}async function fN(r,e,t,s,o){r.gu=(w,b,O)=>async function(z,F,Y,W){let re=F.view.nu(Y);re.Ds&&(re=await aE(z.localStore,F.query,!1).then(({documents:M})=>F.view.nu(M,re)));const fe=W&&W.targetChanges.get(F.targetId),oe=W&&W.targetMismatches.get(F.targetId)!=null,ge=F.view.applyChanges(re,z.isPrimaryClient,fe,oe);return gE(z,F.targetId,ge._u),ge.snapshot}(r,w,b,O);const u=await aE(r.localStore,e,!0),f=new aN(e,u.qs),m=f.nu(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);gE(r,t,g._u);const E=new oN(e,t,f);return r.Pu.set(e,E),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function dN(r,e,t){const s=Ae(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!sf(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&sg(s.remoteStore,o.targetId),mp(s,o.targetId)}).catch(Do)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function mN(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),sg(t.remoteStore,s.targetId))}async function pN(r,e,t){const s=bN(r);try{const o=await function(f,m){const p=Ae(f),g=je.now(),E=m.reduce((O,N)=>O.add(N.key),Ve());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let N=li(),z=Ve();return p.Os.getEntries(O,E).next(F=>{N=F,N.forEach((Y,W)=>{W.isValidDocument()||(z=z.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,N)).next(F=>{w=F;const Y=[];for(const W of m){const re=Nx(W,w.get(W.key).overlayedDocument);re!=null&&Y.push(new os(W.key,re,fb(re.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Y,m)}).next(F=>{b=F;const Y=F.applyToLocalDocumentSet(w,z);return p.documentOverlayCache.saveOverlays(O,F.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:wb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new lt(Ce)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g}(s,o.batchId,t),await Ou(s,o.changes),await ff(s.remoteStore)}catch(o){const u=cg(o,"Failed to persist write");t.reject(u)}}async function ow(r,e){const t=Ae(r);try{const s=await CD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Eu.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Fe(f.lu,14607):o.removedDocuments.size>0&&(Fe(f.lu,42227),f.lu=!1))}),await Ou(t,s,e)}catch(s){await Do(s)}}function pE(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const b of w.wa)b.va(m)&&(g=!0)}),g&&hg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gN(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new lt(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new uf(Se.min(),new Map,new lt(Ce),f,m);await ow(s,p),s.du=s.du.remove(u),s.Eu.delete(e),dg(s)}else await hp(s.localStore,e,!1).then(()=>mp(s,e,t)).catch(Do)}async function yN(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await ID(t.localStore,e);uw(t,s,null),lw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(t,o)}catch(o){await Do(o)}}async function vN(r,e,t){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Fe(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);uw(s,e,t),lw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ou(s,o)}catch(o){await Do(o)}}function lw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function uw(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function mp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||cw(r,s)})}function cw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(sg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),dg(r))}function gE(r,e,t){for(const s of t)s instanceof iw?(r.Au.addReference(s.key,e),_N(r,s)):s instanceof sw?(ce(fg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||cw(r,s.key)):Ee(19791,{yu:s})}function _N(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ce(fg,"New document in limbo: "+t),r.Iu.add(s),dg(r))}function dg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new pe(nt.fromString(e)),s=r.mu.next();r.Eu.set(s,new lN(t)),r.du=r.du.insert(t,s),Kb(r.remoteStore,new Yi(vr(rf(t.path)),s,"TargetPurposeLimboResolution",ef.ue))}}async function Ou(r,e,t){const s=Ae(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=rg.Es(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,b=>te.forEach(b.Is,O=>E.persistence.referenceDelegate.addReference(w,b.targetId,O)).next(()=>te.forEach(b.ds,O=>E.persistence.referenceDelegate.removeReference(w,b.targetId,O)))))}catch(w){if(!No(w))throw w;ce(ig,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const O=E.Fs.get(b),N=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(N);E.Fs=E.Fs.insert(b,z)}}}(s.localStore,u))}async function EN(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){ce(fg,"User change. New user:",e.toKey());const s=await Gb(t.localStore,e);t.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ue(J.CANCELLED,f))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(t,s.Bs)}}function TN(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return Ve().add(s.key);{let o=Ve();const u=t.Tu.get(e);if(!u)return o;for(const f of u){const m=t.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function hw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gN.bind(null,e),e.hu.J_=iN.bind(null,e.eventManager),e.hu.pu=sN.bind(null,e.eventManager),e}function bN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return RD(this.persistence,new wD,e.initialUser,this.serializer)}Du(e){return new Fb(ng.Vi,this.serializer)}bu(e){return new MD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class wN extends qh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lD(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Fb(s=>zh.Vi(s,t),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rN}()}createDatastore(e){const t=cf(e.databaseInfo.databaseId),s=function(u){return new UD(u)}(e.databaseInfo);return function(u,f,m,p){return new qD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new FD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>pE(this.syncEngine,t,0),function(){return uE.C()?new uE:new VD}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,E){const w=new uN(o,u,f,m,p,g);return E&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);ce(ra,"RemoteStore shutting down."),u.Ia.add(5),await Nu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class SN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=cg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(is,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Gb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Zi("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Zi("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function yE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await AN(r);ce(is,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>hE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>hE(e.remoteStore,o)),r._onlineComponents=e}async function AN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(is,"Using user provided OfflineComponentProvider");try{await zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zi("Error using user provided cache. Falling back to memory cache: "+t),await zm(r,new qh)}}else ce(is,"Using default OfflineComponentProvider"),await zm(r,new wN(void 0));return r._offlineComponents}async function dw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(is,"Using user provided OnlineComponentProvider"),await yE(r,r._uninitializedComponentsProvider._online)):(ce(is,"Using default OnlineComponentProvider"),await yE(r,new pp))),r._onlineComponents}function RN(r){return dw(r).then(e=>e.syncEngine)}async function gp(r){const e=await dw(r),t=e.eventManager;return t.onListen=cN.bind(null,e.syncEngine),t.onUnlisten=dN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mN.bind(null,e.syncEngine),t}function IN(r,e,t={}){const s=new Xi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new fw({next:b=>{E.Ou(),f.enqueueAndForget(()=>nw(u,w));const O=b.docs.has(m);!O&&b.fromCache?g.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&b.fromCache&&p&&p.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new rw(rf(m.path),E,{includeMetadataChanges:!0,ka:!0});return tw(u,w)}(await gp(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firestore.googleapis.com",_E=!0;class EE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pw,this.ssl=_E}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aD)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PC;switch(s.type){case"firstParty":return new zC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=vE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),vE.delete(t),s.terminate())}(this),Promise.resolve()}}function CN(r,e,t,s={}){var o;r=$n(r,df);const u=Ro(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(lT(`https://${p}`),uT("Firestore",!0)),f.host!==pw&&f.host!==p&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!ii(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Wt.MOCK_USER;else{E=lR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wt(b)}r._authCredentials=new LC(new JT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class ft{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Cu(t,ft._jsonSchema))return new ft(e,s||null,new pe(nt.fromString(t.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:St("string",ft._jsonSchemaVersion),referencePath:St("string")};class Wi extends la{constructor(e,t,s){super(e,t,rf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new pe(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function ou(r,e,...t){if(r=Ut(r),tb("collection","path",e),r instanceof df){const s=nt.fromString(e,...t);return M0(s),new Wi(r,null,s)}{if(!(r instanceof ft||r instanceof Wi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return M0(s),new Wi(r.firestore,null,s)}}function vu(r,e,...t){if(r=Ut(r),arguments.length===1&&(e=Fp.newId()),tb("doc","path",e),r instanceof df){const s=nt.fromString(e,...t);return O0(s),new ft(r,null,new pe(s))}{if(!(r instanceof ft||r instanceof Wi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return O0(s),new ft(r.firestore,r instanceof Wi?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class bE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Qb(this,"async_queue_retry"),this.oc=()=>{const s=jm();s&&ce(TE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Xi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!No(e))throw e;ce(TE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,oi("INTERNAL UNHANDLED ERROR: ",wE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=ug.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:wE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function wE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ia extends df{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bE(e),this._firestoreClient=void 0,await e}}}function xN(r,e){const t=typeof r=="object"?r:dT(),s=typeof r=="string"?r:kh,o=Np(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aR("firestore");u&&CN(o,...u)}return o}function mg(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||DN(r),r._firestoreClient}function DN(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new nx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,mw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new SN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Yt.fromBase64String(e))}catch(t){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:St("string",Pn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:St("string",Er._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Tr(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:St("string",Tr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^__.*__$/;class ON{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class gw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class pf{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Hh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(yw(this.Ec)&&NN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class MN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||cf(e)}Dc(e,t,s,o=!1){return new pf({Ec:e,methodName:t,bc:s,path:Gt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(r){const e=r._freezeSettings(),t=cf(r._databaseId);return new MN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vw(r,e,t,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);vg("Data must be an object, but it was:",f,s);const m=Ew(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const b=yp(e,w,t);if(!f.contains(b))throw new ue(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);bw(E,b)||E.push(b)}p=new bn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new ON(new hn(m),p,g)}class yf extends Vo{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function _w(r,e,t){return new pf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pg extends Vo{_toFieldTransform(e){return new Wp(e.path,new yu)}isEqual(e){return e instanceof pg}}class gg extends Vo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=_w(this,e,!0),s=this.vc.map(u=>ua(u,t)),o=new Eo(s);return new Wp(e.path,o)}isEqual(e){return e instanceof gg&&ii(this.vc,e.vc)}}class yg extends Vo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=_w(this,e,!0),s=this.vc.map(u=>ua(u,t)),o=new To(s);return new Wp(e.path,o)}isEqual(e){return e instanceof yg&&ii(this.vc,e.vc)}}function VN(r,e,t,s){const o=r.Dc(1,e,t);vg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();as(s,(p,g)=>{const E=_g(e,p,t);g=Ut(g);const w=o.gc(E);if(g instanceof yf)u.push(E);else{const b=ua(g,w);b!=null&&(u.push(E),f.set(E,b))}});const m=new bn(u);return new gw(f,m,o.fieldTransforms)}function kN(r,e,t,s,o,u){const f=r.Dc(1,e,t),m=[yp(e,s,t)],p=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(yp(e,u[b])),p.push(u[b+1]);const g=[],E=hn.empty();for(let b=m.length-1;b>=0;--b)if(!bw(g,m[b])){const O=m[b];let N=p[b];N=Ut(N);const z=f.gc(O);if(N instanceof yf)g.push(O);else{const F=ua(N,z);F!=null&&(g.push(O),E.set(O,F))}}const w=new bn(g);return new gw(E,w,f.fieldTransforms)}function PN(r,e,t,s=!1){return ua(t,r.Dc(s?4:3,e))}function ua(r,e){if(Tw(r=Ut(r)))return vg("Unsupported field value:",e,r),Ew(r,e);if(r instanceof Vo)return function(s,o){if(!yw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=ua(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ax(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=je.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof je){const u=new je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Er)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:Pb(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Tr)return function(f,m){return{mapValue:{fields:{[cb]:{stringValue:hb},[Ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Xp(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Jh(s)}`)}(r,e)}function Ew(r,e){const t={};return ib(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(r,(s,o)=>{const u=ua(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Tw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof je||r instanceof Er||r instanceof Pn||r instanceof ft||r instanceof Vo||r instanceof Tr)}function vg(r,e,t){if(!Tw(t)||!nb(t)){const s=Jh(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function yp(r,e,t){if((e=Ut(e))instanceof mf)return e._internalPath;if(typeof e=="string")return _g(r,e);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,t)}const LN=new RegExp("[~\\*/\\[\\]]");function _g(r,e,t){if(e.search(LN)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mf(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Hh(r,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(J.INVALID_ARGUMENT,m+r+p)}function bw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UN extends ww{data(){return super.data()}}function vf(r,e){return typeof e=="string"?_g(r,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class Sw extends Eg{}function Aw(r,e,...t){let s=[];e instanceof Eg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof Tg).length,m=u.filter(p=>p instanceof _f).length;if(f>1||f>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class _f extends Sw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new _f(e,t,s)}_apply(e){const t=this._parse(e);return Rw(e._query,t),new la(e.firestore,e.converter,sp(e._query,t))}_parse(e){const t=gf(e.firestore);return function(u,f,m,p,g,E,w){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){RE(w,E);const N=[];for(const z of w)N.push(AE(p,u,z));b={arrayValue:{values:N}}}else b=AE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||RE(w,E),b=PN(m,f,w,E==="in"||E==="not-in");return wt.create(g,E,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zN(r,e,t){const s=e,o=vf("where",r);return _f._create(o,s,t)}class Tg extends Eg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Rw(f,p),f=sp(f,p)}(e._query,t),new la(e.firestore,e.converter,sp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends Sw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bg(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,f)}(e._query,this._field,this._direction);return new la(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Oo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function BN(r,e="asc"){const t=e,s=vf("orderBy",r);return bg._create(s,t)}function AE(r,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_b(e)&&t.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B0(r,new pe(s))}if(t instanceof ft)return B0(r,t._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function RE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rw(r,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qN{convertValue(e,t="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return as(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>yt(f.doubleValue));return new Tr(u)}convertGeoPoint(e){return new Er(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=es(e);return new je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Fe(qb(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||oi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends ww{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Js._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:St("string",Js._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class wh extends Js{data(e={}){return super.data(e)}}class mo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:HN(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){r=$n(r,ft);const e=$n(r.firestore,ia);return IN(mg(e),r._key).then(t=>Nw(e,r,t))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:St("string",mo._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class xw extends qN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function FN(r,e,t){r=$n(r,ft);const s=$n(r.firestore,ia),o=Iw(r.converter,e);return wg(s,[vw(gf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Kn.none())])}function IE(r,e,t,...s){r=$n(r,ft);const o=$n(r.firestore,ia),u=gf(o);let f;return f=typeof(e=Ut(e))=="string"||e instanceof mf?kN(u,"updateDoc",r._key,e,t,s):VN(u,"updateDoc",r._key,e),wg(o,[f.toMutation(r._key,Kn.exists(!0))])}function vp(r,e){const t=$n(r.firestore,ia),s=vu(r),o=Iw(r.converter,e);return wg(t,[vw(gf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function Dw(r,...e){var t,s,o;r=Ut(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||SE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(SE(e[f])){const w=e[f];e[f]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof ft)g=$n(r.firestore,ia),E=rf(r._key.path),p={next:w=>{e[f]&&e[f](Nw(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=$n(r,la);g=$n(w.firestore,ia),E=w._query;const b=new xw(g);p={next:O=>{e[f]&&e[f](new mo(g,b,w,O))},error:e[f+1],complete:e[f+2]},jN(r._query)}return function(b,O,N,z){const F=new fw(z),Y=new rw(O,F,N);return b.asyncQueue.enqueueAndForget(async()=>tw(await gp(b),Y)),()=>{F.Ou(),b.asyncQueue.enqueueAndForget(async()=>nw(await gp(b),Y))}}(mg(g),E,m,p)}function wg(r,e){return function(s,o){const u=new Xi;return s.asyncQueue.enqueueAndForget(async()=>pN(await RN(s),o,u)),u.promise}(mg(r),e)}function Nw(r,e,t){const s=t.docs.get(e._key),o=new xw(r);return new Js(r,o,e._key,s,new eu(t.hasPendingWrites,t.fromCache),e.converter)}function Ow(){return new pg("serverTimestamp")}function GN(...r){return new gg("arrayUnion",r)}function YN(...r){return new yg("arrayRemove",r)}(function(e,t=!0){(function(o){xo=o})(Io),po(new ea("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ia(new UC(s.getProvider("auth-internal")),new BC(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ws(I0,C0,e),Ws(I0,C0,"esm2017")})();const QN={apiKey:"AIzaSyDw27FOHVgIPBzP2gP8b68U-RYX2uGcYfc",authDomain:"event-tool-internal.firebaseapp.com",projectId:"event-tool-internal",storageBucket:"event-tool-internal.firebasestorage.app",messagingSenderId:"39341001525",appId:"1:39341001525:web:1b5b19c4f5da1784f81a7c",measurementId:"G-4M23FC4X1N"},Mw=fT(QN),Sg=VC(Mw),ei=xN(Mw),$N=new Wr,Vw=j.createContext(void 0),KN=({children:r})=>{const[e,t]=j.useState(null),[s,o]=j.useState(null),[u,f]=j.useState(!0);j.useEffect(()=>{const p=b2(Sg,async g=>{if(g){t(g);const E=vu(ei,"users",g.uid),w=await Cw(E);if(w.exists())o(w.data());else{const b={uid:g.uid,email:g.email||"",displayName:g.displayName||"Googler",photoURL:g.photoURL||"",attendanceHistory:{}};await FN(E,b),o(b)}}else t(null),o(null);f(!1)});return()=>p()},[]);const m={user:e,userProfile:s,loading:u};return D.jsx(Vw.Provider,{value:m,children:r})},ca=()=>{const r=j.useContext(Vw);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},ni=({children:r,variant:e="primary",isLoading:t=!1,className:s="",...o})=>{const u="px-4 py-2 rounded-md font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-dark-surface disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",f={primary:"bg-primary text-white hover:bg-blue-600 focus:ring-primary",secondary:"bg-secondary text-white hover:bg-green-600 focus:ring-secondary",danger:"bg-danger text-white hover:bg-red-600 focus:ring-danger",ghost:"bg-transparent text-dark-text-secondary hover:bg-dark-surface hover:text-dark-text border border-dark-border"};return D.jsxs("button",{className:`${u} ${f[e]} ${s}`,disabled:t||o.disabled,...o,children:[t&&D.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[D.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),D.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})};let XN={data:""},WN=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||XN,ZN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JN=/\/\*[^]*?\*\/|  +/g,CE=/\n+/g,Gi=(r,e)=>{let t="",s="",o="";for(let u in r){let f=r[u];u[0]=="@"?u[1]=="i"?t=u+" "+f+";":s+=u[1]=="f"?Gi(f,u):u+"{"+Gi(f,u[1]=="k"?"":e)+"}":typeof f=="object"?s+=Gi(f,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Gi.p?Gi.p(u,f):u+":"+f+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Xr={},kw=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+kw(r[t]);return e}return r},eO=(r,e,t,s,o)=>{let u=kw(r),f=Xr[u]||(Xr[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!Xr[f]){let p=u!==r?r:(g=>{let E,w,b=[{}];for(;E=ZN.exec(g.replace(JN,""));)E[4]?b.shift():E[3]?(w=E[3].replace(CE," ").trim(),b.unshift(b[0][w]=b[0][w]||{})):b[0][E[1]]=E[2].replace(CE," ").trim();return b[0]})(r);Xr[f]=Gi(o?{["@keyframes "+f]:p}:p,t?"":"."+f)}let m=t&&Xr.g?Xr.g:null;return t&&(Xr.g=Xr[f]),((p,g,E,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(Xr[f],e,s,m),f},tO=(r,e,t)=>r.reduce((s,o,u)=>{let f=e[u];if(f&&f.call){let m=f(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=p?"."+p:m&&typeof m=="object"?m.props?"":Gi(m,""):m===!1?"":m}return s+o+(f??"")},"");function Ef(r){let e=this||{},t=r.call?r(e.p):r;return eO(t.unshift?t.raw?tO(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,WN(e.target),e.g,e.o,e.k)}let Pw,_p,Ep;Ef.bind({g:1});let ui=Ef.bind({k:1});function nO(r,e,t,s){Gi.p=e,Pw=r,_p=t,Ep=s}function ls(r,e){let t=this||{};return function(){let s=arguments;function o(u,f){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:_p&&_p()},m),t.o=/ *go\d+/.test(p),m.className=Ef.apply(t,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),Ep&&g[0]&&Ep(m),Pw(g,m)}return o}}var rO=r=>typeof r=="function",Fh=(r,e)=>rO(r)?r(e):r,iO=(()=>{let r=0;return()=>(++r).toString()})(),Lw=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),sO=20,Uw=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,sO)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return Uw(r,{type:r.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},Sh=[],Xs={toasts:[],pausedAt:void 0},ha=r=>{Xs=Uw(Xs,r),Sh.forEach(e=>{e(Xs)})},aO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oO=(r={})=>{let[e,t]=j.useState(Xs),s=j.useRef(Xs);j.useEffect(()=>(s.current!==Xs&&t(Xs),Sh.push(t),()=>{let u=Sh.indexOf(t);u>-1&&Sh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var f,m,p;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((f=r[u.type])==null?void 0:f.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((m=r[u.type])==null?void 0:m.duration)||(r==null?void 0:r.duration)||aO[u.type],style:{...r.style,...(p=r[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},lO=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||iO()}),Mu=r=>(e,t)=>{let s=lO(e,r,t);return ha({type:2,toast:s}),s.id},sn=(r,e)=>Mu("blank")(r,e);sn.error=Mu("error");sn.success=Mu("success");sn.loading=Mu("loading");sn.custom=Mu("custom");sn.dismiss=r=>{ha({type:3,toastId:r})};sn.remove=r=>ha({type:4,toastId:r});sn.promise=(r,e,t)=>{let s=sn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Fh(e.success,o):void 0;return u?sn.success(u,{id:s,...t,...t==null?void 0:t.success}):sn.dismiss(s),o}).catch(o=>{let u=e.error?Fh(e.error,o):void 0;u?sn.error(u,{id:s,...t,...t==null?void 0:t.error}):sn.dismiss(s)}),r};var uO=(r,e)=>{ha({type:1,toast:{id:r,height:e}})},cO=()=>{ha({type:5,time:Date.now()})},lu=new Map,hO=1e3,fO=(r,e=hO)=>{if(lu.has(r))return;let t=setTimeout(()=>{lu.delete(r),ha({type:4,toastId:r})},e);lu.set(r,t)},dO=r=>{let{toasts:e,pausedAt:t}=oO(r);j.useEffect(()=>{if(t)return;let u=Date.now(),f=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&sn.dismiss(m.id);return}return setTimeout(()=>sn.dismiss(m.id),p)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[e,t]);let s=j.useCallback(()=>{t&&ha({type:6,time:Date.now()})},[t]),o=j.useCallback((u,f)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=f||{},E=e.filter(O=>(O.position||g)===(u.position||g)&&O.height),w=E.findIndex(O=>O.id===u.id),b=E.filter((O,N)=>N<w&&O.visible).length;return E.filter(O=>O.visible).slice(...m?[b+1]:[0,b]).reduce((O,N)=>O+(N.height||0)+p,0)},[e]);return j.useEffect(()=>{e.forEach(u=>{if(u.dismissed)fO(u.id,u.removeDelay);else{let f=lu.get(u.id);f&&(clearTimeout(f),lu.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:uO,startPause:cO,endPause:s,calculateOffset:o}}},mO=ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pO=ui`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gO=ui`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yO=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vO=ui`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_O=ls("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${vO} 1s linear infinite;
`,EO=ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,TO=ui`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bO=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${TO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wO=ls("div")`
  position: absolute;
`,SO=ls("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,AO=ui`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RO=ls("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${AO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,IO=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?j.createElement(RO,null,e):e:t==="blank"?null:j.createElement(SO,null,j.createElement(_O,{...s}),t!=="loading"&&j.createElement(wO,null,t==="error"?j.createElement(yO,{...s}):j.createElement(bO,{...s})))},CO=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xO=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,DO="0%{opacity:0;} 100%{opacity:1;}",NO="0%{opacity:1;} 100%{opacity:0;}",OO=ls("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,MO=ls("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VO=(r,e)=>{let t=r.includes("top")?1:-1,[s,o]=Lw()?[DO,NO]:[CO(t),xO(t)];return{animation:e?`${ui(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ui(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kO=j.memo(({toast:r,position:e,style:t,children:s})=>{let o=r.height?VO(r.position||e||"top-center",r.visible):{opacity:0},u=j.createElement(IO,{toast:r}),f=j.createElement(MO,{...r.ariaProps},Fh(r.message,r));return j.createElement(OO,{className:r.className,style:{...o,...t,...r.style}},typeof s=="function"?s({icon:u,message:f}):j.createElement(j.Fragment,null,u,f))});nO(j.createElement);var PO=({id:r,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=j.useCallback(f=>{if(f){let m=()=>{let p=f.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return j.createElement("div",{ref:u,className:e,style:t},o)},LO=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},UO=Ef`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hh=16,jO=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:u,containerClassName:f})=>{let{toasts:m,handlers:p}=dO(t);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hh,left:hh,right:hh,bottom:hh,pointerEvents:"none",...u},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let E=g.position||e,w=p.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),b=LO(E,w);return j.createElement(PO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?UO:"",style:b},g.type==="custom"?Fh(g.message,g):o?o(g):j.createElement(kO,{toast:g,position:E}))}))},an=sn;const zO=()=>{const r=Tu(),{user:e,loading:t}=ca();j.useEffect(()=>{e&&r("/")},[e,r]);const s=async()=>{try{await H2(Sg,$N),an.success("Signed in successfully!"),r("/")}catch(o){console.error("Authentication error: ",o),an.error(o.message||"Failed to sign in.")}};return t||e?D.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-dark-bg",children:D.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-bg text-dark-text p-4",children:[D.jsxs("div",{className:"text-center mb-12",children:[D.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"🏆 FairPlay Scheduler"}),D.jsx("p",{className:"text-lg text-dark-text-secondary",children:"Fair event sign-ups for everyone."})]}),D.jsxs("div",{className:"bg-dark-surface p-8 rounded-lg shadow-2xl max-w-sm w-full text-center",children:[D.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Googler!"}),D.jsx("p",{className:"text-dark-text-secondary mb-6",children:"Sign in to continue."}),D.jsxs(ni,{onClick:s,className:"w-full bg-primary hover:bg-blue-600",children:[D.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[D.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.06 6.21C12.43 13.72 17.74 9.5 24 9.5z"}),D.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),D.jsx("path",{fill:"#FBBC05",d:"M10.62 27.58c-.52-1.57-.82-3.24-.82-5.04s.3-3.47.82-5.04l-8.06-6.21C.96 15.7 0 20.05 0 24.55s.96 8.85 2.56 12.78l8.06-6.75z"}),D.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-8.06 6.21C6.51 42.62 14.62 48 24 48z"}),D.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Sign in with Google"]}),D.jsx("p",{className:"text-xs text-dark-text-secondary mt-4",children:"Restricted to @google.com accounts."})]})]})},Ag=()=>D.jsx("div",{className:"flex justify-center items-center",children:D.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),jw=({isOpen:r,onClose:e,title:t,children:s,closeOnOverlayClick:o=!1})=>{if(!r)return null;const u=()=>{o&&e()};return D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4",onClick:u,children:D.jsxs("div",{className:"bg-dark-surface w-full max-w-2xl rounded-lg shadow-xl p-6 relative",onClick:f=>f.stopPropagation(),children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("h3",{className:"text-2xl font-bold text-white",children:t}),D.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-200","aria-label":"Close",children:D.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsx("div",{children:s})]})})},BO=()=>{const[r,e]=j.useState([]),[t,s]=j.useState(!0),[o,u]=j.useState(!1),[f,m]=j.useState(""),[p,g]=j.useState(""),[E,w]=j.useState(!1),{user:b}=ca(),O=Tu();j.useEffect(()=>{s(!0);const z=Aw(ou(ei,"groups")),F=Dw(z,Y=>{const W=[];Y.forEach(re=>{W.push({id:re.id,...re.data()})}),e(W),s(!1)},Y=>{console.error("Error fetching groups:",Y),an.error("Failed to load groups."),s(!1)});return()=>F()},[]);const N=async z=>{if(z.preventDefault(),!(!f.trim()||!b)){w(!0);try{await vp(ou(ei,"groups"),{name:f,description:p,ownerUids:[b.uid],createdAt:Ow()}),an.success("Group created successfully!"),u(!1),m(""),g("")}catch(F){console.error("Error creating group:",F),an.error("Failed to create group.")}finally{w(!1)}}};return D.jsxs("div",{children:[D.jsxs("div",{className:"flex justify-between items-center mb-8",children:[D.jsx("h1",{className:"text-3xl font-bold",children:"Groups"}),D.jsx(ni,{onClick:()=>u(!0),children:"Create New Group"})]}),t?D.jsx(Ag,{}):D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(z=>D.jsxs("div",{className:"bg-dark-surface p-6 rounded-lg shadow-lg hover:shadow-primary/20 hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>O(`/group/${z.id}`),children:[D.jsx("h2",{className:"text-xl font-bold text-primary mb-2",children:z.name}),D.jsx("p",{className:"text-dark-text-secondary line-clamp-2",children:z.description})]},z.id)):D.jsx("p",{className:"text-dark-text-secondary col-span-full text-center",children:"No groups found. Create one to get started!"})}),D.jsx(jw,{isOpen:o,onClose:()=>u(!1),title:"Create a New Group",children:D.jsxs("form",{onSubmit:N,children:[D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"groupName",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Group Name"}),D.jsx("input",{id:"groupName",type:"text",value:f,onChange:z=>m(z.target.value),placeholder:"e.g., Football-WAW",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"groupDesc",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Description"}),D.jsx("textarea",{id:"groupDesc",value:p,onChange:z=>g(z.target.value),placeholder:"A short description of the group and its activities.",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",rows:3,required:!0})]})]}),D.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[D.jsx(ni,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Cancel"}),D.jsx(ni,{type:"submit",isLoading:E,children:"Create Group"})]})]})})]})},zw=6048e5,qO=864e5,xE=Symbol.for("constructDateFrom");function Un(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&xE in r?r[xE](e):r instanceof Date?new r.constructor(e):new Date(e)}function fn(r,e){return Un(e||r,r)}function HO(r,e,t){const s=fn(r,t==null?void 0:t.in);return isNaN(e)?Un(r,NaN):(e&&s.setDate(s.getDate()+e),s)}function FO(r,e,t){const s=fn(r,t==null?void 0:t.in);if(isNaN(e))return Un(r,NaN);if(!e)return s;const o=s.getDate(),u=Un(r,s.getTime());u.setMonth(s.getMonth()+e+1,0);const f=u.getDate();return o>=f?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}function Bm(r,e,t){const{years:s=0,months:o=0,weeks:u=0,days:f=0,hours:m=0,minutes:p=0,seconds:g=0}=e,E=fn(r,t==null?void 0:t.in),w=o||s?FO(E,o+s*12):E,b=f||u?HO(w,f+u*7):w,O=p+m*60,z=(g+O*60)*1e3;return Un(r,+b+z)}let GO={};function Tf(){return GO}function _u(r,e){var m,p,g,E;const t=Tf(),s=(e==null?void 0:e.weekStartsOn)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((E=(g=t.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,o=fn(r,e==null?void 0:e.in),u=o.getDay(),f=(u<s?7:0)+u-s;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Gh(r,e){return _u(r,{...e,weekStartsOn:1})}function Bw(r,e){const t=fn(r,e==null?void 0:e.in),s=t.getFullYear(),o=Un(t,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=Gh(o),f=Un(t,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=Gh(f);return t.getTime()>=u.getTime()?s+1:t.getTime()>=m.getTime()?s:s-1}function DE(r){const e=fn(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function YO(r,...e){const t=Un.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function NE(r,e){const t=fn(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function QO(r,e,t){const[s,o]=YO(t==null?void 0:t.in,r,e),u=NE(s),f=NE(o),m=+u-DE(u),p=+f-DE(f);return Math.round((m-p)/qO)}function $O(r,e){const t=Bw(r,e),s=Un(r,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Gh(s)}function KO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function XO(r){return!(!KO(r)&&typeof r!="number"||isNaN(+fn(r)))}function WO(r,e){const t=fn(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const ZO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JO=(r,e,t)=>{let s;const o=ZO[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function qm(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const eM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rM={date:qm({formats:eM,defaultWidth:"full"}),time:qm({formats:tM,defaultWidth:"full"}),dateTime:qm({formats:nM,defaultWidth:"full"})},iM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sM=(r,e,t,s)=>iM[r];function Ql(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=t!=null&&t.width?String(t.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const aM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fM=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},dM={ordinalNumber:fM,era:Ql({values:aM,defaultWidth:"wide"}),quarter:Ql({values:oM,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ql({values:lM,defaultWidth:"wide"}),day:Ql({values:uM,defaultWidth:"wide"}),dayPeriod:Ql({values:cM,defaultWidth:"wide",formattingValues:hM,defaultFormattingWidth:"wide"})};function $l(r){return(e,t={})=>{const s=t.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?pM(m,w=>w.test(f)):mM(m,w=>w.test(f));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const E=e.slice(f.length);return{value:g,rest:E}}}function mM(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function pM(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function gM(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=t.valueCallback?t.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const yM=/^(\d+)(th|st|nd|rd)?/i,vM=/\d+/i,_M={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EM={any:[/^b/i,/^(a|c)/i]},TM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bM={any:[/1/i,/2/i,/3/i,/4/i]},wM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xM={ordinalNumber:gM({matchPattern:yM,parsePattern:vM,valueCallback:r=>parseInt(r,10)}),era:$l({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:EM,defaultParseWidth:"any"}),quarter:$l({matchPatterns:TM,defaultMatchWidth:"wide",parsePatterns:bM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:$l({matchPatterns:wM,defaultMatchWidth:"wide",parsePatterns:SM,defaultParseWidth:"any"}),day:$l({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:RM,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:IM,defaultMatchWidth:"any",parsePatterns:CM,defaultParseWidth:"any"})},DM={code:"en-US",formatDistance:JO,formatLong:rM,formatRelative:sM,localize:dM,match:xM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NM(r,e){const t=fn(r,e==null?void 0:e.in);return QO(t,WO(t))+1}function OM(r,e){const t=fn(r,e==null?void 0:e.in),s=+Gh(t)-+$O(t);return Math.round(s/zw)+1}function qw(r,e){var E,w,b,O;const t=fn(r,e==null?void 0:e.in),s=t.getFullYear(),o=Tf(),u=(e==null?void 0:e.firstWeekContainsDate)??((w=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((O=(b=o.locale)==null?void 0:b.options)==null?void 0:O.firstWeekContainsDate)??1,f=Un((e==null?void 0:e.in)||r,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=_u(f,e),p=Un((e==null?void 0:e.in)||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=_u(p,e);return+t>=+m?s+1:+t>=+g?s:s-1}function MM(r,e){var m,p,g,E;const t=Tf(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((E=(g=t.locale)==null?void 0:g.options)==null?void 0:E.firstWeekContainsDate)??1,o=qw(r,e),u=Un((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),_u(u,e)}function VM(r,e){const t=fn(r,e==null?void 0:e.in),s=+_u(t,e)-+MM(t,e);return Math.round(s/zw)+1}function $e(r,e){const t=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return t+s}const Bi={y(r,e){const t=r.getFullYear(),s=t>0?t:1-t;return $e(e==="yy"?s%100:s,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):$e(t+1,2)},d(r,e){return $e(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return $e(r.getHours()%12||12,e.length)},H(r,e){return $e(r.getHours(),e.length)},m(r,e){return $e(r.getMinutes(),e.length)},s(r,e){return $e(r.getSeconds(),e.length)},S(r,e){const t=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,t-3));return $e(o,e.length)}},io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OE={G:function(r,e,t){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return t.ordinalNumber(o,{unit:"year"})}return Bi.y(r,e)},Y:function(r,e,t,s){const o=qw(r,s),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return $e(f,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):$e(u,e.length)},R:function(r,e){const t=Bw(r);return $e(t,e.length)},u:function(r,e){const t=r.getFullYear();return $e(t,e.length)},Q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return $e(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,t){const s=r.getMonth();switch(e){case"M":case"MM":return Bi.M(r,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,t){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,t,s){const o=VM(r,s);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):$e(o,e.length)},I:function(r,e,t){const s=OM(r);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):$e(s,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Bi.d(r,e)},D:function(r,e,t){const s=NM(r);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,e.length)},E:function(r,e,t){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return $e(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return $e(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return $e(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const s=r.getHours();let o;switch(s===12?o=io.noon:s===0?o=io.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const s=r.getHours();let o;switch(s>=17?o=io.evening:s>=12?o=io.afternoon:s>=4?o=io.morning:o=io.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Bi.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Bi.H(r,e)},K:function(r,e,t){const s=r.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):$e(s,e.length)},k:function(r,e,t){let s=r.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):$e(s,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Bi.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Bi.s(r,e)},S:function(r,e){return Bi.S(r,e)},X:function(r,e,t){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return VE(s);case"XXXX":case"XX":return Qs(s);case"XXXXX":case"XXX":default:return Qs(s,":")}},x:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"x":return VE(s);case"xxxx":case"xx":return Qs(s);case"xxxxx":case"xxx":default:return Qs(s,":")}},O:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ME(s,":");case"OOOO":default:return"GMT"+Qs(s,":")}},z:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ME(s,":");case"zzzz":default:return"GMT"+Qs(s,":")}},t:function(r,e,t){const s=Math.trunc(+r/1e3);return $e(s,e.length)},T:function(r,e,t){return $e(+r,e.length)}};function ME(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?t+String(o):t+String(o)+e+$e(u,2)}function VE(r,e){return r%60===0?(r>0?"-":"+")+$e(Math.abs(r)/60,2):Qs(r,e)}function Qs(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=$e(Math.trunc(s/60),2),u=$e(s%60,2);return t+o+e+u}const kE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hw=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kM=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],s=t[1],o=t[2];if(!o)return kE(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",kE(s,e)).replace("{{time}}",Hw(o,e))},PM={p:Hw,P:kM},LM=/^D+$/,UM=/^Y+$/,jM=["D","DD","YY","YYYY"];function zM(r){return LM.test(r)}function BM(r){return UM.test(r)}function qM(r,e,t){const s=HM(r,e,t);if(console.warn(s),jM.includes(r))throw new RangeError(s)}function HM(r,e,t){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YM=/^'([^]*?)'?$/,QM=/''/g,$M=/[a-zA-Z]/;function Kl(r,e,t){var E,w,b,O;const s=Tf(),o=s.locale??DM,u=s.firstWeekContainsDate??((w=(E=s.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??1,f=s.weekStartsOn??((O=(b=s.locale)==null?void 0:b.options)==null?void 0:O.weekStartsOn)??0,m=fn(r,t==null?void 0:t.in);if(!XO(m))throw new RangeError("Invalid time value");let p=e.match(GM).map(N=>{const z=N[0];if(z==="p"||z==="P"){const F=PM[z];return F(N,o.formatLong)}return N}).join("").match(FM).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const z=N[0];if(z==="'")return{isToken:!1,value:KM(N)};if(OE[z])return{isToken:!0,value:N};if(z.match($M))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(N=>{if(!N.isToken)return N.value;const z=N.value;(BM(z)||zM(z))&&qM(z,e,String(r));const F=OE[z[0]];return F(m,z,o.localize,g)}).join("")}function KM(r){const e=r.match(YM);return e?e[1].replace(QM,"'"):r}const PE=()=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block text-dark-text-secondary",children:[D.jsx("circle",{cx:"12",cy:"12",r:"10"}),D.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),D.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),XM=()=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block",children:[D.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),D.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),LE=({instance:r,userProfile:e})=>{const{user:t}=ca(),[s,o]=j.useState(!1),[u,f]=j.useState([]),[m,p]=j.useState(!1),g=j.useMemo(()=>r.participants.find(Y=>Y.uid===(t==null?void 0:t.uid)),[r.participants,t]),E=j.useMemo(()=>{const Y=new Date;return r.registrationOpenDateTime.toDate()<=Y&&r.eventStartDateTime.toDate()>Y},[r.registrationOpenDateTime,r.eventStartDateTime]),w=j.useMemo(()=>r.participantsListProcessed===!0,[r.listRevealDateTime]),b=j.useMemo(()=>u.slice(0,r.spots),[u,r.spots]),O=j.useMemo(()=>u.slice(r.spots),[u,r.spots]);j.useEffect(()=>{(async()=>{if(r.participants.length===0){f([]);return}f(r.participants)})()},[r,e]);const N=async()=>{if(!t||!e)return;o(!0);const Y=document.getElementById("organizer-checkbox")?document.getElementById("organizer-checkbox").checked:!1,W={uid:t.uid,displayName:t.displayName||"Googler",photoURL:t.photoURL||"",isOrganizer:Y,registeredAt:je.now()};try{const re=vu(ei,"eventInstances",r.id);await IE(re,{participants:GN(W)}),an.success("You're on the list!")}catch(re){console.error(re),an.error("Failed to register.")}finally{o(!1),p(!1)}},z=async()=>{if(!(!t||!g)){o(!0);try{const Y=vu(ei,"eventInstances",r.id);await IE(Y,{participants:YN(g)}),an.success("You have resigned from the event.")}catch(Y){console.error(Y),an.error("Failed to resign.")}finally{o(!1)}}},F=(Y,W)=>D.jsxs("li",{className:"flex items-center gap-3 py-2",children:[D.jsxs("span",{className:"font-mono text-dark-text-secondary w-6 text-right",children:[W+1,"."]}),D.jsx("img",{src:Y.photoURL,alt:Y.displayName,className:"w-8 h-8 rounded-full"}),D.jsx("span",{className:"flex-grow",children:Y.displayName}),Y.isOrganizer&&D.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},Y.uid);return D.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-lg p-6 flex flex-col md:flex-row gap-6",children:[D.jsxs("div",{className:"md:w-1/3 border-b md:border-b-0 md:border-r border-dark-border pb-6 md:pb-0 md:pr-6",children:[D.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.title}),D.jsx("p",{className:"text-lg font-semibold text-primary",children:Kl(r.eventStartDateTime.toDate(),"eeee, MMMM d, yyyy")}),D.jsx("p",{className:"text-md text-dark-text-secondary mb-4",children:Kl(r.eventStartDateTime.toDate(),"p")}),D.jsx("p",{className:"text-sm text-dark-text-secondary mb-4",children:r.description}),r.location&&D.jsx("a",{href:r.location,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Location"}),D.jsxs("div",{className:"mt-4 text-sm text-dark-text-secondary space-y-2",children:[D.jsxs("p",{children:[D.jsx(PE,{})," Registration opened: ",Kl(r.registrationOpenDateTime.toDate(),"PP p")]}),D.jsxs("p",{children:[D.jsx(PE,{})," List reveals: ",Kl(r.listRevealDateTime.toDate(),"PP p")]})]})]}),D.jsxs("div",{className:"md:w-2/3",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold",children:[D.jsx(XM,{})," Participants",D.jsxs("span",{className:"text-dark-text-secondary text-lg",children:["(",r.participants.length," / ",r.spots,")"]})]}),E&&(g?D.jsx(ni,{variant:"danger",onClick:z,isLoading:s,children:"Resign"}):D.jsxs("div",{className:"flex gap-2 items-center",children:[m&&D.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[D.jsx("input",{id:"organizer-checkbox",type:"checkbox",className:"form-checkbox bg-dark-bg border-dark-border text-primary focus:ring-primary"}),D.jsx("span",{children:"Organizer?"})]}),D.jsx(ni,{variant:"secondary",onClick:()=>m?N():p(!0),isLoading:s,children:m?"Confirm Registration":"Register"})]}))]}),w?D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[D.jsxs("div",{children:[D.jsxs("h4",{className:"font-bold text-secondary mb-2",children:["✅ Confirmed List (",b.length,"/",r.spots,")"]}),D.jsx("ul",{className:"divide-y divide-dark-border",children:b.map(F)})]}),D.jsxs("div",{children:[D.jsxs("h4",{className:"font-bold text-warning mb-2",children:["⏳ Waiting List (",O.length,")"]}),O.length>0?D.jsx("ul",{className:"divide-y divide-dark-border",children:O.map((Y,W)=>F(Y,W+r.spots))}):D.jsx("p",{className:"text-sm text-dark-text-secondary italic",children:"Waiting list is empty."})]})]}):D.jsxs("div",{children:[D.jsxs("p",{className:"text-center text-dark-text-secondary bg-dark-bg p-4 rounded-md",children:["The participant list will be sorted and revealed on ",D.jsx("br",{}),D.jsx("span",{className:"font-semibold text-dark-text",children:Kl(r.listRevealDateTime.toDate(),"MMMM d, yyyy 'at' p")})]}),D.jsxs("h4",{className:"font-bold text-white mt-4 mb-2",children:["Registered (",r.participants.length,")"]}),D.jsx("ul",{className:"divide-y divide-dark-border max-h-48 overflow-y-auto",children:r.participants.map((Y,W)=>D.jsxs("li",{className:"flex items-center gap-3 py-2",children:[D.jsx("img",{src:Y.photoURL,alt:Y.displayName,className:"w-8 h-8 rounded-full"}),D.jsx("span",{children:Y.displayName}),Y.isOrganizer&&D.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},Y.uid))})]})]})]})},WM=()=>{const{groupId:r}=rA(),{user:e,userProfile:t}=ca(),[s,o]=j.useState(null),[u,f]=j.useState([]),[m,p]=j.useState([]),[g,E]=j.useState(!0),[w,b]=j.useState(!1),[O,N]=j.useState(!1),[z,F]=j.useState("upcoming"),Y=(s==null?void 0:s.ownerUids.includes((e==null?void 0:e.uid)||""))||!1;j.useEffect(()=>{if(!r)return;(async()=>{const ge=vu(ei,"groups",r),M=await Cw(ge);M.exists()?o({id:M.id,...M.data()}):an.error("Group not found.")})();const fe=Aw(ou(ei,"eventInstances"),zN("groupId","==",r),BN("eventStartDateTime","asc")),oe=Dw(fe,ge=>{const M=new Date(new Date().getTime()-72e5),A=[],R=[];ge.forEach(x=>{const P={id:x.id,...x.data()};P.eventStartDateTime.toDate()<M?R.push(P):A.push(P)}),f(A),p(R.sort((x,P)=>P.eventStartDateTime.toDate().getTime()-x.eventStartDateTime.toDate().getTime())),E(!1)},ge=>{console.error("Error fetching events: ",ge),an.error("Failed to load events."),E(!1)});return()=>oe()},[r]);const W=async re=>{if(re.preventDefault(),!r||!Y)return;N(!0);const fe=new FormData(re.currentTarget),oe=Object.fromEntries(fe.entries());try{const ge=new Date(`${oe.eventStartDate}T${oe.eventStartTime}`),M=new Date(`${oe.regOpenDate}T${oe.regOpenTime}`),A=new Date(`${oe.revealDate}T${oe.revealTime}`),R=new Date(oe.recurrenceEndDate),x={groupId:r,title:oe.title,description:oe.description,location:oe.location,spots:Number(oe.spots),eventStartDateTime:je.fromDate(ge),registrationOpenDateTime:je.fromDate(M),listRevealDateTime:je.fromDate(A),recurrence:{type:oe.recurrenceType,value:Number(oe.recurrenceValue)},recurrenceEndDate:je.fromDate(R)},P=await vp(ou(ei,"events"),{...x,createdAt:Ow()});let L=ge,C=M,dt=A;for(;L<=R;){const rt={eventId:P.id,groupId:r,title:x.title,description:x.description,location:x.location,spots:x.spots,eventStartDateTime:je.fromDate(L),registrationOpenDateTime:je.fromDate(C),listRevealDateTime:je.fromDate(dt),participants:[],participantsListProcessed:!1,attendanceProcessed:!1};await vp(ou(ei,"eventInstances"),rt);const K={[x.recurrence.type]:x.recurrence.value};L=Bm(L,K),C=Bm(C,K),dt=Bm(dt,K)}an.success("Recurring event created successfully!"),b(!1)}catch(ge){console.error("Error creating event:",ge),an.error("Failed to create event.")}finally{N(!1)}};return g?D.jsx("div",{className:"flex justify-center items-center h-64",children:D.jsx(Ag,{})}):D.jsxs("div",{children:[D.jsxs("div",{className:"mb-8",children:[D.jsx($h,{to:"/",className:"text-primary hover:underline",children:"← Back to Groups"}),D.jsxs("div",{className:"flex justify-between items-center mt-4",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-4xl font-bold",children:s==null?void 0:s.name}),D.jsx("p",{className:"text-dark-text-secondary mt-1",children:s==null?void 0:s.description})]}),Y&&D.jsx(ni,{onClick:()=>b(!0),children:"Create New Event"})]})]}),D.jsxs("div",{className:"mt-8",children:[D.jsxs("div",{className:"flex border-b border-dark-border mb-6",children:[D.jsxs("button",{onClick:()=>F("upcoming"),className:`px-6 py-2 text-lg font-medium transition-colors duration-200 ${z==="upcoming"?"border-b-2 border-primary text-white":"text-dark-text-secondary hover:text-white"}`,children:["Upcoming (",u.length,")"]}),D.jsxs("button",{onClick:()=>F("past"),className:`px-6 py-2 text-lg font-medium transition-colors duration-200 ${z==="past"?"border-b-2 border-primary text-white":"text-dark-text-secondary hover:text-white"}`,children:["Past (",m.length,")"]})]}),D.jsxs("div",{className:"space-y-6",children:[z==="upcoming"&&D.jsx(D.Fragment,{children:u.length>0?u.map(re=>D.jsx(LE,{instance:re,userProfile:t},re.id)):D.jsxs("div",{className:"text-center py-10 bg-dark-surface rounded-lg",children:[D.jsx("p",{className:"text-dark-text-secondary",children:"No upcoming events scheduled for this group."}),Y&&D.jsx("p",{className:"mt-2 text-sm text-dark-text-secondary",children:'Click "Create New Event" to get started.'})]})}),z==="past"&&D.jsx(D.Fragment,{children:m.length>0?m.map(re=>D.jsx(LE,{instance:re,userProfile:t},re.id)):D.jsx("div",{className:"text-center py-10 bg-dark-surface rounded-lg",children:D.jsx("p",{className:"text-dark-text-secondary",children:"No past events found for this group."})})})]})]}),Y&&D.jsx(jw,{isOpen:w,onClose:()=>b(!1),title:"Create New Recurring Event",children:D.jsxs("form",{onSubmit:W,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[D.jsx("input",{name:"title",placeholder:"Event Title",required:!0,className:"input-style"}),D.jsx("textarea",{name:"description",placeholder:"Event Description",required:!0,className:"input-style",rows:3}),D.jsx("input",{name:"location",placeholder:"Location (e.g., Google Maps Link)",required:!0,className:"input-style"}),D.jsx("input",{name:"spots",type:"number",placeholder:"Available Spots",required:!0,min:"1",className:"input-style"}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"First Event Date"}),D.jsx("input",{name:"eventStartDate",type:"date",required:!0,className:"input-style"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"Event Time"}),D.jsx("input",{name:"eventStartTime",type:"time",required:!0,className:"input-style"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"Registration Open Date"}),D.jsx("input",{name:"regOpenDate",type:"date",required:!0,className:"input-style"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"Registration Open Time"}),D.jsx("input",{name:"regOpenTime",type:"time",required:!0,className:"input-style"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"List Reveal Date"}),D.jsx("input",{name:"revealDate",type:"date",required:!0,className:"input-style"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"List Reveal Time"}),D.jsx("input",{name:"revealTime",type:"time",required:!0,className:"input-style"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"Recurrence"}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{children:"Every"}),D.jsx("input",{name:"recurrenceValue",type:"number",min:"1",defaultValue:"1",required:!0,className:"input-style w-20"}),D.jsxs("select",{name:"recurrenceType",required:!0,className:"input-style",children:[D.jsx("option",{value:"days",children:"Day(s)"}),D.jsx("option",{value:"weeks",children:"Week(s)"}),D.jsx("option",{value:"months",children:"Month(s)"})]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"label-style",children:"Recurrence End Date"}),D.jsx("input",{name:"recurrenceEndDate",type:"date",required:!0,className:"input-style"})]}),D.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[D.jsx(ni,{type:"button",variant:"ghost",onClick:()=>b(!1),children:"Cancel"}),D.jsx(ni,{type:"submit",isLoading:O,children:"Create Events"})]}),D.jsx("style",{children:`
                        .input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                        .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }
                    `})]})})]})},ZM=()=>{const{user:r,userProfile:e}=ca(),t=Tu(),s=async()=>{try{await w2(Sg),an.success("Signed out successfully"),t("/login")}catch(o){console.error("Error signing out: ",o),an.error("Failed to sign out")}};return D.jsx("nav",{className:"bg-dark-surface shadow-md",children:D.jsx("div",{className:"container mx-auto px-4",children:D.jsxs("div",{className:"flex justify-between items-center py-3",children:[D.jsx($h,{to:"/",className:"text-xl font-bold text-primary flex items-center gap-2",children:"🏆 FairPlay Scheduler"}),r&&e&&D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-8 h-8 rounded-full"}),D.jsx("span",{className:"text-sm font-medium text-dark-text-secondary hidden sm:block",children:e.displayName})]}),D.jsx("button",{onClick:s,className:"bg-danger text-white px-3 py-1.5 rounded-md text-sm font-semibold hover:bg-red-600 transition-colors",children:"Logout"})]})]})})})},UE=({children:r})=>D.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[D.jsx(ZM,{}),D.jsx("main",{className:"container mx-auto px-4 py-8",children:r})]}),jE=({children:r})=>{var s;const{user:e,loading:t}=ca();return t?D.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-dark-bg",children:D.jsx(Ag,{})}):e?(s=e.email)!=null&&s.endsWith("@google.com")?D.jsx(D.Fragment,{children:r}):D.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-dark-bg text-red-500",children:[D.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),D.jsx("p",{children:"This application is restricted to @google.com users only."}),D.jsx("p",{children:"Please sign in with a valid Google corporate account."})]}):D.jsx(XE,{to:"/login",replace:!0})},JM=()=>{j.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const{user:r,loading:e}=ca();return D.jsx(qA,{children:D.jsxs(vA,{children:[D.jsx(Xl,{path:"/login",element:D.jsx(zO,{})}),D.jsx(Xl,{path:"/",element:D.jsx(jE,{children:D.jsx(UE,{children:D.jsx(BO,{})})})}),D.jsx(Xl,{path:"/group/:groupId",element:D.jsx(jE,{children:D.jsx(UE,{children:D.jsx(WM,{})})})}),D.jsx(Xl,{path:"*",element:D.jsx(XE,{to:r&&!e?"/":"/login"})})]})})},Fw=document.getElementById("root");if(!Fw)throw new Error("Could not find root element to mount to");const e4=RS.createRoot(Fw);e4.render(D.jsx(vS.StrictMode,{children:D.jsxs(KN,{children:[D.jsx(JM,{}),D.jsx(jO,{position:"bottom-right",toastOptions:{className:"dark:bg-dark-surface dark:text-dark-text",style:{background:"#333",color:"#fff"}}})]})}));
