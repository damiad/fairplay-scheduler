(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function qE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function d1(){if(z_)return Yl;z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=t,Yl.jsxs=t,Yl}var B_;function m1(){return B_||(B_=1,Rm.exports=d1()),Rm.exports}var A=m1(),Im={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function p1(){if(q_)return Re;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function q(O,ne,le){this.props=O,this.context=ne,this.refs=F,this.updater=le||D}q.prototype.isReactComponent={},q.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=q.prototype;function W(O,ne,le){this.props=O,this.context=ne,this.refs=F,this.updater=le||D}var re=W.prototype=new $;re.constructor=W,N(re,q.prototype),re.isPureReactComponent=!0;var fe=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function M(O,ne,le,se,ge,De){return le=De.ref,{$$typeof:r,type:O,key:ne,ref:le!==void 0?le:null,props:De}}function R(O,ne){return M(O.type,ne,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ne[le]})}var P=/\/+/g;function j(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):ne.toString(36)}function x(){}function jt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ut(O,ne,le,se,ge){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(De){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case _:return we=O._init,ut(we(O._payload),ne,le,se,ge)}}if(we)return ge=ge(O),we=se===""?"."+j(O,0):se,fe(ge)?(le="",we!=null&&(le=we.replace(P,"$&/")+"/"),ut(ge,ne,le,"",function(nr){return nr})):ge!=null&&(I(ge)&&(ge=R(ge,le+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+we)),ne.push(ge)),1;we=0;var Nt=se===""?".":se+":";if(fe(O))for(var et=0;et<O.length;et++)se=O[et],De=Nt+j(se,et),we+=ut(se,ne,le,De,ge);else if(et=b(O),typeof et=="function")for(O=et.call(O),et=0;!(se=O.next()).done;)se=se.value,De=Nt+j(se,et++),we+=ut(se,ne,le,De,ge);else if(De==="object"){if(typeof O.then=="function")return ut(jt(O),ne,le,se,ge);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(O,ne,le){if(O==null)return O;var se=[],ge=0;return ut(O,se,"","",function(De){return ne.call(le,De,ge++)}),se}function oe(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Re.Children={map:K,forEach:function(O,ne,le){K(O,function(){ne.apply(this,arguments)},le)},count:function(O){var ne=0;return K(O,function(){ne++}),ne},toArray:function(O){return K(O,function(ne){return ne})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=q,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=W,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ie.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ne,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=N({},O.props),ge=O.key,De=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ye.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(se[we]=ne[we]);var we=arguments.length-2;if(we===1)se.children=le;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];se.children=Nt}return M(O.type,ge,void 0,void 0,De,se)},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ne,le){var se,ge={},De=null;if(ne!=null)for(se in ne.key!==void 0&&(De=""+ne.key),ne)ye.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=ne[se]);var we=arguments.length-2;if(we===1)ge.children=le;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];ge.children=Nt}if(O&&O.defaultProps)for(se in we=O.defaultProps,we)ge[se]===void 0&&(ge[se]=we[se]);return M(O,De,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=I,Re.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:oe}},Re.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Re.startTransition=function(O){var ne=ie.T,le={};ie.T=le;try{var se=O(),ge=ie.S;ge!==null&&ge(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,me)}catch(De){me(De)}finally{ie.T=ne}},Re.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Re.use=function(O){return ie.H.use(O)},Re.useActionState=function(O,ne,le){return ie.H.useActionState(O,ne,le)},Re.useCallback=function(O,ne){return ie.H.useCallback(O,ne)},Re.useContext=function(O){return ie.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ne){return ie.H.useDeferredValue(O,ne)},Re.useEffect=function(O,ne,le){var se=ie.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,ne)},Re.useId=function(){return ie.H.useId()},Re.useImperativeHandle=function(O,ne,le){return ie.H.useImperativeHandle(O,ne,le)},Re.useInsertionEffect=function(O,ne){return ie.H.useInsertionEffect(O,ne)},Re.useLayoutEffect=function(O,ne){return ie.H.useLayoutEffect(O,ne)},Re.useMemo=function(O,ne){return ie.H.useMemo(O,ne)},Re.useOptimistic=function(O,ne){return ie.H.useOptimistic(O,ne)},Re.useReducer=function(O,ne,le){return ie.H.useReducer(O,ne,le)},Re.useRef=function(O){return ie.H.useRef(O)},Re.useState=function(O){return ie.H.useState(O)},Re.useSyncExternalStore=function(O,ne,le){return ie.H.useSyncExternalStore(O,ne,le)},Re.useTransition=function(){return ie.H.useTransition()},Re.version="19.1.0",Re}var H_;function Ap(){return H_||(H_=1,Im.exports=p1()),Im.exports}var U=Ap();const g1=qE(U);var Cm={exports:{}},Ql={},xm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function y1(){return F_||(F_=1,function(r){function e(K,oe){var me=K.length;K.push(oe);e:for(;0<me;){var Be=me-1>>>1,O=K[Be];if(0<o(O,oe))K[Be]=oe,K[me]=O,me=Be;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var oe=K[0],me=K.pop();if(me!==oe){K[0]=me;e:for(var Be=0,O=K.length,ne=O>>>1;Be<ne;){var le=2*(Be+1)-1,se=K[le],ge=le+1,De=K[ge];if(0>o(se,me))ge<O&&0>o(De,se)?(K[Be]=De,K[ge]=me,Be=ge):(K[Be]=se,K[le]=me,Be=le);else if(ge<O&&0>o(De,me))K[Be]=De,K[ge]=me,Be=ge;else break e}}return oe}function o(K,oe){var me=K.sortIndex-oe.sortIndex;return me!==0?me:K.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,w=null,b=3,D=!1,N=!1,F=!1,q=!1,$=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function fe(K){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=K)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function ie(K){if(F=!1,fe(K),!N)if(t(p)!==null)N=!0,ye||(ye=!0,j());else{var oe=t(g);oe!==null&&ut(ie,oe.startTime-K)}}var ye=!1,M=-1,R=5,I=-1;function V(){return q?!0:!(r.unstable_now()-I<R)}function P(){if(q=!1,ye){var K=r.unstable_now();I=K;var oe=!0;try{e:{N=!1,F&&(F=!1,W(M),M=-1),D=!0;var me=b;try{t:{for(fe(K),w=t(p);w!==null&&!(w.expirationTime>K&&V());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,b=w.priorityLevel;var O=Be(w.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){w.callback=O,fe(K),oe=!0;break t}w===t(p)&&s(p),fe(K)}else s(p);w=t(p)}if(w!==null)oe=!0;else{var ne=t(g);ne!==null&&ut(ie,ne.startTime-K),oe=!1}}break e}finally{w=null,b=me,D=!1}oe=void 0}}finally{oe?j():ye=!1}}}var j;if(typeof re=="function")j=function(){re(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,jt=x.port2;x.port1.onmessage=P,j=function(){jt.postMessage(null)}}else j=function(){$(P,0)};function ut(K,oe){M=$(function(){K(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var me=b;b=oe;try{return K()}finally{b=me}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=b;b=K;try{return oe()}finally{b=me}},r.unstable_scheduleCallback=function(K,oe,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,K={id:_++,callback:oe,priorityLevel:K,startTime:me,expirationTime:O,sortIndex:-1},me>Be?(K.sortIndex=me,e(g,K),t(p)===null&&K===t(g)&&(F?(W(M),M=-1):F=!0,ut(ie,me-Be))):(K.sortIndex=O,e(p,K),N||D||(N=!0,ye||(ye=!0,j()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var oe=b;return function(){var me=b;b=oe;try{return K.apply(this,arguments)}finally{b=me}}}}(Dm)),Dm}var G_;function v1(){return G_||(G_=1,xm.exports=y1()),xm.exports}var Nm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function _1(){if(Y_)return Xt;Y_=1;var r=Ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Xt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:D}):_==="script"&&s.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var Q_;function E1(){if(Q_)return Nm.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=_1(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function T1(){if($_)return Ql;$_=1;var r=v1(),e=Ap(),t=E1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function jt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case ie:return"Suspense";case ye:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case re:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case fe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:jt(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return jt(n(i))}catch{}}return null}var ut=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function ne(n){return{current:n}}function le(n){0>O||(n.current=Be[O],Be[O]=null,O--)}function se(n,i){O++,Be[O]=n.current,n.current=i}var ge=ne(null),De=ne(null),we=ne(null),Nt=ne(null);function et(n,i){switch(se(we,i),se(De,n),se(ge,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?m_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=m_(i),n=p_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ge),se(ge,n)}function nr(){le(ge),le(De),le(we)}function fi(n){n.memoizedState!==null&&se(Nt,n);var i=ge.current,a=p_(i,n.type);i!==a&&(se(De,n),se(ge,a))}function Ir(n){De.current===n&&(le(ge),le(De)),Nt.current===n&&(le(Nt),Bl._currentValue=me)}var fs=Object.prototype.hasOwnProperty,ds=r.unstable_scheduleCallback,ms=r.unstable_cancelCallback,Uo=r.unstable_shouldYield,Vu=r.unstable_requestPaint,An=r.unstable_now,Rf=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,ma=r.unstable_UserBlockingPriority,ps=r.unstable_NormalPriority,If=r.unstable_LowPriority,pa=r.unstable_IdlePriority,zo=r.log,ku=r.unstable_setDisableYieldValue,ct=null,Ge=null;function mn(n){if(typeof zo=="function"&&ku(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ct,n)}catch{}}var $t=Math.clz32?Math.clz32:gs,Pu=Math.log,Cf=Math.LN2;function gs(n){return n>>>=0,n===0?32:31-(Pu(n)/Cf|0)|0}var ys=256,vs=4194304;function Hn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ga(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Hn(l):(E&=T,E!==0?f=Hn(E):a||(a=T&~n,a!==0&&(f=Hn(a))))):(T=l&~d,T!==0?f=Hn(T):E!==0?f=Hn(E):a||(a=l&~n,a!==0&&(f=Hn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function _s(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Bo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var n=ys;return ys<<=1,(ys&4194048)===0&&(ys=256),n}function Ho(){var n=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),n}function Cr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function xr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fo(n,i,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,H=n.hiddenUpdates;for(a=E&~a;0<a;){var X=31-$t(a),ee=1<<X;T[X]=0,C[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&rr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function rr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-$t(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Go(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-$t(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function di(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ya(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function mi(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:V_(n.type))}function Lu(n,i){var a=oe.p;try{return oe.p=n,i()}finally{oe.p=a}}var it=Math.random().toString(36).slice(2),At="__reactFiber$"+it,vt="__reactProps$"+it,Rn="__reactContainer$"+it,Yo="__reactEvents$"+it,xf="__reactListeners$"+it,pi="__reactHandles$"+it,Uu="__reactResources$"+it,Es="__reactMarker$"+it;function gi(n){delete n[At],delete n[vt],delete n[Yo],delete n[xf],delete n[pi]}function Dr(n){var i=n[At];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Rn]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=__(n);n!==null;){if(a=n[At])return a;n=__(n)}return i}n=a,a=n.parentNode}return null}function ir(n){if(n=n[At]||n[Rn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function nn(n){var i=n[Uu];return i||(i=n[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(n){n[Es]=!0}var Qo=new Set,va={};function Fn(n,i){Nr(n,i),Nr(n+"Capture",i)}function Nr(n,i){for(va[n]=i,n=0;n<i.length;n++)Qo.add(i[n])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},Ts={};function Bu(n){return fs.call(Ts,n)?!0:fs.call(zu,n)?!1:ju.test(n)?Ts[n]=!0:(zu[n]=!0,!1)}function yi(n,i,a){if(Bu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ar(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function zt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var bs,qu;function Or(n){if(bs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);bs=i&&i[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+n+qu}var _a=!1;function Ea(n,i){if(!n||_a)return"";_a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Y){G=Y}n.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),H=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===H.length)for(l=C.length-1,f=H.length-1;1<=l&&0<=f&&C[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==H[f]){var X=`
`+C[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{_a=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Or(a):""}function $o(n){switch(n.tag){case 26:case 27:case 5:return Or(n.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return Ea(n.type,!1);case 11:return Ea(n.type.render,!1);case 1:return Ea(n.type,!0);case 31:return Or("Activity");default:return""}}function Ta(n){try{var i="";do i+=$o(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ko(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Df(n){var i=Ko(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ba(n){n._valueTracker||(n._valueTracker=Df(n))}function Xo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Ko(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function ws(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Nf=/[\n"\\]/g;function _t(n){return n.replace(Nf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pn(n,i,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+rn(i)):n.value!==""+rn(i)&&(n.value=""+rn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?vi(n,E,rn(i)):a!=null?vi(n,E,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function Ss(n,i,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function vi(n,i,a){i==="number"&&ws(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ke(n,i,a){if(i!=null&&(i=""+rn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+rn(a):""}function As(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function In(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Rs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Wo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Hu(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(n,d,i[d])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(n){return Mf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vr=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kr=null,Pr=null;function Jo(n){var i=ir(n);if(i&&(n=i.stateNode)){var a=n[vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(pn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[vt]||null;if(!f)throw Error(s(90));pn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Xo(l)}break e;case"textarea":Ke(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mr(n,!!a.multiple,i,!1)}}}var or=!1;function Fu(n,i,a){if(or)return n(i,a);or=!0;try{var l=n(i);return l}finally{if(or=!1,(kr!==null||Pr!==null)&&(Lc(),kr&&(i=kr,n=Pr,Pr=kr=null,Jo(i),n)))for(i=0;i<n.length;i++)Jo(n[i])}}function Is(n,i){var a=n.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Gn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{xn=!1}var lr=null,_i=null,Lr=null;function el(){if(Lr)return Lr;var n,i=_i,a=i.length,l,f="value"in lr?lr.value:lr.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===f[d-l];l++);return Lr=f.slice(n,1<l?1-l:void 0)}function ur(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function cr(){return!0}function tl(){return!1}function Ot(n){function i(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?cr:tl,this.isPropagationStopped=tl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Ot(He),xs=_({},He,{view:0,detail:0}),Gu=Ot(xs),Aa,Ra,hr,Ds=_({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hr&&(hr&&n.type==="mousemove"?(Aa=n.screenX-hr.screenX,Ra=n.screenY-hr.screenY):Ra=Aa=0,hr=n),Aa)},movementY:function(n){return"movementY"in n?n.movementY:Ra}}),Dn=Ot(Ds),Yu=_({},Ds,{dataTransfer:0}),Vf=Ot(Yu),Ns=_({},xs,{relatedTarget:0}),Ia=Ot(Ns),nl=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Ot(nl),Qu=_({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xa=Ot(Qu),kf=_({},He,{data:0}),rl=Ot(kf),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ku[n])?!!i[n]:!1}function Ms(){return il}var Xu=_({},xs,{key:function(n){if(n.key){var i=Os[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ur(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$u[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(n){return n.type==="keypress"?ur(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ur(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Da=Ot(Xu),Wu=_({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Ot(Wu),Ur=_({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Zu=Ot(Ur),Ju=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Ot(Ju),tc=_({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Ot(tc),sn=_({},He,{newState:0,oldState:0}),nc=Ot(sn),rc=[9,13,27,32],fr=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,v=Gn&&(!fr||c&&8<c&&11>=c),S=" ",z=!1;function Q(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function Rt(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(z=!0,S);case"textInput":return n=i.data,n===S&&z?null:n;default:return null}}function Le(n,i){if(Pe)return n==="compositionend"||!fr&&Q(n,i)?(n=el(),Lr=_i=lr=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Mt[n.type]:i==="textarea"}function jr(n,i,a,l){kr?Pr?Pr.push(l):Pr=[l]:kr=l,i=Hc(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Bt=null,dr=null;function al(n){u_(n,0)}function ic(n){var i=sr(n);if(Xo(i))return n}function Dg(n,i){if(n==="change")return i}var Ng=!1;if(Gn){var Pf;if(Gn){var Lf="oninput"in document;if(!Lf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Lf=typeof Og.oninput=="function"}Pf=Lf}else Pf=!1;Ng=Pf&&(!document.documentMode||9<document.documentMode)}function Mg(){Bt&&(Bt.detachEvent("onpropertychange",Vg),dr=Bt=null)}function Vg(n){if(n.propertyName==="value"&&ic(dr)){var i=[];jr(i,dr,n,Cn(n)),Fu(al,i)}}function Hw(n,i,a){n==="focusin"?(Mg(),Bt=i,dr=a,Bt.attachEvent("onpropertychange",Vg)):n==="focusout"&&Mg()}function Fw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(dr)}function Gw(n,i){if(n==="click")return ic(i)}function Yw(n,i){if(n==="input"||n==="change")return ic(i)}function Qw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var gn=typeof Object.is=="function"?Object.is:Qw;function ol(n,i){if(gn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!fs.call(i,f)||!gn(n[f],i[f]))return!1}return!0}function kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pg(n,i){var a=kg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ug(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ws(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ws(n.document)}return i}function Uf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var $w=Gn&&"documentMode"in document&&11>=document.documentMode,Oa=null,jf=null,ll=null,zf=!1;function jg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zf||Oa==null||Oa!==ws(l)||(l=Oa,"selectionStart"in l&&Uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Hc(jf,"onSelect"),0<l.length&&(i=new Sa("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Oa)))}function Vs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ma={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Bf={},zg={};Gn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function ks(n){if(Bf[n])return Bf[n];if(!Ma[n])return n;var i=Ma[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in zg)return Bf[n]=i[a];return n}var Bg=ks("animationend"),qg=ks("animationiteration"),Hg=ks("animationstart"),Kw=ks("transitionrun"),Xw=ks("transitionstart"),Ww=ks("transitioncancel"),Fg=ks("transitionend"),Gg=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function Yn(n,i){Gg.set(n,i),Fn(i,[n])}var Yg=new WeakMap;function Nn(n,i){if(typeof n=="object"&&n!==null){var a=Yg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Ta(i)},Yg.set(n,i),i)}return{value:n,source:i,stack:Ta(i)}}var On=[],Va=0,Hf=0;function sc(){for(var n=Va,i=Hf=Va=0;i<n;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Qg(a,f,d)}}function ac(n,i,a,l){On[Va++]=n,On[Va++]=i,On[Va++]=a,On[Va++]=l,Hf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ff(n,i,a,l){return ac(n,i,a,l),oc(n)}function ka(n,i){return ac(n,null,null,i),oc(n)}function Qg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-$t(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(n){if(50<Ml)throw Ml=0,Xd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Pa={};function Zw(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,i,a,l){return new Zw(n,i,a,l)}function Gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zr(n,i){var a=n.alternate;return a===null?(a=yn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $g(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function lc(n,i,a,l,f,d){var E=0;if(l=n,typeof n=="function")Gf(n)&&(E=1);else if(typeof n=="string")E=e1(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=yn(31,a,i,f),n.elementType=I,n.lanes=d,n;case N:return Ps(a.children,f,d,i);case F:E=8,f|=24;break;case q:return n=yn(12,a,i,f|2),n.elementType=q,n.lanes=d,n;case ie:return n=yn(13,a,i,f),n.elementType=ie,n.lanes=d,n;case ye:return n=yn(19,a,i,f),n.elementType=ye,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $:case re:E=10;break e;case W:E=9;break e;case fe:E=11;break e;case M:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=yn(E,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Ps(n,i,a,l){return n=yn(7,n,l,i),n.lanes=a,n}function Yf(n,i,a){return n=yn(6,n,null,i),n.lanes=a,n}function Qf(n,i,a){return i=yn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var La=[],Ua=0,uc=null,cc=0,Mn=[],Vn=0,Ls=null,Br=1,qr="";function Us(n,i){La[Ua++]=cc,La[Ua++]=uc,uc=n,cc=i}function Kg(n,i,a){Mn[Vn++]=Br,Mn[Vn++]=qr,Mn[Vn++]=Ls,Ls=n;var l=Br;n=qr;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var d=32-$t(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Br=1<<32-$t(i)+f|a<<f|l,qr=d+n}else Br=1<<d|a<<f|l,qr=n}function $f(n){n.return!==null&&(Us(n,1),Kg(n,1,0))}function Kf(n){for(;n===uc;)uc=La[--Ua],La[Ua]=null,cc=La[--Ua],La[Ua]=null;for(;n===Ls;)Ls=Mn[--Vn],Mn[Vn]=null,qr=Mn[--Vn],Mn[Vn]=null,Br=Mn[--Vn],Mn[Vn]=null}var an=null,ht=null,qe=!1,js=null,mr=!1,Xf=Error(s(519));function zs(n){var i=Error(s(418,""));throw hl(Nn(i,n)),Xf}function Xg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[At]=n,i[vt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)Me(kl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ba(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),As(i,l.value,l.defaultValue,l.children),ba(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||d_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Fc),i=!0):i=!1,i||zs(n)}function Wg(n){for(an=n.return;an;)switch(an.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:an=an.return}}function ul(n){if(n!==an)return!1;if(!qe)return Wg(n),qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fm(n.type,n.memoizedProps)),a=!a),a&&ht&&zs(n),Wg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ht=$n(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ht=null}}else i===27?(i=ht,ki(n.type)?(n=gm,gm=null,ht=n):ht=i):ht=an?$n(n.stateNode.nextSibling):null;return!0}function cl(){ht=an=null,qe=!1}function Zg(){var n=js;return n!==null&&(cn===null?cn=n:cn.push.apply(cn,n),js=null),n}function hl(n){js===null?js=[n]:js.push(n)}var Wf=ne(null),Bs=null,Hr=null;function Ei(n,i,a){se(Wf,i._currentValue),i._currentValue=a}function Fr(n){n._currentValue=Wf.current,le(Wf)}function Zf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Jf(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Zf(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Zf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function fl(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;gn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Nt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Bl):n=[Bl])}f=f.return}n!==null&&Jf(i,n,a,l),i.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qs(n){Bs=n,Hr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Jg(Bs,n)}function fc(n,i){return Bs===null&&qs(n),Jg(n,i)}function Jg(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hr===null){if(n===null)throw Error(s(308));Hr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Hr=Hr.next=i;return a}var Jw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},eS=r.unstable_scheduleCallback,tS=r.unstable_NormalPriority,Ct={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new Jw,data:new Map,refCount:0}}function dl(n){n.refCount--,n.refCount===0&&eS(tS,function(){n.controller.abort()})}var ml=null,td=0,ja=0,za=null;function nS(n,i){if(ml===null){var a=ml=[];td=0,ja=rm(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return td++,i.then(ey,ey),i}function ey(){if(--td===0&&ml!==null){za!==null&&(za.status="fulfilled");var n=ml;ml=null,ja=0,za=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function rS(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ty=K.S;K.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nS(n,i),ty!==null&&ty(n,i)};var Hs=ne(null);function nd(){var n=Hs.current;return n!==null?n:tt.pooledCache}function dc(n,i){i===null?se(Hs,Hs.current):se(Hs,i.pool)}function ny(){var n=nd();return n===null?null:{parent:Ct._currentValue,pool:n}}var pl=Error(s(460)),ry=Error(s(474)),mc=Error(s(542)),rd={then:function(){}};function iy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function sy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(pc,pc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,oy(n),n;default:if(typeof i.status=="string")i.then(pc,pc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,oy(n),n}throw gl=i,pl}}var gl=null;function ay(){if(gl===null)throw Error(s(459));var n=gl;return gl=null,n}function oy(n){if(n===pl||n===mc)throw Error(s(483))}var Ti=!1;function id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function wi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=oc(n),Qg(n,null,a),i}return ac(n,l,i,a),oc(n)}function yl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Go(n,a)}}function ad(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var od=!1;function vl(){if(od){var n=za;if(n!==null)throw n}}function _l(n,i,a,l){od=!1;var f=n.updateQueue;Ti=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,H=C.next;C.next=null,E===null?d=H:E.next=H,E=C;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==E&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=C))}if(d!==null){var ee=f.baseState;E=0,X=H=C=null,T=d;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(Ue&G)===G:(l&G)===G){G!==0&&G===ja&&(od=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=n,ve=T;G=i;var Ze=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){ee=Te.call(Ze,ee,G);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,G=typeof Te=="function"?Te.call(Ze,ee,G):Te,G==null)break e;ee=_({},ee,G);break e;case 2:Ti=!0}}G=T.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=Y,C=ee):X=X.next=Y,E|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(C=ee),f.baseState=C,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ni|=E,n.lanes=E,n.memoizedState=ee}}function ly(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function uy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ly(a[n],i)}var Ba=ne(null),gc=ne(0);function cy(n,i){n=Wr,se(gc,n),se(Ba,i),Wr=n|i.baseLanes}function ld(){se(gc,Wr),se(Ba,Ba.current)}function ud(){Wr=gc.current,le(Ba),le(gc)}var Si=0,Ie=null,Xe=null,Et=null,yc=!1,qa=!1,Fs=!1,vc=0,El=0,Ha=null,iS=0;function pt(){throw Error(s(321))}function cd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!gn(n[a],i[a]))return!1;return!0}function hd(n,i,a,l,f,d){return Si=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=n===null||n.memoizedState===null?Qy:$y,Fs=!1,d=a(l,f),Fs=!1,qa&&(d=fy(i,a,l,f)),hy(n),d}function hy(n){K.H=Sc;var i=Xe!==null&&Xe.next!==null;if(Si=0,Et=Xe=Ie=null,yc=!1,El=0,Ha=null,i)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&hc(n)&&(Vt=!0))}function fy(n,i,a,l){Ie=n;var f=0;do{if(qa&&(Ha=null),El=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,Et=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=hS,d=i(a,l)}while(qa);return d}function sS(){var n=K.H,i=n.useState()[0];return i=typeof i.then=="function"?Tl(i):i,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),i}function fd(){var n=vc!==0;return vc=0,n}function dd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function md(n){if(yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yc=!1}Si=0,Et=Xe=Ie=null,qa=!1,El=vc=0,Ha=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var i=Et===null?Ie.memoizedState:Et.next;if(i!==null)Et=i,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?Ie.memoizedState=Et=n:Et=Et.next=n}return Et}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(n){var i=El;return El+=1,Ha===null&&(Ha=[]),n=sy(Ha,n,i),i=Ie,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Qy:$y),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tl(n);if(n.$$typeof===re)return Kt(n)}throw Error(s(438,String(n)))}function gd(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=V;return i.index++,a}function Gr(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=Tt();return yd(i,Xe,n)}function yd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var T=E=null,C=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Ue&ee)===ee:(Si&ee)===ee){var G=H.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===ja&&(X=!0);else if((Si&G)===G){H=H.next,G===ja&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=ee,E=d):C=C.next=ee,Ie.lanes|=G,Ni|=G;ee=H.action,Fs&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else G={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=G,E=d):C=C.next=G,Ie.lanes|=ee,Ni|=ee;H=H.next}while(H!==null&&H!==i);if(C===null?E=d:C.next=T,!gn(d,n.memoizedState)&&(Vt=!0,X&&(a=za,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function vd(n){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);gn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(n,i,a){var l=Ie,f=Tt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!gn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Vt=!0),f=f.queue;var T=gy.bind(null,l,f,n);if(bl(2048,8,T,[n]),f.getSnapshot!==i||E||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Tc(),py.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(Si&124)!==0||my(l,i,a)}return a}function my(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=pd(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function py(n,i,a,l){i.value=a,i.getSnapshot=l,yy(i)&&vy(n)}function gy(n,i,a){return a(function(){yy(i)&&vy(n)})}function yy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!gn(n,a)}catch{return!0}}function vy(n){var i=ka(n,2);i!==null&&bn(i,n,2)}function _d(n){var i=ln();if(typeof n=="function"){var a=n;if(n=a(),Fs){mn(!0);try{a()}finally{mn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:n},i}function _y(n,i,a,l){return n.baseState=a,yd(n,Xe,typeof l=="function"?l:Gr)}function aS(n,i,a,l,f){if(wc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ey(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=K.T,E={};K.T=E;try{var T=a(f,l),C=K.S;C!==null&&C(E,T),Ty(n,i,T)}catch(H){Ed(n,i,H)}finally{K.T=d}}else try{d=a(f,l),Ty(n,i,d)}catch(H){Ed(n,i,H)}}function Ty(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(n,i,l)},function(l){return Ed(n,i,l)}):by(n,i,a)}function by(n,i,a){i.status="fulfilled",i.value=a,wy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Ey(n,a)))}function Ed(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,wy(i),i=i.next;while(i!==l)}n.action=null}function wy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Sy(n,i){return i}function Ay(n,i){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(qe){if(ht){t:{for(var f=ht,d=mr;f.nodeType!==8;){if(!d){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=$n(f.nextSibling),l=f.data==="F!";break e}}zs(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=Fy.bind(null,Ie,l),l.dispatch=a,l=_d(!1),d=Ad.bind(null,Ie,!1,l.queue),l=ln(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=aS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function Ry(n){var i=Tt();return Iy(i,Xe,n)}function Iy(n,i,a){if(i=yd(n,i,Sy)[0],n=Ec(Gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Tl(i)}catch(E){throw E===pl?mc:E}else l=i;i=Tt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Fa(9,Tc(),oS.bind(null,f,a),null)),[l,d,n]}function oS(n,i){n.action=i}function Cy(n){var i=Tt(),a=Xe;if(a!==null)return Iy(i,a,n);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Fa(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=pd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function xy(){return Tt().memoizedState}function bc(n,i,a,l){var f=ln();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=Fa(1|i,Tc(),a,l)}function bl(n,i,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&cd(l,Xe.memoizedState.deps)?f.memoizedState=Fa(i,d,a,l):(Ie.flags|=n,f.memoizedState=Fa(1|i,d,a,l))}function Dy(n,i){bc(8390656,8,n,i)}function Ny(n,i){bl(2048,8,n,i)}function Oy(n,i){return bl(4,2,n,i)}function My(n,i){return bl(4,4,n,i)}function Vy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ky(n,i,a){a=a!=null?a.concat([n]):null,bl(4,4,Vy.bind(null,i,n),a)}function Td(){}function Py(n,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&cd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Ly(n,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&cd(i,l[1]))return l[0];if(l=n(),Fs){mn(!0);try{n()}finally{mn(!1)}}return a.memoizedState=[l,i],l}function bd(n,i,a){return a===void 0||(Si&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=zv(),Ie.lanes|=n,Ni|=n,a)}function Uy(n,i,a,l){return gn(a,i)?a:Ba.current!==null?(n=bd(n,a,l),gn(n,i)||(Vt=!0),n):(Si&42)===0?(Vt=!0,n.memoizedState=a):(n=zv(),Ie.lanes|=n,Ni|=n,i)}function jy(n,i,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=K.T,T={};K.T=T,Ad(n,!1,i,a);try{var C=f(),H=K.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=rS(C,l);wl(n,i,X,Tn(n))}else wl(n,i,l,Tn(n))}catch(ee){wl(n,i,{then:function(){},status:"rejected",reason:ee},Tn())}finally{oe.p=d,K.T=E}}function lS(){}function wd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=zy(n).queue;jy(n,f,i,me,a===null?lS:function(){return By(n),a(l)})}function zy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function By(n){var i=zy(n).next.queue;wl(n,i,{},Tn())}function Sd(){return Kt(Bl)}function qy(){return Tt().memoizedState}function Hy(){return Tt().memoizedState}function uS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();n=bi(a);var l=wi(i,n,a);l!==null&&(bn(l,i,a),yl(l,i,a)),i={cache:ed()},n.payload=i;return}i=i.return}}function cS(n,i,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?Gy(i,a):(a=Ff(n,i,a,l),a!==null&&(bn(a,n,l),Yy(a,i,l)))}function Fy(n,i,a){var l=Tn();wl(n,i,a,l)}function wl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))Gy(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,gn(T,E))return ac(n,i,f,0),tt===null&&sc(),!1}catch{}finally{}if(a=Ff(n,i,f,l),a!==null)return bn(a,n,l),Yy(a,i,l),!0}return!1}function Ad(n,i,a,l){if(l={lane:2,revertLane:rm(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(s(479))}else i=Ff(n,a,l,2),i!==null&&bn(i,n,2)}function wc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function Gy(n,i){qa=yc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Yy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Go(n,a)}}var Sc={readContext:Kt,use:_c,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Qy={readContext:Kt,use:_c,useCallback:function(n,i){return ln().memoizedState=[n,i===void 0?null:i],n},useContext:Kt,useEffect:Dy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,bc(4194308,4,Vy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return bc(4194308,4,n,i)},useInsertionEffect:function(n,i){bc(4,2,n,i)},useMemo:function(n,i){var a=ln();i=i===void 0?null:i;var l=n();if(Fs){mn(!0);try{n()}finally{mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=ln();if(a!==void 0){var f=a(i);if(Fs){mn(!0);try{a(i)}finally{mn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=cS.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=ln();return n={current:n},i.memoizedState=n},useState:function(n){n=_d(n);var i=n.queue,a=Fy.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(n,i){var a=ln();return bd(a,n,i)},useTransition:function(){var n=_d(!1);return n=jy.bind(null,Ie,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,f=ln();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Ue&124)!==0||my(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Dy(gy.bind(null,l,d,n),[n]),l.flags|=2048,Fa(9,Tc(),py.bind(null,l,d,a,i),null),a},useId:function(){var n=ln(),i=tt.identifierPrefix;if(qe){var a=qr,l=Br;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=iS++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Sd,useFormState:Ay,useActionState:Ay,useOptimistic:function(n){var i=ln();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ad.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:gd,useCacheRefresh:function(){return ln().memoizedState=uS.bind(null,Ie)}},$y={readContext:Kt,use:_c,useCallback:Py,useContext:Kt,useEffect:Ny,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:Ec,useRef:xy,useState:function(){return Ec(Gr)},useDebugValue:Td,useDeferredValue:function(n,i){var a=Tt();return Uy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=Ec(Gr)[0],i=Tt().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:Sd,useFormState:Ry,useActionState:Ry,useOptimistic:function(n,i){var a=Tt();return _y(a,Xe,n,i)},useMemoCache:gd,useCacheRefresh:Hy},hS={readContext:Kt,use:_c,useCallback:Py,useContext:Kt,useEffect:Ny,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:vd,useRef:xy,useState:function(){return vd(Gr)},useDebugValue:Td,useDeferredValue:function(n,i){var a=Tt();return Xe===null?bd(a,n,i):Uy(a,Xe.memoizedState,n,i)},useTransition:function(){var n=vd(Gr)[0],i=Tt().memoizedState;return[typeof n=="boolean"?n:Tl(n),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:Sd,useFormState:Cy,useActionState:Cy,useOptimistic:function(n,i){var a=Tt();return Xe!==null?_y(a,Xe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Hy},Ga=null,Sl=0;function Ac(n){var i=Sl;return Sl+=1,Ga===null&&(Ga=[]),sy(Ga,n,i)}function Al(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rc(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ky(n){var i=n._init;return i(n._payload)}function Xy(n){function i(L,k){if(n){var B=L.deletions;B===null?(L.deletions=[k],L.flags|=16):B.push(k)}}function a(L,k){if(!n)return null;for(;k!==null;)i(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function f(L,k){return L=zr(L,k),L.index=0,L.sibling=null,L}function d(L,k,B){return L.index=B,n?(B=L.alternate,B!==null?(B=B.index,B<k?(L.flags|=67108866,k):B):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,k,B,Z){return k===null||k.tag!==6?(k=Yf(B,L.mode,Z),k.return=L,k):(k=f(k,B),k.return=L,k)}function C(L,k,B,Z){var he=B.type;return he===N?X(L,k,B.props.children,Z,B.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ky(he)===k.type)?(k=f(k,B.props),Al(k,B),k.return=L,k):(k=lc(B.type,B.key,B.props,null,L.mode,Z),Al(k,B),k.return=L,k)}function H(L,k,B,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Qf(B,L.mode,Z),k.return=L,k):(k=f(k,B.children||[]),k.return=L,k)}function X(L,k,B,Z,he){return k===null||k.tag!==7?(k=Ps(B,L.mode,Z,he),k.return=L,k):(k=f(k,B),k.return=L,k)}function ee(L,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Yf(""+k,L.mode,B),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return B=lc(k.type,k.key,k.props,null,L.mode,B),Al(B,k),B.return=L,B;case D:return k=Qf(k,L.mode,B),k.return=L,k;case R:var Z=k._init;return k=Z(k._payload),ee(L,k,B)}if(ut(k)||j(k))return k=Ps(k,L.mode,B,null),k.return=L,k;if(typeof k.then=="function")return ee(L,Ac(k),B);if(k.$$typeof===re)return ee(L,fc(L,k),B);Rc(L,k)}return null}function G(L,k,B,Z){var he=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:T(L,k,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===he?C(L,k,B,Z):null;case D:return B.key===he?H(L,k,B,Z):null;case R:return he=B._init,B=he(B._payload),G(L,k,B,Z)}if(ut(B)||j(B))return he!==null?null:X(L,k,B,Z,null);if(typeof B.then=="function")return G(L,k,Ac(B),Z);if(B.$$typeof===re)return G(L,k,fc(L,B),Z);Rc(L,B)}return null}function Y(L,k,B,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(k,L,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return L=L.get(Z.key===null?B:Z.key)||null,C(k,L,Z,he);case D:return L=L.get(Z.key===null?B:Z.key)||null,H(k,L,Z,he);case R:var Ne=Z._init;return Z=Ne(Z._payload),Y(L,k,B,Z,he)}if(ut(Z)||j(Z))return L=L.get(B)||null,X(k,L,Z,he,null);if(typeof Z.then=="function")return Y(L,k,B,Ac(Z),he);if(Z.$$typeof===re)return Y(L,k,B,fc(k,Z),he);Rc(k,Z)}return null}function Te(L,k,B,Z){for(var he=null,Ne=null,de=k,_e=k=0,Pt=null;de!==null&&_e<B.length;_e++){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var ze=G(L,de,B[_e],Z);if(ze===null){de===null&&(de=Pt);break}n&&de&&ze.alternate===null&&i(L,de),k=d(ze,k,_e),Ne===null?he=ze:Ne.sibling=ze,Ne=ze,de=Pt}if(_e===B.length)return a(L,de),qe&&Us(L,_e),he;if(de===null){for(;_e<B.length;_e++)de=ee(L,B[_e],Z),de!==null&&(k=d(de,k,_e),Ne===null?he=de:Ne.sibling=de,Ne=de);return qe&&Us(L,_e),he}for(de=l(de);_e<B.length;_e++)Pt=Y(de,L,_e,B[_e],Z),Pt!==null&&(n&&Pt.alternate!==null&&de.delete(Pt.key===null?_e:Pt.key),k=d(Pt,k,_e),Ne===null?he=Pt:Ne.sibling=Pt,Ne=Pt);return n&&de.forEach(function(zi){return i(L,zi)}),qe&&Us(L,_e),he}function ve(L,k,B,Z){if(B==null)throw Error(s(151));for(var he=null,Ne=null,de=k,_e=k=0,Pt=null,ze=B.next();de!==null&&!ze.done;_e++,ze=B.next()){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var zi=G(L,de,ze.value,Z);if(zi===null){de===null&&(de=Pt);break}n&&de&&zi.alternate===null&&i(L,de),k=d(zi,k,_e),Ne===null?he=zi:Ne.sibling=zi,Ne=zi,de=Pt}if(ze.done)return a(L,de),qe&&Us(L,_e),he;if(de===null){for(;!ze.done;_e++,ze=B.next())ze=ee(L,ze.value,Z),ze!==null&&(k=d(ze,k,_e),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return qe&&Us(L,_e),he}for(de=l(de);!ze.done;_e++,ze=B.next())ze=Y(de,L,_e,ze.value,Z),ze!==null&&(n&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),k=d(ze,k,_e),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return n&&de.forEach(function(f1){return i(L,f1)}),qe&&Us(L,_e),he}function Ze(L,k,B,Z){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var he=B.key;k!==null;){if(k.key===he){if(he=B.type,he===N){if(k.tag===7){a(L,k.sibling),Z=f(k,B.props.children),Z.return=L,L=Z;break e}}else if(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ky(he)===k.type){a(L,k.sibling),Z=f(k,B.props),Al(Z,B),Z.return=L,L=Z;break e}a(L,k);break}else i(L,k);k=k.sibling}B.type===N?(Z=Ps(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=lc(B.type,B.key,B.props,null,L.mode,Z),Al(Z,B),Z.return=L,L=Z)}return E(L);case D:e:{for(he=B.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(L,k.sibling),Z=f(k,B.children||[]),Z.return=L,L=Z;break e}else{a(L,k);break}else i(L,k);k=k.sibling}Z=Qf(B,L.mode,Z),Z.return=L,L=Z}return E(L);case R:return he=B._init,B=he(B._payload),Ze(L,k,B,Z)}if(ut(B))return Te(L,k,B,Z);if(j(B)){if(he=j(B),typeof he!="function")throw Error(s(150));return B=he.call(B),ve(L,k,B,Z)}if(typeof B.then=="function")return Ze(L,k,Ac(B),Z);if(B.$$typeof===re)return Ze(L,k,fc(L,B),Z);Rc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(L,k.sibling),Z=f(k,B),Z.return=L,L=Z):(a(L,k),Z=Yf(B,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,k)}return function(L,k,B,Z){try{Sl=0;var he=Ze(L,k,B,Z);return Ga=null,he}catch(de){if(de===pl||de===mc)throw de;var Ne=yn(29,de,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ya=Xy(!0),Wy=Xy(!1),kn=ne(null),pr=null;function Ai(n){var i=n.alternate;se(xt,xt.current&1),se(kn,n),pr===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(pr=n)}function Zy(n){if(n.tag===22){if(se(xt,xt.current),se(kn,n),pr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(pr=n)}}else Ri()}function Ri(){se(xt,xt.current),se(kn,kn.current)}function Yr(n){le(kn),pr===n&&(pr=null),le(xt)}var xt=ne(0);function Ic(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Rd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Id={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Tn(),f=bi(l);f.payload=i,a!=null&&(f.callback=a),i=wi(n,f,l),i!==null&&(bn(i,n,l),yl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Tn(),f=bi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=wi(n,f,l),i!==null&&(bn(i,n,l),yl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Tn(),l=bi(a);l.tag=2,i!=null&&(l.callback=i),i=wi(n,l,a),i!==null&&(bn(i,n,a),yl(i,n,a))}};function Jy(n,i,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!ol(a,l)||!ol(f,d):!0}function ev(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Id.enqueueReplaceState(i,i.state,null)}function Gs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function tv(n){Cc(n)}function nv(n){console.error(n)}function rv(n){Cc(n)}function xc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function iv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cd(n,i,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,i)},a}function sv(n){return n=bi(n),n.tag=3,n}function av(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){iv(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){iv(i,a,l),typeof f!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function fS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&fl(i,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 13:return pr===null?Zd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),em(n,l,f)),!1;case 22:return a.flags|=65536,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),em(n,l,f)),!1}throw Error(s(435,a.tag))}return em(n,l,f),Zd(),!1}if(qe)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Xf&&(n=Error(s(422),{cause:l}),hl(Nn(n,a)))):(l!==Xf&&(i=Error(s(423),{cause:l}),hl(Nn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Nn(l,a),f=Cd(n.stateNode,l,f),ad(n,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Ol===null?Ol=[d]:Ol.push(d),ft!==4&&(ft=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Cd(a.stateNode,l,n),ad(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=sv(f),av(f,n,a,l),ad(a,f),!1}a=a.return}while(a!==null);return!1}var ov=Error(s(461)),Vt=!1;function qt(n,i,a,l){i.child=n===null?Wy(i,null,a,l):Ya(i,n.child,a,l)}function lv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return qs(i),l=hd(n,i,a,E,d,f),T=fd(),n!==null&&!Vt?(dd(n,i,f),Qr(n,i,f)):(qe&&T&&$f(i),i.flags|=1,qt(n,i,l,f),i.child)}function uv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,cv(n,i,d,l,f)):(n=lc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Pd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(E,l)&&n.ref===i.ref)return Qr(n,i,f)}return i.flags|=1,n=zr(d,l),n.ref=i.ref,n.return=i,i.child=n}function cv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(ol(d,l)&&n.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,Pd(n,f))(n.flags&131072)!==0&&(Vt=!0);else return i.lanes=n.lanes,Qr(n,i,f)}return xd(n,i,a,l,f)}function hv(n,i,a){var l=i.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return fv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,d!==null?d.cachePool:null),d!==null?cy(i,d):ld(),Zy(i);else return i.lanes=i.childLanes=536870912,fv(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(i,d.cachePool),cy(i,d),Ri(),i.memoizedState=null):(n!==null&&dc(i,null),ld(),Ri());return qt(n,i,f,a),i.child}function fv(n,i,a,l){var f=nd();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&dc(i,null),ld(),Zy(i),n!==null&&fl(n,i,l,!0),null}function Dc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function xd(n,i,a,l,f){return qs(i),a=hd(n,i,a,l,void 0,f),l=fd(),n!==null&&!Vt?(dd(n,i,f),Qr(n,i,f)):(qe&&l&&$f(i),i.flags|=1,qt(n,i,a,f),i.child)}function dv(n,i,a,l,f,d){return qs(i),i.updateQueue=null,a=fy(i,l,a,f),hy(n),l=fd(),n!==null&&!Vt?(dd(n,i,d),Qr(n,i,d)):(qe&&l&&$f(i),i.flags|=1,qt(n,i,a,d),i.child)}function mv(n,i,a,l,f){if(qs(i),i.stateNode===null){var d=Pa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Kt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},id(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Kt(E):Pa,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Rd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Id.enqueueReplaceState(d,d.state,null),_l(i,l,d,f),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var T=i.memoizedProps,C=Gs(a,T);d.props=C;var H=d.context,X=a.contextType;E=Pa,typeof X=="object"&&X!==null&&(E=Kt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==E)&&ev(i,d,l,E),Ti=!1;var G=i.memoizedState;d.state=G,_l(i,l,d,f),vl(),H=i.memoizedState,T||G!==H||Ti?(typeof ee=="function"&&(Rd(i,a,ee,l),H=i.memoizedState),(C=Ti||Jy(i,a,C,l,G,H,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,sd(n,i),E=i.memoizedProps,X=Gs(a,E),d.props=X,ee=i.pendingProps,G=d.context,H=a.contextType,C=Pa,typeof H=="object"&&H!==null&&(C=Kt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||G!==C)&&ev(i,d,l,C),Ti=!1,G=i.memoizedState,d.state=G,_l(i,l,d,f),vl();var Y=i.memoizedState;E!==ee||G!==Y||Ti||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof T=="function"&&(Rd(i,a,T,l),Y=i.memoizedState),(X=Ti||Jy(i,a,X,l,G,Y,C)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ya(i,n.child,null,f),i.child=Ya(i,null,a,f)):qt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=Qr(n,i,f),n}function pv(n,i,a,l){return cl(),i.flags|=256,qt(n,i,a,l),i.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(n){return{baseLanes:n,cachePool:ny()}}function Od(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Pn),n}function gv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(qe){if(f?Ai(i):Ri(),qe){var T=ht,C;if(C=T){e:{for(C=T,T=mr;C.nodeType!==8;){if(!T){T=null;break e}if(C=$n(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ls!==null?{id:Br,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},C=yn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,an=i,ht=null,C=!0):C=!1}C||zs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return pm(T)?i.lanes=32:i.lanes=536870912,null;Yr(i)}return T=l.children,l=l.fallback,f?(Ri(),f=i.mode,T=Nc({mode:"hidden",children:T},f),l=Ps(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Nd(a),f.childLanes=Od(n,E,a),i.memoizedState=Dd,l):(Ai(i),Md(i,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Ai(i),i.flags&=-257,i=Vd(n,i,a)):i.memoizedState!==null?(Ri(),i.child=n.child,i.flags|=128,i=null):(Ri(),f=l.fallback,T=i.mode,l=Nc({mode:"visible",children:l.children},T),f=Ps(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ya(i,n.child,null,a),l=i.child,l.memoizedState=Nd(a),l.childLanes=Od(n,E,a),i.memoizedState=Dd,i=f);else if(Ai(i),pm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,hl({value:l,source:null,stack:null}),i=Vd(n,i,a)}else if(Vt||fl(n,i,a,!1),E=(a&n.childLanes)!==0,Vt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:di(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ka(n,l),bn(E,n,l),ov;T.data==="$?"||Zd(),i=Vd(n,i,a)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,ht=$n(T.nextSibling),an=i,qe=!0,js=null,mr=!1,n!==null&&(Mn[Vn++]=Br,Mn[Vn++]=qr,Mn[Vn++]=Ls,Br=n.id,qr=n.overflow,Ls=i),i=Md(i,l.children),i.flags|=4096);return i}return f?(Ri(),f=l.fallback,T=i.mode,C=n.child,H=C.sibling,l=zr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?f=zr(H,f):(f=Ps(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=n.child.memoizedState,T===null?T=Nd(a):(C=T.cachePool,C!==null?(H=Ct._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=ny(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=Od(n,E,a),i.memoizedState=Dd,l):(Ai(i),a=n.child,n=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Md(n,i){return i=Nc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Nc(n,i){return n=yn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Vd(n,i,a){return Ya(i,n.child,null,a),n=Md(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function yv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Zf(n.return,i,a)}function kd(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function vv(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(qt(n,i,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&yv(n,a,i);else if(n.tag===19)yv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(xt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),kd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ic(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}kd(i,!0,a,null,d);break;case"together":kd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ni|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(fl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=zr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=zr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Pd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function dS(n,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),Ei(i,Ct,n.memoizedState.cache),cl();break;case 27:case 5:fi(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:Ei(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gv(n,i,a):(Ai(i),n=Qr(n,i,a),n!==null?n.sibling:null);Ai(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(fl(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return vv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(xt,xt.current),l)break;return null;case 22:case 23:return i.lanes=0,hv(n,i,a);case 24:Ei(i,Ct,n.memoizedState.cache)}return Qr(n,i,a)}function _v(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Vt=!0;else{if(!Pd(n,a)&&(i.flags&128)===0)return Vt=!1,dS(n,i,a);Vt=(n.flags&131072)!==0}else Vt=!1,qe&&(i.flags&1048576)!==0&&Kg(i,cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Gf(l)?(n=Gs(l,n),i.tag=1,i=mv(null,i,l,n,a)):(i.tag=0,i=xd(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===fe){i.tag=11,i=lv(null,i,l,n,a);break e}else if(f===M){i.tag=14,i=uv(null,i,l,n,a);break e}}throw i=jt(l)||l,Error(s(306,i,""))}}return i;case 0:return xd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Gs(l,i.pendingProps),mv(n,i,l,f,a);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,sd(n,i),_l(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ei(i,Ct,l),l!==d.cache&&Jf(i,[Ct],a,!0),vl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=pv(n,i,l,a);break e}else if(l!==f){f=Nn(Error(s(424)),i),hl(f),i=pv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=$n(n.firstChild),an=i,qe=!0,js=null,mr=!0,a=Wy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cl(),l===f){i=Qr(n,i,a);break e}qt(n,i,l,a)}i=i.child}return i;case 26:return Dc(n,i),n===null?(a=w_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,n=i.pendingProps,l=Gc(we.current).createElement(a),l[At]=i,l[vt]=n,Ft(l,a,n),mt(l),i.stateNode=l):i.memoizedState=w_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return fi(i),n===null&&qe&&(l=i.stateNode=E_(i.type,i.pendingProps,we.current),an=i,mr=!0,f=ht,ki(i.type)?(gm=f,ht=$n(l.firstChild)):ht=f),qt(n,i,i.pendingProps.children,a),Dc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&qe&&((f=l=ht)&&(l=BS(l,i.type,i.pendingProps,mr),l!==null?(i.stateNode=l,an=i,ht=$n(l.firstChild),mr=!1,f=!0):f=!1),f||zs(i)),fi(i),f=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,fm(f,d)?l=null:E!==null&&fm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=hd(n,i,sS,null,null,a),Bl._currentValue=f),Dc(n,i),qt(n,i,l,a),i.child;case 6:return n===null&&qe&&((n=a=ht)&&(a=qS(a,i.pendingProps,mr),a!==null?(i.stateNode=a,an=i,ht=null,n=!0):n=!1),n||zs(i)),null;case 13:return gv(n,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ya(i,null,l,a):qt(n,i,l,a),i.child;case 11:return lv(n,i,i.type,i.pendingProps,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ei(i,i.type,l.value),qt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,qs(i),f=Kt(f),l=l(f),i.flags|=1,qt(n,i,l,a),i.child;case 14:return uv(n,i,i.type,i.pendingProps,a);case 15:return cv(n,i,i.type,i.pendingProps,a);case 19:return vv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=zr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return hv(n,i,a);case 24:return qs(i),l=Kt(Ct),n===null?(f=nd(),f===null&&(f=tt,d=ed(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},id(i),Ei(i,Ct,f)):((n.lanes&a)!==0&&(sd(n,i),_l(i,null,null,a),vl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ei(i,Ct,l)):(l=d.cache,Ei(i,Ct,l),l!==f.cache&&Jf(i,[Ct],a,!0))),qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $r(n){n.flags|=4}function Ev(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!C_(i)){if(i=kn.current,i!==null&&((Ue&4194048)===Ue?pr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==pr))throw gl=rd,ry;n.flags|=8192}}function Oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ho():536870912,n.lanes|=i,Xa|=i)}function Rl(n,i){if(!qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function mS(n,i,a){var l=i.pendingProps;switch(Kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fr(Ct),nr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ul(i)?$r(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zg())),ot(i),null;case 26:return a=i.memoizedState,n===null?($r(i),a!==null?(ot(i),Ev(i,a)):(ot(i),i.flags&=-16777217)):a?a!==n.memoizedState?($r(i),ot(i),Ev(i,a)):(ot(i),i.flags&=-16777217):(n.memoizedProps!==l&&$r(i),ot(i),i.flags&=-16777217),null;case 27:Ir(i),a=we.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&$r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}n=ge.current,ul(i)?Xg(i):(n=E_(f,l,a),i.stateNode=n,$r(i))}return ot(i),null;case 5:if(Ir(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&$r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(n=ge.current,ul(i))Xg(i);else{switch(f=Gc(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[At]=i,n[vt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&$r(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&$r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=we.current,ul(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[At]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||d_(n.nodeValue,a)),n||zs(i)}else n=Gc(n).createTextNode(l),n[At]=i,i.stateNode=n}return ot(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ul(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=Zg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Yr(i),i):(Yr(i),null)}if(Yr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Oc(i,i.updateQueue),ot(i),null;case 4:return nr(),n===null&&om(i.stateNode.containerInfo),ot(i),null;case 10:return Fr(i.type),ot(i),null;case 19:if(le(xt),f=i.memoizedState,f===null)return ot(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Rl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ic(n),d!==null){for(i.flags|=128,Rl(f,!1),n=d.updateQueue,i.updateQueue=n,Oc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)$g(a,n),a=a.sibling;return se(xt,xt.current&1|2),i.child}n=n.sibling}f.tail!==null&&An()>kc&&(i.flags|=128,l=!0,Rl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Ic(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Oc(i,n),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!qe)return ot(i),null}else 2*An()-f.renderingStartTime>kc&&a!==536870912&&(i.flags|=128,l=!0,Rl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=An(),i.sibling=null,n=xt.current,se(xt,l?n&1|2:n&1),i):(ot(i),null);case 22:case 23:return Yr(i),ud(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Oc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&le(Hs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fr(Ct),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pS(n,i){switch(Kf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fr(Ct),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ir(i),null;case 13:if(Yr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(xt),null;case 4:return nr(),null;case 10:return Fr(i.type),null;case 22:case 23:return Yr(i),ud(),n!==null&&le(Hs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fr(Ct),null;case 25:return null;default:return null}}function Tv(n,i){switch(Kf(i),i.tag){case 3:Fr(Ct),nr();break;case 26:case 27:case 5:Ir(i);break;case 4:nr();break;case 13:Yr(i);break;case 19:le(xt);break;case 10:Fr(i.type);break;case 22:case 23:Yr(i),ud(),n!==null&&le(Hs);break;case 24:Fr(Ct)}}function Il(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Je(i,i.return,T)}}function Ii(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var C=a,H=T;try{H()}catch(X){Je(f,C,X)}}}l=l.next}while(l!==d)}}catch(X){Je(i,i.return,X)}}function bv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{uy(i,a)}catch(l){Je(n,n.return,l)}}}function wv(n,i,a){a.props=Gs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,i,l)}}function Cl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Je(n,i,f)}}function gr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,i,f)}else a.current=null}function Sv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function Ld(n,i,a){try{var l=n.stateNode;PS(l,n.type,a,i),l[vt]=i}catch(f){Je(n,n.return,f)}}function Av(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ki(n.type)||n.tag===4}function Ud(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Av(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fc));else if(l!==4&&(l===27&&ki(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(jd(n,i,a),n=n.sibling;n!==null;)jd(n,i,a),n=n.sibling}function Mc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&ki(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Mc(n,i,a),n=n.sibling;n!==null;)Mc(n,i,a),n=n.sibling}function Rv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ft(i,l,a),i[At]=n,i[vt]=a}catch(d){Je(n,n.return,d)}}var Kr=!1,gt=!1,zd=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function gS(n,i){if(n=n.containerInfo,cm=Wc,n=Ug(n),Uf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,H=0,X=0,ee=n,G=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(T=E+f),ee!==d||l!==0&&ee.nodeType!==3||(C=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===n)break t;if(G===a&&++H===f&&(T=E),G===d&&++X===l&&(C=E),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:n,selectionRange:a},Wc=!1,kt=i;kt!==null;)if(i=kt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,kt=n;else for(;kt!==null;){switch(i=kt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Gs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Je(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)mm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,kt=n;break}kt=i.return}}function Cv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ci(n,a),l&4&&Il(5,a);break;case 1:if(Ci(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){Je(a,a.return,E)}else{var f=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(a,a.return,E)}}l&64&&bv(a),l&512&&Cl(a,a.return);break;case 3:if(Ci(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{uy(n,i)}catch(E){Je(a,a.return,E)}}break;case 27:i===null&&l&4&&Rv(a);case 26:case 5:Ci(n,a),i===null&&l&4&&Sv(a),l&512&&Cl(a,a.return);break;case 12:Ci(n,a);break;case 13:Ci(n,a),l&4&&Nv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=AS.bind(null,a),HS(n,a))));break;case 22:if(l=a.memoizedState!==null||Kr,!l){i=i!==null&&i.memoizedState!==null||gt,f=Kr;var d=gt;Kr=l,(gt=i)&&!d?xi(n,a,(a.subtreeFlags&8772)!==0):Ci(n,a),Kr=f,gt=d}break;case 30:break;default:Ci(n,a)}}function xv(n){var i=n.alternate;i!==null&&(n.alternate=null,xv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&gi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,un=!1;function Xr(n,i,a){for(a=a.child;a!==null;)Dv(n,i,a),a=a.sibling}function Dv(n,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:gt||gr(a,i),Xr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||gr(a,i);var l=st,f=un;ki(a.type)&&(st=a.stateNode,un=!1),Xr(n,i,a),Ll(a.stateNode),st=l,un=f;break;case 5:gt||gr(a,i);case 6:if(l=st,f=un,st=null,Xr(n,i,a),st=l,un=f,st!==null)if(un)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:st!==null&&(un?(n=st,v_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Gl(n)):v_(st,a.stateNode));break;case 4:l=st,f=un,st=a.stateNode.containerInfo,un=!0,Xr(n,i,a),st=l,un=f;break;case 0:case 11:case 14:case 15:gt||Ii(2,a,i),gt||Ii(4,a,i),Xr(n,i,a);break;case 1:gt||(gr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wv(a,i,l)),Xr(n,i,a);break;case 21:Xr(n,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Xr(n,i,a),gt=l;break;default:Xr(n,i,a)}}function Nv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(a){Je(i,i.return,a)}}function yS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Iv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Iv),i;default:throw Error(s(435,n.tag))}}function Bd(n,i){var a=yS(n);i.forEach(function(l){var f=RS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function vn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ki(T.type)){st=T.stateNode,un=!1;break e}break;case 5:st=T.stateNode,un=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(st===null)throw Error(s(160));Dv(d,E,f),st=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ov(i,n),i=i.sibling}var Qn=null;function Ov(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vn(i,n),_n(n),l&4&&(Ii(3,n,n.return),Il(3,n),Ii(5,n,n.return));break;case 1:vn(i,n),_n(n),l&512&&(gt||a===null||gr(a,a.return)),l&64&&Kr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Qn;if(vn(i,n),_n(n),l&512&&(gt||a===null||gr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Es]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,l,a),d[At]=n,mt(d),l=d;break e;case"link":var E=R_("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;case"meta":if(E=R_("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=n,mt(d),l=d}n.stateNode=l}else I_(f,n.type,n.stateNode);else n.stateNode=A_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?I_(f,n.type,n.stateNode):A_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,a.memoizedProps)}break;case 27:vn(i,n),_n(n),l&512&&(gt||a===null||gr(a,a.return)),a!==null&&l&4&&Ld(n,n.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,n),_n(n),l&512&&(gt||a===null||gr(a,a.return)),n.flags&32){f=n.stateNode;try{In(f,"")}catch(Y){Je(n,n.return,Y)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Ld(n,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(vn(i,n),_n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Y){Je(n,n.return,Y)}}break;case 3:if($c=null,f=Qn,Qn=Yc(i.containerInfo),vn(i,n),Qn=f,_n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(Y){Je(n,n.return,Y)}zd&&(zd=!1,Mv(n));break;case 4:l=Qn,Qn=Yc(n.stateNode.containerInfo),vn(i,n),_n(n),Qn=l;break;case 12:vn(i,n),_n(n);break;case 13:vn(i,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qd=An()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=Kr,X=gt;if(Kr=H||f,gt=X||C,vn(i,n),gt=X,Kr=H,_n(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||Kr||gt||Ys(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var ee=C.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){Je(C,C.return,Y)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(Y){Je(C,C.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bd(n,a))));break;case 19:vn(i,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 30:break;case 21:break;default:vn(i,n),_n(n)}}function _n(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Av(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ud(n);Mc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(In(E,""),a.flags&=-33);var T=Ud(n);Mc(n,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,H=Ud(n);jd(n,H,C);break;default:throw Error(s(161))}}catch(X){Je(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Mv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Mv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ci(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cv(n,i.alternate,i),i=i.sibling}function Ys(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Ys(i);break;case 1:gr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wv(i,i.return,a),Ys(i);break;case 27:Ll(i.stateNode);case 26:case 5:gr(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}n=n.sibling}}function xi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:xi(f,d,a),Il(4,d);break;case 1:if(xi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ly(C[f],T)}catch(H){Je(l,l.return,H)}}a&&E&64&&bv(d),Cl(d,d.return);break;case 27:Rv(d);case 26:case 5:xi(f,d,a),a&&l===null&&E&4&&Sv(d),Cl(d,d.return);break;case 12:xi(f,d,a);break;case 13:xi(f,d,a),a&&E&4&&Nv(f,d);break;case 22:d.memoizedState===null&&xi(f,d,a),Cl(d,d.return);break;case 30:break;default:xi(f,d,a)}i=i.sibling}}function qd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&dl(a))}function Hd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&dl(n))}function yr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vv(n,i,a,l),i=i.sibling}function Vv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yr(n,i,a,l),f&2048&&Il(9,i);break;case 1:yr(n,i,a,l);break;case 3:yr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&dl(n)));break;case 12:if(f&2048){yr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else yr(n,i,a,l);break;case 13:yr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?yr(n,i,a,l):xl(n,i):d._visibility&2?yr(n,i,a,l):(d._visibility|=2,Qa(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&qd(E,i);break;case 24:yr(n,i,a,l),f&2048&&Hd(i.alternate,i);break;default:yr(n,i,a,l)}}function Qa(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,T=a,C=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:Qa(d,E,T,C,f),Il(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Qa(d,E,T,C,f):xl(d,E):(X._visibility|=2,Qa(d,E,T,C,f)),f&&H&2048&&qd(E.alternate,E);break;case 24:Qa(d,E,T,C,f),f&&H&2048&&Hd(E.alternate,E);break;default:Qa(d,E,T,C,f)}i=i.sibling}}function xl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:xl(a,l),f&2048&&qd(l.alternate,l);break;case 24:xl(a,l),f&2048&&Hd(l.alternate,l);break;default:xl(a,l)}i=i.sibling}}var Dl=8192;function $a(n){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)kv(n),n=n.sibling}function kv(n){switch(n.tag){case 26:$a(n),n.flags&Dl&&n.memoizedState!==null&&n1(Qn,n.memoizedState,n.memoizedProps);break;case 5:$a(n);break;case 3:case 4:var i=Qn;Qn=Yc(n.stateNode.containerInfo),$a(n),Qn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Dl,Dl=16777216,$a(n),Dl=i):$a(n));break;default:$a(n)}}function Pv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Uv(l,n)}Pv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lv(n),n=n.sibling}function Lv(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&Ii(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Vc(n)):Nl(n);break;default:Nl(n)}}function Vc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Uv(l,n)}Pv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}n=n.sibling}}function Uv(n,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Ii(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=n;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(xv(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}var vS={getCacheForType:function(n){var i=Kt(Ct),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},_S=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,Oe=null,Ue=0,Qe=0,En=null,Di=!1,Ka=!1,Fd=!1,Wr=0,ft=0,Ni=0,Qs=0,Gd=0,Pn=0,Xa=0,Ol=null,cn=null,Yd=!1,Qd=0,kc=1/0,Pc=null,Oi=null,Ht=0,Mi=null,Wa=null,Za=0,$d=0,Kd=null,jv=null,Ml=0,Xd=null;function Tn(){if((Ye&2)!==0&&Ue!==0)return Ue&-Ue;if(K.T!==null){var n=ja;return n!==0?n:rm()}return mi()}function zv(){Pn===0&&(Pn=(Ue&536870912)===0||qe?qo():536870912);var n=kn.current;return n!==null&&(n.flags|=32),Pn}function bn(n,i,a){(n===tt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(Ja(n,0),Vi(n,Ue,Pn,!1)),xr(n,a),((Ye&2)===0||n!==tt)&&(n===tt&&((Ye&2)===0&&(Qs|=a),ft===4&&Vi(n,Ue,Pn,!1)),vr(n))}function Bv(n,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||_s(n,i),f=l?bS(n,i):Jd(n,i,!0),d=l;do{if(f===0){Ka&&!l&&Vi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!ES(a)){f=Jd(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;f=Ol;var C=T.current.memoizedState.isDehydrated;if(C&&(Ja(T,E).flags|=256),E=Jd(T,E,!1),E!==2){if(Fd&&!C){T.errorRecoveryDisabledLanes|=d,Qs|=d,f=4;break e}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ja(n,0),Vi(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vi(l,i,Pn,!Di);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Qd+300-An(),10<f)){if(Vi(l,i,Pn,!Di),ga(l,0,!0)!==0)break e;l.timeoutHandle=g_(qv.bind(null,l,a,cn,Pc,Yd,i,Pn,Qs,Xa,Di,d,2,-0,0),f);break e}qv(l,a,cn,Pc,Yd,i,Pn,Qs,Xa,Di,d,0,-0,0)}}break}while(!0);vr(n)}function qv(n,i,a,l,f,d,E,T,C,H,X,ee,G,Y){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:t1},kv(i),ee=r1(),ee!==null)){n.cancelPendingCommit=ee(Kv.bind(null,n,i,d,a,l,f,E,T,C,X,1,G,Y)),Vi(n,d,E,!H);return}Kv(n,i,d,a,l,f,E,T,C)}function ES(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vi(n,i,a,l){i&=~Gd,i&=~Qs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-$t(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&rr(n,a,i)}function Lc(){return(Ye&6)===0?(Vl(0),!1):!0}function Wd(){if(Oe!==null){if(Qe===0)var n=Oe.return;else n=Oe,Hr=Bs=null,md(n),Ga=null,Sl=0,n=Oe;for(;n!==null;)Tv(n.alternate,n),n=n.return;Oe=null}}function Ja(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,US(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Wd(),tt=n,Oe=a=zr(n.current,null),Ue=i,Qe=0,En=null,Di=!1,Ka=_s(n,i),Fd=!1,Xa=Pn=Gd=Qs=Ni=ft=0,cn=Ol=null,Yd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-$t(l),d=1<<f;i|=n[f],l&=~d}return Wr=i,sc(),a}function Hv(n,i){Ie=null,K.H=Sc,i===pl||i===mc?(i=ay(),Qe=3):i===ry?(i=ay(),Qe=4):Qe=i===ov?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Oe===null&&(ft=1,xc(n,Nn(i,n.current)))}function Fv(){var n=K.H;return K.H=Sc,n===null?Sc:n}function Gv(){var n=K.A;return K.A=vS,n}function Zd(){ft=4,Di||(Ue&4194048)!==Ue&&kn.current!==null||(Ka=!0),(Ni&134217727)===0&&(Qs&134217727)===0||tt===null||Vi(tt,Ue,Pn,!1)}function Jd(n,i,a){var l=Ye;Ye|=2;var f=Fv(),d=Gv();(tt!==n||Ue!==i)&&(Pc=null,Ja(n,i)),i=!1;var E=ft;e:do try{if(Qe!==0&&Oe!==null){var T=Oe,C=En;switch(Qe){case 8:Wd(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var H=Qe;if(Qe=0,En=null,eo(n,T,C,H),a&&Ka){E=0;break e}break;default:H=Qe,Qe=0,En=null,eo(n,T,C,H)}}TS(),E=ft;break}catch(X){Hv(n,X)}while(!0);return i&&n.shellSuspendCounter++,Hr=Bs=null,Ye=l,K.H=f,K.A=d,Oe===null&&(tt=null,Ue=0,sc()),E}function TS(){for(;Oe!==null;)Yv(Oe)}function bS(n,i){var a=Ye;Ye|=2;var l=Fv(),f=Gv();tt!==n||Ue!==i?(Pc=null,kc=An()+500,Ja(n,i)):Ka=_s(n,i);e:do try{if(Qe!==0&&Oe!==null){i=Oe;var d=En;t:switch(Qe){case 1:Qe=0,En=null,eo(n,i,d,1);break;case 2:case 9:if(iy(d)){Qe=0,En=null,Qv(i);break}i=function(){Qe!==2&&Qe!==9||tt!==n||(Qe=7),vr(n)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:iy(d)?(Qe=0,En=null,Qv(i)):(Qe=0,En=null,eo(n,i,d,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var T=Oe;if(!E||C_(E)){Qe=0,En=null;var C=T.sibling;if(C!==null)Oe=C;else{var H=T.return;H!==null?(Oe=H,Uc(H)):Oe=null}break t}}Qe=0,En=null,eo(n,i,d,5);break;case 6:Qe=0,En=null,eo(n,i,d,6);break;case 8:Wd(),ft=6;break e;default:throw Error(s(462))}}wS();break}catch(X){Hv(n,X)}while(!0);return Hr=Bs=null,K.H=l,K.A=f,Ye=a,Oe!==null?0:(tt=null,Ue=0,sc(),ft)}function wS(){for(;Oe!==null&&!Uo();)Yv(Oe)}function Yv(n){var i=_v(n.alternate,n,Wr);n.memoizedProps=n.pendingProps,i===null?Uc(n):Oe=i}function Qv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=dv(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=dv(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:md(i);default:Tv(a,i),i=Oe=$g(i,Wr),i=_v(a,i,Wr)}n.memoizedProps=n.pendingProps,i===null?Uc(n):Oe=i}function eo(n,i,a,l){Hr=Bs=null,md(i),Ga=null,Sl=0;var f=i.return;try{if(fS(n,f,i,a,Ue)){ft=1,xc(n,Nn(a,n.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;ft=1,xc(n,Nn(a,n.current)),Oe=null;return}i.flags&32768?(qe||l===1?n=!0:Ka||(Ue&536870912)!==0?n=!1:(Di=n=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$v(i,n)):Uc(i)}function Uc(n){var i=n;do{if((i.flags&32768)!==0){$v(i,Di);return}n=i.return;var a=mS(i.alternate,i,Wr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ft===0&&(ft=5)}function $v(n,i){do{var a=pS(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ft=6,Oe=null}function Kv(n,i,a,l,f,d,E,T,C){n.cancelPendingCommit=null;do jc();while(Ht!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Hf,Fo(n,a,d,E,T,C),n===tt&&(Oe=tt=null,Ue=0),Wa=i,Mi=n,Za=a,$d=d,Kd=f,jv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,IS(ps,function(){return e_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=oe.p,oe.p=2,E=Ye,Ye|=4;try{gS(n,i,a)}finally{Ye=E,oe.p=f,K.T=l}}Ht=1,Xv(),Wv(),Zv()}}function Xv(){if(Ht===1){Ht=0;var n=Mi,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{Ov(i,n);var d=hm,E=Ug(n.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(C!==null&&Uf(T)){var H=C.start,X=C.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),Te=T.textContent.length,ve=Math.min(C.start,Te),Ze=C.end===void 0?ve:Math.min(C.end,Te);!Y.extend&&ve>Ze&&(E=Ze,Ze=ve,ve=E);var L=Pg(T,ve),k=Pg(T,Ze);if(L&&k&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),ve>Ze?(Y.addRange(B),Y.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Y.addRange(B))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wc=!!cm,hm=cm=null}finally{Ye=f,oe.p=l,K.T=a}}n.current=i,Ht=2}}function Wv(){if(Ht===2){Ht=0;var n=Mi,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{Cv(n,i.alternate,i)}finally{Ye=f,oe.p=l,K.T=a}}Ht=3}}function Zv(){if(Ht===4||Ht===3){Ht=0,Vu();var n=Mi,i=Wa,a=Za,l=jv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Wa=Mi=null,Jv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Oi=null),ya(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=oe.p,oe.p=2,K.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{K.T=i,oe.p=f}}(Za&3)!==0&&jc(),vr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Xd?Ml++:(Ml=0,Xd=n):Ml=0,Vl(0)}}function Jv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,dl(i)))}function jc(n){return Xv(),Wv(),Zv(),e_()}function e_(){if(Ht!==5)return!1;var n=Mi,i=$d;$d=0;var a=ya(Za),l=K.T,f=oe.p;try{oe.p=32>a?32:a,K.T=null,a=Kd,Kd=null;var d=Mi,E=Za;if(Ht=0,Wa=Mi=null,Za=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,Lv(d.current),Vv(d,d.current,E,a),Ye=T,Vl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{oe.p=f,K.T=l,Jv(n,i)}}function t_(n,i,a){i=Nn(a,i),i=Cd(n.stateNode,i,2),n=wi(n,i,2),n!==null&&(xr(n,2),vr(n))}function Je(n,i,a){if(n.tag===3)t_(n,n,a);else for(;i!==null;){if(i.tag===3){t_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){n=Nn(a,n),a=sv(2),l=wi(i,a,2),l!==null&&(av(a,l,i,n),xr(l,2),vr(l));break}}i=i.return}}function em(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new _S;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Fd=!0,f.add(a),n=SS.bind(null,n,i,a),i.then(n,n))}function SS(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>An()-Qd?(Ye&2)===0&&Ja(n,0):Gd|=a,Xa===Ue&&(Xa=0)),vr(n)}function n_(n,i){i===0&&(i=Ho()),n=ka(n,i),n!==null&&(xr(n,i),vr(n))}function AS(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),n_(n,a)}function RS(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),n_(n,a)}function IS(n,i){return ds(n,i)}var zc=null,to=null,tm=!1,Bc=!1,nm=!1,$s=0;function vr(n){n!==to&&n.next===null&&(to===null?zc=to=n:to=to.next=n),Bc=!0,tm||(tm=!0,xS())}function Vl(n,i){if(!nm&&Bc){nm=!0;do for(var a=!1,l=zc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$t(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,a_(l,d))}else d=Ue,d=ga(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_s(l,d)||(a=!0,a_(l,d));l=l.next}while(a);nm=!1}}function CS(){r_()}function r_(){Bc=tm=!1;var n=0;$s!==0&&(LS()&&(n=$s),$s=0);for(var i=An(),a=null,l=zc;l!==null;){var f=l.next,d=i_(l,i);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&(to=a)):(a=l,(n!==0||(d&3)!==0)&&(Bc=!0)),l=f}Vl(n)}function i_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-$t(d),T=1<<E,C=f[E];C===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Bo(T,i)):C<=i&&(n.expiredLanes|=T),d&=~T}if(i=tt,a=Ue,a=ga(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||_s(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ms(l),ya(a)){case 2:case 8:a=ma;break;case 32:a=ps;break;case 268435456:a=pa;break;default:a=ps}return l=s_.bind(null,n),a=ds(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ms(l),n.callbackPriority=2,n.callbackNode=null,2}function s_(n,i){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(jc()&&n.callbackNode!==a)return null;var l=Ue;return l=ga(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Bv(n,l,i),i_(n,An()),n.callbackNode!=null&&n.callbackNode===a?s_.bind(null,n):null)}function a_(n,i){if(jc())return null;Bv(n,i,!0)}function xS(){jS(function(){(Ye&6)!==0?ds(jo,CS):r_()})}function rm(){return $s===0&&($s=qo()),$s}function o_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wa(""+n)}function l_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function DS(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=o_((f[vt]||null).action),E=l.submitter;E&&(i=(i=E[vt]||null)?o_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new Sa("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var C=E?l_(f,E):new FormData(f);wd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?l_(f,E):new FormData(f),wd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var im=0;im<qf.length;im++){var sm=qf[im],NS=sm.toLowerCase(),OS=sm[0].toUpperCase()+sm.slice(1);Yn(NS,"on"+OS)}Yn(Bg,"onAnimationEnd"),Yn(qg,"onAnimationIteration"),Yn(Hg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Kw,"onTransitionRun"),Yn(Xw,"onTransitionStart"),Yn(Ww,"onTransitionCancel"),Yn(Fg,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function u_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(X){Cc(X)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,H=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(X){Cc(X)}f.currentTarget=null,d=C}}}}function Me(n,i){var a=i[Yo];a===void 0&&(a=i[Yo]=new Set);var l=n+"__bubble";a.has(l)||(c_(i,n,2,!1),a.add(l))}function am(n,i,a){var l=0;i&&(l|=4),c_(a,n,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function om(n){if(!n[qc]){n[qc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||am(a,!1,n),am(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,am("selectionchange",!1,i))}}function c_(n,i,a,l){switch(V_(i)){case 2:var f=a1;break;case 8:f=o1;break;default:f=Tm}a=f.bind(null,i,a,n),f=void 0,!xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function lm(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Dr(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Fu(function(){var H=d,X=Cn(a),ee=[];e:{var G=Gg.get(n);if(G!==void 0){var Y=Sa,Te=n;switch(n){case"keypress":if(ur(a)===0)break e;case"keydown":case"keyup":Y=Da;break;case"focusin":Te="focus",Y=Ia;break;case"focusout":Te="blur",Y=Ia;break;case"beforeblur":case"afterblur":Y=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zu;break;case Bg:case qg:case Hg:Y=Ca;break;case Fg:Y=ec;break;case"scroll":case"scrollend":Y=Gu;break;case"wheel":Y=Na;break;case"copy":case"cut":case"paste":Y=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=sl;break;case"toggle":case"beforetoggle":Y=nc}var ve=(i&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),L=ve?G!==null?G+"Capture":null:G;ve=[];for(var k=H,B;k!==null;){var Z=k;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Is(k,L),Z!=null&&ve.push(Pl(k,Z,B))),Ze)break;k=k.return}0<ve.length&&(G=new Y(G,Te,null,a,X),ee.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==Vr&&(Te=a.relatedTarget||a.fromElement)&&(Dr(Te)||Te[Rn]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(Te=a.relatedTarget||a.toElement,Y=H,Te=Te?Dr(Te):null,Te!==null&&(Ze=u(Te),ve=Te.tag,Te!==Ze||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(Y=null,Te=H),Y!==Te)){if(ve=Dn,Z="onMouseLeave",L="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ve=sl,Z="onPointerLeave",L="onPointerEnter",k="pointer"),Ze=Y==null?G:sr(Y),B=Te==null?G:sr(Te),G=new ve(Z,k+"leave",Y,a,X),G.target=Ze,G.relatedTarget=B,Z=null,Dr(X)===H&&(ve=new ve(L,k+"enter",Te,a,X),ve.target=B,ve.relatedTarget=Ze,Z=ve),Ze=Z,Y&&Te)t:{for(ve=Y,L=Te,k=0,B=ve;B;B=no(B))k++;for(B=0,Z=L;Z;Z=no(Z))B++;for(;0<k-B;)ve=no(ve),k--;for(;0<B-k;)L=no(L),B--;for(;k--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=no(ve),L=no(L)}ve=null}else ve=null;Y!==null&&h_(ee,G,Y,ve,!1),Te!==null&&Ze!==null&&h_(ee,Ze,Te,ve,!0)}}e:{if(G=H?sr(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var he=Dg;else if(It(G))if(Ng)he=Yw;else{he=Fw;var Ne=Hw}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Zo(H.elementType)&&(he=Dg):he=Gw;if(he&&(he=he(n,H))){jr(ee,he,a,X);break e}Ne&&Ne(n,G,H),n==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&vi(G,"number",G.value)}switch(Ne=H?sr(H):window,n){case"focusin":(It(Ne)||Ne.contentEditable==="true")&&(Oa=Ne,jf=H,ll=null);break;case"focusout":ll=jf=Oa=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,jg(ee,a,X);break;case"selectionchange":if($w)break;case"keydown":case"keyup":jg(ee,a,X)}var de;if(fr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?Q(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(de=el()):(lr=X,_i="value"in lr?lr.value:lr.textContent,Pe=!0)),Ne=Hc(H,_e),0<Ne.length&&(_e=new rl(_e,n,null,a,X),ee.push({event:_e,listeners:Ne}),de?_e.data=de:(de=ae(a),de!==null&&(_e.data=de)))),(de=y?Rt(n,a):Le(n,a))&&(_e=Hc(H,"onBeforeInput"),0<_e.length&&(Ne=new rl("onBeforeInput","beforeinput",null,a,X),ee.push({event:Ne,listeners:_e}),Ne.data=de)),DS(ee,n,H,a,X)}u_(ee,i)})}function Pl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Hc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Is(n,a),f!=null&&l.unshift(Pl(n,f,d)),f=Is(n,i),f!=null&&l.push(Pl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function no(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function h_(n,i,a,l,f){for(var d=i._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||H===null||(C=H,f?(H=Is(a,d),H!=null&&E.unshift(Pl(a,H,C))):f||(H=Is(a,d),H!=null&&E.push(Pl(a,H,C)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var VS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function f_(n){return(typeof n=="string"?n:""+n).replace(VS,`
`).replace(kS,"")}function d_(n,i){return i=f_(i),f_(n)===i}function Fc(){}function We(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(n,""+l);break;case"className":ar(n,"class",l);break;case"tabIndex":ar(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(n,a,l);break;case"style":Wo(n,l,d);break;case"data":if(i!=="object"){ar(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=wa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),yi(n,"popover",l);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Of.get(a)||a,yi(n,a,l))}}function um(n,i,a,l,f,d){switch(a){case"style":Wo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?In(n,l):(typeof l=="number"||typeof l=="bigint")&&In(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):yi(n,a,l)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,d,E,a,null)}}f&&We(n,i,"srcSet",a.srcSet,a,null),l&&We(n,i,"src",a.src,a,null);return;case"input":Me("invalid",n);var T=d=E=f=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":C=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(n,i,l,X,a,null)}}Ss(n,d,T,C,H,E,f,!1),ba(n);return;case"select":Me("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(n,i,f,T,a,null)}i=d,a=E,n.multiple=!!l,i!=null?Mr(n,!!l,i,!1):a!=null&&Mr(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,i,E,T,a,null)}As(n,l,f,d),ba(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,i,C,l,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<kl.length;l++)Me(kl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,H,l,a,null)}return;default:if(Zo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&um(n,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,i,T,l,a,null))}function PS(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,H=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(Y)||We(n,i,Y,null,l,ee)}}for(var G in l){var Y=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":d=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":E=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&We(n,i,G,Y,l,ee)}}pn(n,E,T,C,H,X,d,f);return;case"select":Y=E=T=G=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||We(n,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&We(n,i,f,d,l,C)}i=T,a=E,l=Y,G!=null?Mr(n,!!a,G,!1):!!l!=!!a&&(i!=null?Mr(n,!!a,i,!0):Mr(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,i,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(n,i,E,f,l,d)}Ke(n,G,Y);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:We(n,i,Te,null,l,G)}for(C in l)if(G=l[C],Y=a[C],l.hasOwnProperty(C)&&G!==Y&&(G!=null||Y!=null))switch(C){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,i,C,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(n,i,ve,null,l,G);for(H in l)if(G=l[H],Y=a[H],l.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:We(n,i,H,G,l,Y)}return;default:if(Zo(i)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&um(n,i,Ze,void 0,l,G);for(X in l)G=l[X],Y=a[X],!l.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||um(n,i,X,G,l,Y);return}}for(var L in a)G=a[L],a.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&We(n,i,L,null,l,G);for(ee in l)G=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||G===Y||G==null&&Y==null||We(n,i,ee,G,l,Y)}var cm=null,hm=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function m_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function fm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function LS(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(n){return y_.resolve(null).then(n).catch(zS)}:g_;function zS(n){setTimeout(function(){throw n})}function ki(n){return n==="head"}function v_(n,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Ll(E.documentElement),a&2&&Ll(E.body),a&4)for(a=E.head,Ll(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[Es]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),Gl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Gl(i)}function mm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function BS(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Es])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function qS(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=$n(n.nextSibling),n===null))return null;return n}function pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function HS(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function $n(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var gm=null;function __(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function E_(n,i,a){switch(i=Gc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ll(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);gi(n)}var Ln=new Map,T_=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zr=oe.d;oe.d={f:FS,r:GS,D:YS,C:QS,L:$S,m:KS,X:WS,S:XS,M:ZS};function FS(){var n=Zr.f(),i=Lc();return n||i}function GS(n){var i=ir(n);i!==null&&i.tag===5&&i.type==="form"?By(i):Zr.r(n)}var ro=typeof document>"u"?null:document;function b_(n,i,a){var l=ro;if(l&&typeof i=="string"&&i){var f=_t(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),T_.has(f)||(T_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Ft(i,"link",n),mt(i),l.head.appendChild(i)))}}function YS(n){Zr.D(n),b_("dns-prefetch",n,null)}function QS(n,i){Zr.C(n,i),b_("preconnect",n,i)}function $S(n,i,a){Zr.L(n,i,a);var l=ro;if(l&&n&&i){var f='link[rel="preload"][as="'+_t(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_t(a.imageSizes)+'"]')):f+='[href="'+_t(n)+'"]';var d=f;switch(i){case"style":d=io(n);break;case"script":d=so(n)}Ln.has(d)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Ln.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ul(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),Ft(i,"link",n),mt(i),l.head.appendChild(i)))}}function KS(n,i){Zr.m(n,i);var a=ro;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(n)}if(!Ln.has(d)&&(n=_({rel:"modulepreload",href:n},i),Ln.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),Ft(l,"link",n),mt(l),a.head.appendChild(l)}}}function XS(n,i,a){Zr.S(n,i,a);var l=ro;if(l&&n){var f=nn(l).hoistableStyles,d=io(n);i=i||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Ul(d)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Ln.get(d))&&ym(n,a);var C=E=l.createElement("link");mt(C),Ft(C,"link",n),C._p=new Promise(function(H,X){C.onload=H,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function WS(n,i){Zr.X(n,i);var a=ro;if(a&&n){var l=nn(a).hoistableScripts,f=so(n),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(n=_({src:n,async:!0},i),(i=Ln.get(f))&&vm(n,i),d=a.createElement("script"),mt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ZS(n,i){Zr.M(n,i);var a=ro;if(a&&n){var l=nn(a).hoistableScripts,f=so(n),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(n=_({src:n,async:!0,type:"module"},i),(i=Ln.get(f))&&vm(n,i),d=a.createElement("script"),mt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function w_(n,i,a,l){var f=(f=we.current)?Yc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=io(a.href),a=nn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=io(a.href);var d=nn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Ul(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Ln.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(n,a),d||JS(f,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=nn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function io(n){return'href="'+_t(n)+'"'}function Ul(n){return'link[rel="stylesheet"]['+n+"]"}function S_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function JS(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),mt(i),n.head.appendChild(i))}function so(n){return'[src="'+_t(n)+'"]'}function jl(n){return"script[async]"+n}function A_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),mt(l),Ft(l,"style",f),Qc(l,a.precedence,n),i.instance=l;case"stylesheet":f=io(a.href);var d=n.querySelector(Ul(f));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=S_(a),(f=Ln.get(f))&&ym(l,f),d=(n.ownerDocument||n).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Ft(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,n),i.instance=d;case"script":return d=so(a.src),(f=n.querySelector(jl(d)))?(i.instance=f,mt(f),f):(l=a,(f=Ln.get(d))&&(l=_({},a),vm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),mt(f),Ft(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,n));return i.instance}function Qc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function vm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var $c=null;function R_(n,i,a){if($c===null){var l=new Map,f=$c=new Map;f.set(a,l)}else f=$c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Es]||d[At]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function I_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function e1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function C_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zl=null;function t1(){}function n1(n,i,a){if(zl===null)throw Error(s(475));var l=zl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=io(a.href),d=n.querySelector(Ul(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=n.ownerDocument||n,a=S_(a),(f=Ln.get(f))&&ym(a,f),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Kc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function r1(){if(zl===null)throw Error(s(475));var n=zl;return n.stylesheets&&n.count===0&&_m(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&_m(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function _m(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,i.forEach(i1,n),Xc=null,Kc.call(n))}function i1(n,i){if(!(i.state.loading&4)){var a=Xc.get(n);if(a)var l=a.get(null);else{a=new Map,Xc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Bl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function s1(n,i,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function x_(n,i,a,l,f,d,E,T,C,H,X,ee){return n=new s1(n,i,a,E,T,C,H,ee),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),n.current=d,d.stateNode=n,i=ed(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},id(d),n}function D_(n){return n?(n=Pa,n):Pa}function N_(n,i,a,l,f,d){f=D_(f),l.context===null?l.context=f:l.pendingContext=f,l=bi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wi(n,l,i),a!==null&&(bn(a,n,i),yl(a,n,i))}function O_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Em(n,i){O_(n,i),(n=n.alternate)&&O_(n,i)}function M_(n){if(n.tag===13){var i=ka(n,67108864);i!==null&&bn(i,n,67108864),Em(n,67108864)}}var Wc=!0;function a1(n,i,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=2,Tm(n,i,a,l)}finally{oe.p=d,K.T=f}}function o1(n,i,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=8,Tm(n,i,a,l)}finally{oe.p=d,K.T=f}}function Tm(n,i,a,l){if(Wc){var f=bm(l);if(f===null)lm(n,i,l,Zc,a),k_(n,l);else if(u1(f,n,i,a,l))l.stopPropagation();else if(k_(n,l),i&4&&-1<l1.indexOf(n)){for(;f!==null;){var d=ir(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Hn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-$t(E);T.entanglements[1]|=C,E&=~C}vr(d),(Ye&6)===0&&(kc=An()+500,Vl(0))}}break;case 13:T=ka(d,2),T!==null&&bn(T,d,2),Lc(),Em(d,2)}if(d=bm(l),d===null&&lm(n,i,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else lm(n,i,l,null,a)}}function bm(n){return n=Cn(n),wm(n)}var Zc=null;function wm(n){if(Zc=null,n=Dr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function V_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rf()){case jo:return 2;case ma:return 8;case ps:case If:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Sm=!1,Pi=null,Li=null,Ui=null,ql=new Map,Hl=new Map,ji=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(n,i){switch(n){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=ir(i),i!==null&&M_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function u1(n,i,a,l,f){switch(i){case"focusin":return Pi=Fl(Pi,n,i,a,l,f),!0;case"dragenter":return Li=Fl(Li,n,i,a,l,f),!0;case"mouseover":return Ui=Fl(Ui,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Fl(ql.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,Fl(Hl.get(d)||null,n,i,a,l,f)),!0}return!1}function P_(n){var i=Dr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Lu(n.priority,function(){if(a.tag===13){var l=Tn();l=di(l);var f=ka(a,l);f!==null&&bn(f,a,l),Em(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Vr=l,a.target.dispatchEvent(l),Vr=null}else return i=ir(a),i!==null&&M_(i),n.blockedOn=a,!1;i.shift()}return!0}function L_(n,i,a){Jc(n)&&a.delete(i)}function c1(){Sm=!1,Pi!==null&&Jc(Pi)&&(Pi=null),Li!==null&&Jc(Li)&&(Li=null),Ui!==null&&Jc(Ui)&&(Ui=null),ql.forEach(L_),Hl.forEach(L_)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,Sm||(Sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,c1)))}var th=null;function U_(n){th!==n&&(th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var d=ir(a);d!==null&&(n.splice(i,3),i-=3,wd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Gl(n){function i(C){return eh(C,n)}Pi!==null&&eh(Pi,n),Li!==null&&eh(Li,n),Ui!==null&&eh(Ui,n),ql.forEach(i),Hl.forEach(i);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)P_(a),a.blockedOn===null&&ji.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[vt]||null;if(typeof d=="function")E||U_(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[vt]||null)T=E.formAction;else if(wm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),U_(a)}}}function Am(n){this._internalRoot=n}nh.prototype.render=Am.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();N_(a,l,n,i,null,null)},nh.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;N_(n.current,2,null,n,null,null),Lc(),i[Rn]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=mi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ji.length&&i!==0&&i<ji[a].priority;a++);ji.splice(a,0,n),a===0&&P_(n)}};var j_=e.version;if(j_!=="19.1.0")throw Error(s(527,j_,"19.1.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var h1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ct=rh.inject(h1),Ge=rh}catch{}}return Ql.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=tv,d=nv,E=rv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=x_(n,1,!1,null,null,a,l,f,d,E,T,null),n[Rn]=i.current,om(n),new Am(i)},Ql.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=tv,E=nv,T=rv,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=x_(n,1,!0,i,a??null,l,f,d,E,T,C,H),i.context=D_(null),a=i.current,l=Tn(),l=di(l),f=bi(l),f.callback=null,wi(a,f,l),a=l,i.current.lanes=a,xr(i,a),vr(i),n[Rn]=i.current,om(n),new nh(i)},Ql.version="19.1.0",Ql}var K_;function b1(){if(K_)return Cm.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=T1(),Cm.exports}var w1=b1();const S1=qE(w1);var $l={},X_;function A1(){if(X_)return $l;X_=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=h,$l.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,D){const N=new u,F=b.length;if(F<2)return N;const q=(D==null?void 0:D.decode)||_;let $=0;do{const W=b.indexOf("=",$);if(W===-1)break;const re=b.indexOf(";",$),fe=re===-1?F:re;if(W>fe){$=b.lastIndexOf(";",W-1)+1;continue}const ie=m(b,$,W),ye=p(b,W,ie),M=b.slice(ie,ye);if(N[M]===void 0){let R=m(b,W+1,fe),I=p(b,fe,R);const V=q(b.slice(R,I));N[M]=V}$=fe+1}while($<F);return N}function m(b,D,N){do{const F=b.charCodeAt(D);if(F!==32&&F!==9)return D}while(++D<N);return N}function p(b,D,N){for(;D>N;){const F=b.charCodeAt(--D);if(F!==32&&F!==9)return D+1}return N}function g(b,D,N){const F=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const q=F(D);if(!e.test(q))throw new TypeError(`argument val is invalid: ${D}`);let $=b+"="+q;if(!N)return $;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);$+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);$+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);$+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);$+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&($+="; HttpOnly"),N.secure&&($+="; Secure"),N.partitioned&&($+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return $}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return $l}A1();var W_="popstate";function R1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=oa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Qm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:cu(u))}function s(o,u){Bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return C1(e,t,s,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I1(){return Math.random().toString(36).substring(2,10)}function Z_(r,e){return{usr:r.state,key:r.key,idx:e}}function Qm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:t,key:e&&e.key||s||I1()}}function cu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function oa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function C1(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function w(){m="POP";let q=_(),$=q==null?null:q-g;g=q,p&&p({action:m,location:F.location,delta:$})}function b(q,$){m="PUSH";let W=Qm(F.location,q,$);t&&t(W,q),g=_()+1;let re=Z_(W,g),fe=F.createHref(W);try{h.pushState(re,"",fe)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(fe)}u&&p&&p({action:m,location:F.location,delta:1})}function D(q,$){m="REPLACE";let W=Qm(F.location,q,$);t&&t(W,q),g=_();let re=Z_(W,g),fe=F.createHref(W);h.replaceState(re,"",fe),u&&p&&p({action:m,location:F.location,delta:0})}function N(q){return x1(q)}let F={get action(){return m},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(W_,w),p=q,()=>{o.removeEventListener(W_,w),p=null}},createHref(q){return e(o,q)},createURL:N,encodeLocation(q){let $=N(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:D,go(q){return h.go(q)}};return F}function x1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function HE(r,e,t="/"){return D1(r,e,t,!1)}function D1(r,e,t,s){let o=typeof e=="string"?oa(e):e,u=ii(o.pathname||"/",t);if(u==null)return null;let h=FE(r);N1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=q1(u);m=z1(h[p],g,s)}return m}function FE(r,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ri([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:U1(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of GE(u.path))o(u,h,p)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=GE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function N1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:j1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var O1=/^:[\w-]+$/,M1=3,V1=2,k1=1,P1=10,L1=-2,J_=r=>r==="*";function U1(r,e){let t=r.split("/"),s=t.length;return t.some(J_)&&(s+=L1),e&&(s+=V1),t.filter(o=>!J_(o)).reduce((o,u)=>o+(O1.test(u)?M1:u===""?k1:P1),s)}function j1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function z1(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ri([u,w.pathname]),pathnameBase:Y1(ri([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=ri([u,w.pathnameBase]))}return h}function Ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=B1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},b)=>{if(_==="*"){let N=m[b]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[b];return w&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function B1(r,e=!1,t=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function q1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ii(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function H1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?oa(r):r;return{pathname:t?t.startsWith("/")?t:F1(t,e):e,search:Q1(s),hash:$1(o)}}function F1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Om(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rp(r){let e=G1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ip(r,e,t,s=!1){let o;typeof r=="string"?o=oa(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),Om("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Om("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Om("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=H1(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ri=r=>r.join("/").replace(/\/\/+/g,"/"),Y1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Q1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function K1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var X1=["GET",...YE];new Set(X1);var Io=U.createContext(null);Io.displayName="DataRouter";var Kh=U.createContext(null);Kh.displayName="DataRouterState";var QE=U.createContext({isTransitioning:!1});QE.displayName="ViewTransition";var W1=U.createContext(new Map);W1.displayName="Fetchers";var Z1=U.createContext(null);Z1.displayName="Await";var er=U.createContext(null);er.displayName="Navigation";var Eu=U.createContext(null);Eu.displayName="Location";var tr=U.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var Cp=U.createContext(null);Cp.displayName="RouteError";function J1(r,{relative:e}={}){at(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(er),{hash:o,pathname:u,search:h}=bu(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ri([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Co(){return U.useContext(Eu)!=null}function ls(){return at(Co(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Eu).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(r){U.useContext(er).static||U.useLayoutEffect(r)}function Tu(){let{isDataRoute:r}=U.useContext(tr);return r?dA():eA()}function eA(){at(Co(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Io),{basename:e,navigator:t}=U.useContext(er),{matches:s}=U.useContext(tr),{pathname:o}=ls(),u=JSON.stringify(Rp(s)),h=U.useRef(!1);return KE(()=>{h.current=!0}),U.useCallback((p,g={})=>{if(Bn(h.current,$E),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Ip(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ri([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}U.createContext(null);function tA(){let{matches:r}=U.useContext(tr),e=r[r.length-1];return e?e.params:{}}function bu(r,{relative:e}={}){let{matches:t}=U.useContext(tr),{pathname:s}=ls(),o=JSON.stringify(Rp(t));return U.useMemo(()=>Ip(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function nA(r,e){return XE(r,e)}function XE(r,e,t,s){var $;at(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(er),{matches:u}=U.useContext(tr),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let W=_&&_.path||"";WE(p,!_||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=ls(),b;if(e){let W=typeof e=="string"?oa(e):e;at(g==="/"||(($=W.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${W.pathname}" was given in the \`location\` prop.`),b=W}else b=w;let D=b.pathname||"/",N=D;if(g!=="/"){let W=g.replace(/^\//,"").split("/");N="/"+D.replace(/^\//,"").split("/").slice(W.length).join("/")}let F=HE(r,{pathname:N});Bn(_||F!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Bn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=oA(F&&F.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:ri([g,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?g:ri([g,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,t,s);return e&&q?U.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},q):q}function rA(){let r=fA(),e=K1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var iA=U.createElement(rA,null),sA=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(tr.Provider,{value:this.props.routeContext},U.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aA({routeContext:r,match:e,children:t}){let s=U.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(tr.Provider,{value:r},t)}function oA(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:w}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let w,b=!1,D=null,N=null;t&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||iA,h&&(m<0&&_===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):m===_&&(b=!0,N=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,_+1)),q=()=>{let $;return w?$=D:b?$=N:g.route.Component?$=U.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,U.createElement(aA,{match:g,routeContext:{outlet:p,matches:F,isDataRoute:t!=null},children:$})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?U.createElement(sA,{location:t.location,revalidation:t.revalidation,component:D,error:w,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):q()},null)}function xp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(r){let e=U.useContext(Io);return at(e,xp(r)),e}function uA(r){let e=U.useContext(Kh);return at(e,xp(r)),e}function cA(r){let e=U.useContext(tr);return at(e,xp(r)),e}function Dp(r){let e=cA(r),t=e.matches[e.matches.length-1];return at(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function hA(){return Dp("useRouteId")}function fA(){var s;let r=U.useContext(Cp),e=uA("useRouteError"),t=Dp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function dA(){let{router:r}=lA("useNavigate"),e=Dp("useNavigate"),t=U.useRef(!1);return KE(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{Bn(t.current,$E),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var e0={};function WE(r,e,t){!e&&!e0[r]&&(e0[r]=!0,Bn(!1,t))}U.memo(mA);function mA({routes:r,future:e,state:t}){return XE(r,void 0,t,e)}function ZE({to:r,replace:e,state:t,relative:s}){at(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(er);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(tr),{pathname:h}=ls(),m=Tu(),p=Ip(r,Rp(u),h,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Zl(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pA({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=oa(t));let{pathname:p="/",search:g="",hash:_="",state:w=null,key:b="default"}=t,D=U.useMemo(()=>{let N=ii(p,h);return N==null?null:{location:{pathname:N,search:g,hash:_,state:w,key:b},navigationType:s}},[h,p,g,_,w,b,s]);return Bn(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:U.createElement(er.Provider,{value:m},U.createElement(Eu.Provider,{children:e,value:D}))}function gA({children:r,location:e}){return nA($m(r),e)}function $m(r,e=[]){let t=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){t.push.apply(t,$m(s.props.children,u));return}at(s.type===Zl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=$m(s.props.children,u)),t.push(h)}),t}var fh="get",dh="application/x-www-form-urlencoded";function Xh(r){return r!=null&&typeof r.tagName=="string"}function yA(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function vA(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function _A(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function EA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TA(r,e){return r.button===0&&(!e||e==="_self")&&!EA(r)}var ih=null;function bA(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var wA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!wA.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function SA(r,e){let t,s,o,u,h;if(vA(r)){let m=r.getAttribute("action");s=m?ii(m,e):null,t=r.getAttribute("method")||fh,o=Mm(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(yA(r)||_A(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ii(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Mm(r.getAttribute("formenctype"))||Mm(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!bA()){let{name:g,type:_,value:w}=r;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,w)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fh,s=null,o=dh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Np(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function AA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function IA(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await AA(u,t);return h.links?h.links():[]}return[]}));return NA(s.flat(1).filter(RA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function t0(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function CA(r,e,{includeHydrateFallback:t}={}){return xA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xA(r){return[...new Set(r)]}function DA(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function NA(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(DA(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OA=new Set([100,101,204,205]);function MA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ii(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function JE(){let r=U.useContext(Io);return Np(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function VA(){let r=U.useContext(Kh);return Np(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Op=U.createContext(void 0);Op.displayName="FrameworkContext";function eT(){let r=U.useContext(Op);return Np(r,"You must render this element inside a <HydratedRouter> element"),r}function kA(r,e){let t=U.useContext(Op),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=$=>{$.forEach(W=>{h(W.isIntersecting)})},q=new IntersectionObserver(F,{threshold:.5});return b.current&&q.observe(b.current),()=>{q.disconnect()}}},[r]),U.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let D=()=>{o(!0)},N=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Kl(m,D),onBlur:Kl(p,N),onMouseEnter:Kl(g,D),onMouseLeave:Kl(_,N),onTouchStart:Kl(w,D)}]:[!1,b,{}]}function Kl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function PA({page:r,...e}){let{router:t}=JE(),s=U.useMemo(()=>HE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?U.createElement(UA,{page:r,matches:s,...e}):null}function LA(r){let{manifest:e,routeModules:t}=eT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return IA(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function UA({page:r,matches:e,...t}){let s=ls(),{manifest:o,routeModules:u}=eT(),{basename:h}=JE(),{loaderData:m,matches:p}=VA(),g=U.useMemo(()=>t0(r,e,p,o,s,"data"),[r,e,p,o,s]),_=U.useMemo(()=>t0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,F=!1;if(e.forEach($=>{var re;let W=o.routes[$.route.id];!W||!W.hasLoader||(!g.some(fe=>fe.route.id===$.route.id)&&$.route.id in m&&((re=u[$.route.id])!=null&&re.shouldRevalidate)||W.hasClientLoader?F=!0:N.add($.route.id))}),N.size===0)return[];let q=MA(r,h);return F&&N.size>0&&q.searchParams.set("_routes",e.filter($=>N.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[h,m,s,o,g,e,r,u]),b=U.useMemo(()=>CA(_,o),[_,o]),D=LA(_);return U.createElement(U.Fragment,null,w.map(N=>U.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>U.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),D.map(({key:N,link:F})=>U.createElement("link",{key:N,...F})))}function jA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.6.3")}catch{}function zA({basename:r,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=R1({window:t,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>h(p))},[h]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(pA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wh=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:w,...b},D){let{basename:N}=U.useContext(er),F=typeof g=="string"&&nT.test(g),q,$=!1;if(typeof g=="string"&&F&&(q=g,tT))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),P=ii(V.pathname,N);V.origin===I.origin&&P!=null?g=P+V.search+V.hash:$=!0}catch{Bn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=J1(g,{relative:o}),[re,fe,ie]=kA(s,b),ye=FA(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:w});function M(I){e&&e(I),I.defaultPrevented||ye(I)}let R=U.createElement("a",{...b,...ie,href:q||W,onClick:$||u?e:M,ref:jA(D,fe),target:p,"data-discover":!F&&t==="render"?"true":void 0});return re&&!F?U.createElement(U.Fragment,null,R,U.createElement(PA,{page:W})):R});Wh.displayName="Link";var BA=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let w=bu(h,{relative:g.relative}),b=ls(),D=U.useContext(Kh),{navigator:N,basename:F}=U.useContext(er),q=D!=null&&KA(w)&&m===!0,$=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,W=b.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(W=W.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&F&&(re=ii(re,F)||re);const fe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=W===$||!o&&W.startsWith($)&&W.charAt(fe)==="/",ye=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),M={isActive:ie,isPending:ye,isTransitioning:q},R=ie?e:void 0,I;typeof s=="function"?I=s(M):I=[s,ie?"active":null,ye?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(M):u;return U.createElement(Wh,{...g,"aria-current":R,className:I,ref:_,style:V,to:h,viewTransition:m},typeof p=="function"?p(M):p)});BA.displayName="NavLink";var qA=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=fh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:w,...b},D)=>{let N=QA(),F=$A(m,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&nT.test(m),W=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let fe=re.nativeEvent.submitter,ie=(fe==null?void 0:fe.getAttribute("formmethod"))||h;N(fe||re.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:w})};return U.createElement("form",{ref:D,method:q,action:F,onSubmit:s?p:W,...b,"data-discover":!$&&r==="render"?"true":void 0})});qA.displayName="Form";function HA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(r){let e=U.useContext(Io);return at(e,HA(r)),e}function FA(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Tu(),p=ls(),g=bu(r,{relative:u});return U.useCallback(_=>{if(TA(_,e)){_.preventDefault();let w=t!==void 0?t:cu(p)===cu(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,r,o,u,h])}var GA=0,YA=()=>`__${String(++GA)}__`;function QA(){let{router:r}=rT("useSubmit"),{basename:e}=U.useContext(er),t=hA();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=SA(s,e);if(o.navigate===!1){let _=o.fetcherKey||YA();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function $A(r,{relative:e}={}){let{basename:t}=U.useContext(er),s=U.useContext(tr);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},h=ls();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ri([t,u.pathname])),cu(u)}function KA(r,e={}){let t=U.useContext(QE);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rT("useViewTransitionState"),o=bu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ii(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ii(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ih(o.pathname,h)!=null||Ih(o.pathname,u)!=null}[...OA];const XA=()=>{};var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WA=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,w=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(b=64)),s.push(t[_],t[w],t[b],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new ZA;const b=u<<2|m>>4;if(s.push(b),g!==64){const D=m<<4&240|g>>2;if(s.push(D),w!==64){const N=g<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(r){const e=iT(r);return sT.encodeByteArray(e,!0)},Ch=function(r){return JA(r).replace(/\./g,"")},aT=function(r){try{return sT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof n0>"u")return;const r=n0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&aT(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return XA()||tR()||nR()||rR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oT=r=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},iR=r=>{const e=oT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},lT=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},uT=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ch(JSON.stringify(t)),Ch(JSON.stringify(h)),""].join(".")}const ru={};function oR(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function lR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let r0=!1;function hT(r,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||ru[r]===e||ru[r]||r0)return;ru[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=oR().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{r0=!0,h()},b}function _(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=lR(s),D=t("text"),N=document.getElementById(D)||document.createElement("span"),F=t("learnmore"),q=document.getElementById(F)||document.createElement("a"),$=t("preprendIcon"),W=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),_(q,F);const fe=g();p(W,$),re.append(W,N,q,fe),document.body.appendChild(re)}u?(N.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function cR(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class hi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=vR,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?_R(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new hi(o,m,s)}}function _R(r,e){return r.replace(ER,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ER=/\{\$([^}]+)}/g;function TR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function si(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(i0(u)&&i0(h)){if(!si(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function i0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bR(r,e){const t=new wR(r,e);return t.subscribe.bind(t)}class wR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new sR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IR(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(r){return r===Ks?void 0:r}function IR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const xR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},DR=Ve.INFO,NR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},OR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=NR[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=DR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const MR=(r,e)=>e.some(t=>r instanceof t);let s0,a0;function VR(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kR(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,Km=new WeakMap,dT=new WeakMap,km=new WeakMap,Vp=new WeakMap;function PR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t($i(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&fT.set(t,r)}).catch(()=>{}),Vp.set(e,r),e}function LR(r){if(Km.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Km.set(r,e)}let Xm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||dT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function UR(r){Xm=r(Xm)}function jR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Pm(this),e,...t);return dT.set(s,e.sort?e.sort():[e]),$i(s)}:kR().includes(r)?function(...e){return r.apply(Pm(this),e),$i(fT.get(this))}:function(...e){return $i(r.apply(Pm(this),e))}}function zR(r){return typeof r=="function"?jR(r):(r instanceof IDBTransaction&&LR(r),MR(r,VR())?new Proxy(r,Xm):r)}function $i(r){if(r instanceof IDBRequest)return PR(r);if(km.has(r))return km.get(r);const e=zR(r);return e!==r&&(km.set(r,e),Vp.set(e,r)),e}const Pm=r=>Vp.get(r);function BR(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=$i(h);return s&&h.addEventListener("upgradeneeded",p=>{s($i(h.result),p.oldVersion,p.newVersion,$i(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],Lm=new Map;function o0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=HR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qR.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Lm.set(e,u),u}UR(r=>({...r,get:(e,t,s)=>o0(e,t)||r.get(e,t,s),has:(e,t)=>!!o0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function GR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",l0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Mp("@firebase/app"),YR="@firebase/app-compat",QR="@firebase/analytics-compat",$R="@firebase/analytics",KR="@firebase/app-check-compat",XR="@firebase/app-check",WR="@firebase/auth",ZR="@firebase/auth-compat",JR="@firebase/database",eI="@firebase/data-connect",tI="@firebase/database-compat",nI="@firebase/functions",rI="@firebase/functions-compat",iI="@firebase/installations",sI="@firebase/installations-compat",aI="@firebase/messaging",oI="@firebase/messaging-compat",lI="@firebase/performance",uI="@firebase/performance-compat",cI="@firebase/remote-config",hI="@firebase/remote-config-compat",fI="@firebase/storage",dI="@firebase/storage-compat",mI="@firebase/firestore",pI="@firebase/ai",gI="@firebase/firestore-compat",yI="firebase",vI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",_I={[Wm]:"fire-core",[YR]:"fire-core-compat",[$R]:"fire-analytics",[QR]:"fire-analytics-compat",[XR]:"fire-app-check",[KR]:"fire-app-check-compat",[WR]:"fire-auth",[ZR]:"fire-auth-compat",[JR]:"fire-rtdb",[eI]:"fire-data-connect",[tI]:"fire-rtdb-compat",[nI]:"fire-fn",[rI]:"fire-fn-compat",[iI]:"fire-iid",[sI]:"fire-iid-compat",[aI]:"fire-fcm",[oI]:"fire-fcm-compat",[lI]:"fire-perf",[uI]:"fire-perf-compat",[cI]:"fire-rc",[hI]:"fire-rc-compat",[fI]:"fire-gcs",[dI]:"fire-gcs-compat",[mI]:"fire-fst",[gI]:"fire-fst-compat",[pI]:"fire-vertex","fire-js":"fire-js",[yI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,EI=new Map,Jm=new Map;function u0(r,e){try{r.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function vo(r){const e=r.name;if(Jm.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,r);for(const t of xh.values())u0(t,r);for(const t of EI.values())u0(t,r);return!0}function kp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new wu("app","Firebase",TI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=vI;function mT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ki.create("bad-app-name",{appName:String(o)});if(t||(t=lT()),!t)throw Ki.create("no-options");const u=xh.get(o);if(u){if(si(t,u.options)&&si(s,u.config))return u;throw Ki.create("duplicate-app",{appName:o})}const h=new CR(o);for(const p of Jm.values())h.addComponent(p);const m=new bI(t,s,h);return xh.set(o,m),m}function pT(r=Zm){const e=xh.get(r);if(!e&&r===Zm&&lT())return mT();if(!e)throw Ki.create("no-app",{appName:r});return e}function ea(r,e,t){var s;let o=(s=_I[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(m.join(" "));return}vo(new ra(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebase-heartbeat-database",SI=1,hu="firebase-heartbeat-store";let Um=null;function gT(){return Um||(Um=BR(wI,SI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ki.create("idb-open",{originalErrorMessage:r.message})})),Um}async function AI(r){try{const t=(await gT()).transaction(hu),s=await t.objectStore(hu).get(yT(r));return await t.done,s}catch(e){if(e instanceof hi)ai.warn(e.message);else{const t=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(t.message)}}}async function c0(r,e){try{const s=(await gT()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,yT(r)),await s.done}catch(t){if(t instanceof hi)ai.warn(t.message);else{const s=Ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ai.warn(s.message)}}}function yT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1024,II=30;class CI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>II){const h=NI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ai.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h0(),{heartbeatsToSend:s,unsentEntries:o}=xI(this._heartbeatsCache.heartbeats),u=Ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ai.warn(t),""}}}function h0(){return new Date().toISOString().substring(0,10)}function xI(r,e=RI){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),f0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),f0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class DI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function f0(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function NI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r){vo(new ra("platform-logger",e=>new FR(e),"PRIVATE")),vo(new ra("heartbeat",e=>new CI(e),"PRIVATE")),ea(Wm,l0,r),ea(Wm,l0,"esm2017"),ea("fire-js","")}OI("");function Pp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MI=vT,_T=new wu("auth","Firebase",vT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Mp("@firebase/auth");function VI(r,...e){Dh.logLevel<=Ve.WARN&&Dh.warn(`Auth (${Do}): ${r}`,...e)}function mh(r,...e){Dh.logLevel<=Ve.ERROR&&Dh.error(`Auth (${Do}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,...e){throw Up(r,...e)}function Zn(r,...e){return Up(r,...e)}function Lp(r,e,t){const s=Object.assign(Object.assign({},MI()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function ta(r){return Lp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ar(r,"argument-error"),Lp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Up(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return _T.create(r,...e)}function be(r,e,...t){if(!r)throw Up(e,...t)}function ti(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function oi(r,e){r||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function PI(){return d0()==="http:"||d0()==="https:"}function d0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PI()||fR()||"connection"in navigator)?navigator.onLine:!0}function UI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return LI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r,e){oi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BI=new Au(3e4,6e4);function zp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function No(r,e,t,s,o={}){return TT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Su(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return hR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&xo(r.emulatorConfig.host)&&(g.credentials="include"),ET.fetch()(await bT(r,r.config.apiHost,t,m),g)})}async function TT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},jI),e);try{const o=new HI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Lp(r,_,g);Ar(r,_)}}catch(o){if(o instanceof hi)throw o;Ar(r,"network-request-failed",{message:String(o)})}}async function qI(r,e,t,s,o={}){const u=await No(r,e,t,s,o);return"mfaPendingCredential"in u&&Ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function bT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?jp(r.config,o):`${r.config.apiScheme}://${o}`;return zI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class HI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),BI.get())})}}function sh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Zn(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){return No(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return No(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GI(r,e=!1){const t=Ut(r),s=await t.getIdToken(e),o=Bp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(jm(o.auth_time)),issuedAtTime:iu(jm(o.iat)),expirationTime:iu(jm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jm(r){return Number(r)*1e3}function Bp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=aT(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function m0(r){const e=Bp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof hi&&YI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await fu(r,Nh(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?wT(u.providerUserInfo):[],m=KI(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new tp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function $I(r){const e=Ut(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wT(r){return r.map(e=>{var{providerId:t}=e,s=Pp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,e){const t=await TT(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await bT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&xo(r.emulatorConfig.host)&&(p.credentials="include"),ET.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WI(r,e){return No(r,"POST","/v2/accounts:revokeToken",zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=m0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await XI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new ho;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await fu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GI(this,e)}reload(){return $I(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await fu(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,_;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,N=(h=t.photoURL)!==null&&h!==void 0?h:void 0,F=(m=t.tenantId)!==null&&m!==void 0?m:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,W=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:re,emailVerified:fe,isAnonymous:ie,providerData:ye,stsTokenManager:M}=t;be(re&&M,e,"internal-error");const R=ho.fromJSON(this.name,M);be(typeof re=="string",e,"internal-error"),Bi(w,e.name),Bi(b,e.name),be(typeof fe=="boolean",e,"internal-error"),be(typeof ie=="boolean",e,"internal-error"),Bi(D,e.name),Bi(N,e.name),Bi(F,e.name),Bi(q,e.name),Bi($,e.name),Bi(W,e.name);const I=new Wn({uid:re,auth:e,email:b,emailVerified:fe,displayName:w,isAnonymous:ie,photoURL:N,phoneNumber:D,tenantId:F,stsTokenManager:R,createdAt:$,lastLoginAt:W});return ye&&Array.isArray(ye)&&(I.providerData=ye.map(V=>Object.assign({},V))),q&&(I._redirectEventId=q),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new ho;o.updateFromServerResponse(t);const u=new Wn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ho;m.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function ni(r){oi(r instanceof Function,"Expected a class definition");let e=p0.get(r);return e?(oi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,p0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ST.type="NONE";const g0=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,e,t){return`firebase:${r}:${e}:${t}`}class fo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nh(this.auth,{idToken:e}).catch(()=>{});return t?Wn._fromGetAccountInfoResponse(this.auth,t,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new fo(ni(g0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ni(g0);const h=ph(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let w;if(typeof _=="string"){const b=await Nh(e,{idToken:_}).catch(()=>{});if(!b)break;w=await Wn._fromGetAccountInfoResponse(e,b,_)}else w=Wn._fromJSON(e,_);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DT(e))return"Blackberry";if(NT(e))return"Webos";if(RT(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function AT(r=tn()){return/firefox\//i.test(r)}function RT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(r=tn()){return/crios\//i.test(r)}function CT(r=tn()){return/iemobile/i.test(r)}function xT(r=tn()){return/android/i.test(r)}function DT(r=tn()){return/blackberry/i.test(r)}function NT(r=tn()){return/webos/i.test(r)}function qp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZI(r=tn()){var e;return qp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JI(){return mR()&&document.documentMode===10}function OT(r=tn()){return qp(r)||xT(r)||NT(r)||DT(r)||/windows phone/i.test(r)||CT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r,e=[]){let t;switch(r){case"Browser":t=y0(tn());break;case"Worker":t=`${y0(tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,e={}){return No(r,"GET","/v2/passwordPolicy",zp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=6;class rC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:nC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new eC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nh(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ta(this));const t=e?Ut(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tC(this),t=new rC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await WI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Jh(r){return Ut(r)}class v0{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sC(r){Hp=r}function aC(r){return Hp.loadJS(r)}function oC(){return Hp.gapiScript}function lC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r,e){const t=kp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(si(u,e??{}))return o;Ar(o,"already-initialized")}return t.initialize({options:e})}function cC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ni);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function hC(r,e,t){const s=Jh(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=VT(e),{host:h,port:m}=fC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(si(g,s.config.emulator)&&si(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,xo(h)?(cT(`${u}//${h}${p}`),hT("Auth",!0)):dC()}function VT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fC(r){const e=VT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:_0(h)}}}function _0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e){return qI(r,"POST","/v1/accounts:signInWithIdp",zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="http://localhost";class ia extends kT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Pp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return mo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,mo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mo(e,t)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ru{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ei.credential(t,s)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ru{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ru{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Gi.credential(t,s)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),h=E0(s);return new _o({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=E0(s);return new _o({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function E0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends hi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Mh(e,t,s,o)}}function PT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function pC(r,e,t=!1){const s=await fu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return _o._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,e,t=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(ta(s));const o="reauthenticate";try{const u=await fu(r,PT(s,o,e,r),t);be(u.idToken,s,"internal-error");const h=Bp(u.idToken);be(h,s,"internal-error");const{sub:m}=h;return be(r.uid===m,s,"user-mismatch"),_o._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ar(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,e,t=!1){if(Xn(r.app))return Promise.reject(ta(r));const s="signIn",o=await PT(r,s,e),u=await _o._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function vC(r,e,t,s){return Ut(r).onIdTokenChanged(e,t,s)}function _C(r,e,t){return Ut(r).beforeAuthStateChanged(e,t)}function EC(r,e,t,s){return Ut(r).onAuthStateChanged(e,t,s)}function TC(r){return Ut(r).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=1e3,wC=10;class UT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);JI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const SC=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jT.type="SESSION";const zT=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await AC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function IC(r){Er().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function CC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function DC(){return BT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",NC=1,kh="firebaseLocalStorage",HT="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function OC(){const r=indexedDB.deleteDatabase(qT);return new Iu(r).toPromise()}function np(){const r=indexedDB.open(qT,NC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:HT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await OC(),e(await np()))})})}async function T0(r,e,t){const s=tf(r,!0).put({[HT]:e,value:t});return new Iu(s).toPromise()}async function MC(r,e){const t=tf(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function b0(r,e){const t=tf(r,!0).delete(e);return new Iu(t).toPromise()}const VC=800,kC=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>kC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(DC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CC(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await T0(e,Vh,"1"),await b0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>T0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>MC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>b0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const PC=FT;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,e){return e?ni(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends kT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LC(r){return yC(r.auth,new Yp(r),r.bypassAuthState)}function UC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),gC(t,new Yp(r),r.bypassAuthState)}async function jC(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),pC(t,new Yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return UC;default:Ar(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Au(2e3,1e4);async function BC(r,e,t){if(Xn(r.app))return Promise.reject(Zn(r,"operation-not-supported-in-this-environment"));const s=Jh(r);kI(r,e,Fp);const o=GT(s,t);return new Ws(s,"signInViaPopup",e,o).executeNotNull()}class Ws extends YT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zC.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="pendingRedirect",gh=new Map;class HC extends YT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await FC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FC(r,e){const t=QC(e),s=YC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function GC(r,e){gh.set(r._key(),e)}function YC(r){return ni(r._redirectPersistence)}function QC(r){return ph(qC,r.config.apiKey,r.name)}async function $C(r,e,t=!1){if(Xn(r.app))return Promise.reject(ta(r));const s=Jh(r),o=GT(s,e),h=await new HC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=10*60*1e3;class XC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!QT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KC&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(e))}saveEventToCache(e){this.cachedEventUids.add(w0(e)),this.lastProcessedEventTime=Date.now()}}function w0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function QT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(r,e={}){return No(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2=/^https?/;async function t2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ZC(r);for(const t of e)try{if(n2(t))return}catch{}Ar(r,"unauthorized-domain")}function n2(r){const e=ep(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!e2.test(t))return!1;if(JC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Au(3e4,6e4);function S0(){const r=Er().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function i2(r){return new Promise((e,t)=>{var s,o,u;function h(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),t(Zn(r,"network-request-failed"))},timeout:r2.get()})}if(!((o=(s=Er().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Er().gapi)===null||u===void 0)&&u.load)h();else{const m=lC("iframefcb");return Er()[m]=()=>{gapi.load?h():t(Zn(r,"network-request-failed"))},aC(`${oC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function s2(r){return yh=yh||i2(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Au(5e3,15e3),o2="__/auth/iframe",l2="emulator/auth/iframe",u2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h2(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?jp(e,l2):`https://${r.config.authDomain}/${o2}`,s={apiKey:e.apiKey,appName:r.name,v:Do},o=c2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Su(s).slice(1)}`}async function f2(r){const e=await s2(r),t=Er().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:h2(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Zn(r,"network-request-failed"),m=Er().setTimeout(()=>{u(h)},a2.get());function p(){Er().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m2=500,p2=600,g2="_blank",y2="http://localhost";class A0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(r,e,t,s=m2,o=p2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},d2),{width:s.toString(),height:o.toString(),top:u,left:h}),g=tn().toLowerCase();t&&(m=IT(g)?g2:t),AT(g)&&(e=e||y2,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[D,N])=>`${b}${D}=${N},`,"");if(ZI(g)&&m!=="_self")return _2(e||"",m),new A0(null);const w=window.open(e||"",m,_);be(w,r,"popup-blocked");try{w.focus()}catch{}return new A0(w)}function _2(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="__/auth/handler",T2="emulator/auth/handler",b2=encodeURIComponent("fac");async function R0(r,e,t,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Do,eventId:o};if(e instanceof Fp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",TR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))h[_]=w}if(e instanceof Ru){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${b2}=${encodeURIComponent(p)}`:"";return`${w2(r)}?${Su(m).slice(1)}${g}`}function w2({config:r}){return r.emulator?jp(r,T2):`https://${r.authDomain}/${E2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=$C,this._overrideRedirectResult=GC}async _openPopup(e,t,s,o){var u;oi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await R0(e,t,s,ep(),o);return v2(e,h,Gp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await R0(e,t,s,ep(),o);return IC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await f2(e),s=new XC(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[zm];h!==void 0&&t(!!h),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OT()||RT()||qp()}}const A2=S2;var I0="@firebase/auth",C0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C2(r){vo(new ra("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(r)},g=new iC(s,o,u,p);return cC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),vo(new ra("auth-internal",e=>{const t=Jh(e.getProvider("auth").getImmediate());return(s=>new R2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(I0,C0,I2(r)),ea(I0,C0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=5*60,D2=uT("authIdTokenMaxAge")||x2;let x0=null;const N2=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>D2)return;const o=t==null?void 0:t.token;x0!==o&&(x0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function O2(r=pT()){const e=kp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=uC(r,{popupRedirectResolver:A2,persistence:[PC,SC,zT]}),s=uT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=N2(u.toString());_C(t,h,()=>h(t.currentUser)),vC(t,m=>h(m))}}const o=oT("auth");return o&&hC(t,`http://${o}`),t}function M2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}sC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Zn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",M2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C2("Browser");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,$T;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(V,P,j){for(var x=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)x[jt-2]=arguments[jt];return R.prototype[P].apply(V,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)V[P]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(P=0;16>P;++P)V[P]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],P=M.g[2];var j=M.g[3],x=R+(j^I&(P^j))+V[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=j+(P^R&(I^P))+V[1]+3905402710&4294967295,j=R+(x<<12&4294967295|x>>>20),x=P+(I^j&(R^I))+V[2]+606105819&4294967295,P=j+(x<<17&4294967295|x>>>15),x=I+(R^P&(j^R))+V[3]+3250441966&4294967295,I=P+(x<<22&4294967295|x>>>10),x=R+(j^I&(P^j))+V[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(P^R&(I^P))+V[5]+1200080426&4294967295,j=R+(x<<12&4294967295|x>>>20),x=P+(I^j&(R^I))+V[6]+2821735955&4294967295,P=j+(x<<17&4294967295|x>>>15),x=I+(R^P&(j^R))+V[7]+4249261313&4294967295,I=P+(x<<22&4294967295|x>>>10),x=R+(j^I&(P^j))+V[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(P^R&(I^P))+V[9]+2336552879&4294967295,j=R+(x<<12&4294967295|x>>>20),x=P+(I^j&(R^I))+V[10]+4294925233&4294967295,P=j+(x<<17&4294967295|x>>>15),x=I+(R^P&(j^R))+V[11]+2304563134&4294967295,I=P+(x<<22&4294967295|x>>>10),x=R+(j^I&(P^j))+V[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=j+(P^R&(I^P))+V[13]+4254626195&4294967295,j=R+(x<<12&4294967295|x>>>20),x=P+(I^j&(R^I))+V[14]+2792965006&4294967295,P=j+(x<<17&4294967295|x>>>15),x=I+(R^P&(j^R))+V[15]+1236535329&4294967295,I=P+(x<<22&4294967295|x>>>10),x=R+(P^j&(I^P))+V[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^P&(R^I))+V[6]+3225465664&4294967295,j=R+(x<<9&4294967295|x>>>23),x=P+(R^I&(j^R))+V[11]+643717713&4294967295,P=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(P^j))+V[0]+3921069994&4294967295,I=P+(x<<20&4294967295|x>>>12),x=R+(P^j&(I^P))+V[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^P&(R^I))+V[10]+38016083&4294967295,j=R+(x<<9&4294967295|x>>>23),x=P+(R^I&(j^R))+V[15]+3634488961&4294967295,P=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(P^j))+V[4]+3889429448&4294967295,I=P+(x<<20&4294967295|x>>>12),x=R+(P^j&(I^P))+V[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^P&(R^I))+V[14]+3275163606&4294967295,j=R+(x<<9&4294967295|x>>>23),x=P+(R^I&(j^R))+V[3]+4107603335&4294967295,P=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(P^j))+V[8]+1163531501&4294967295,I=P+(x<<20&4294967295|x>>>12),x=R+(P^j&(I^P))+V[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=j+(I^P&(R^I))+V[2]+4243563512&4294967295,j=R+(x<<9&4294967295|x>>>23),x=P+(R^I&(j^R))+V[7]+1735328473&4294967295,P=j+(x<<14&4294967295|x>>>18),x=I+(j^R&(P^j))+V[12]+2368359562&4294967295,I=P+(x<<20&4294967295|x>>>12),x=R+(I^P^j)+V[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^P)+V[8]+2272392833&4294967295,j=R+(x<<11&4294967295|x>>>21),x=P+(j^R^I)+V[11]+1839030562&4294967295,P=j+(x<<16&4294967295|x>>>16),x=I+(P^j^R)+V[14]+4259657740&4294967295,I=P+(x<<23&4294967295|x>>>9),x=R+(I^P^j)+V[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^P)+V[4]+1272893353&4294967295,j=R+(x<<11&4294967295|x>>>21),x=P+(j^R^I)+V[7]+4139469664&4294967295,P=j+(x<<16&4294967295|x>>>16),x=I+(P^j^R)+V[10]+3200236656&4294967295,I=P+(x<<23&4294967295|x>>>9),x=R+(I^P^j)+V[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^P)+V[0]+3936430074&4294967295,j=R+(x<<11&4294967295|x>>>21),x=P+(j^R^I)+V[3]+3572445317&4294967295,P=j+(x<<16&4294967295|x>>>16),x=I+(P^j^R)+V[6]+76029189&4294967295,I=P+(x<<23&4294967295|x>>>9),x=R+(I^P^j)+V[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=j+(R^I^P)+V[12]+3873151461&4294967295,j=R+(x<<11&4294967295|x>>>21),x=P+(j^R^I)+V[15]+530742520&4294967295,P=j+(x<<16&4294967295|x>>>16),x=I+(P^j^R)+V[2]+3299628645&4294967295,I=P+(x<<23&4294967295|x>>>9),x=R+(P^(I|~j))+V[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~P))+V[7]+1126891415&4294967295,j=R+(x<<10&4294967295|x>>>22),x=P+(R^(j|~I))+V[14]+2878612391&4294967295,P=j+(x<<15&4294967295|x>>>17),x=I+(j^(P|~R))+V[5]+4237533241&4294967295,I=P+(x<<21&4294967295|x>>>11),x=R+(P^(I|~j))+V[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~P))+V[3]+2399980690&4294967295,j=R+(x<<10&4294967295|x>>>22),x=P+(R^(j|~I))+V[10]+4293915773&4294967295,P=j+(x<<15&4294967295|x>>>17),x=I+(j^(P|~R))+V[1]+2240044497&4294967295,I=P+(x<<21&4294967295|x>>>11),x=R+(P^(I|~j))+V[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~P))+V[15]+4264355552&4294967295,j=R+(x<<10&4294967295|x>>>22),x=P+(R^(j|~I))+V[6]+2734768916&4294967295,P=j+(x<<15&4294967295|x>>>17),x=I+(j^(P|~R))+V[13]+1309151649&4294967295,I=P+(x<<21&4294967295|x>>>11),x=R+(P^(I|~j))+V[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=j+(I^(R|~P))+V[11]+3174756917&4294967295,j=R+(x<<10&4294967295|x>>>22),x=P+(R^(j|~I))+V[2]+718787259&4294967295,P=j+(x<<15&4294967295|x>>>17),x=I+(j^(P|~R))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,V=this.B,P=this.h,j=0;j<R;){if(P==0)for(;j<=I;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(V[P++]=M.charCodeAt(j++),P==this.blockSize){o(this,V),P=0;break}}else for(;j<R;)if(V[P++]=M[j++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)M[I++]=this.g[R]>>>V&255;return M};function u(M,R){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function h(M,R){this.h=R;for(var I=[],V=!0,P=M.length-1;0<=P;P--){var j=M[P]|0;V&&j==R||(I[P]=j,V=!1)}this.g=I}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return q(g(-M));for(var R=[],I=1,V=0;M>=I;V++)R[V]=M/I|0,I*=4294967296;return new h(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return q(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=w,P=0;P<M.length;P+=8){var j=Math.min(8,M.length-P),x=parseInt(M.substring(P,P+j),R);8>j?(j=g(Math.pow(R,j)),V=V.j(j).add(g(x))):(V=V.j(I),V=V.add(g(x)))}return V}var w=p(0),b=p(1),D=p(16777216);r=h.prototype,r.m=function(){if(F(this))return-q(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);M+=(0<=V?V:4294967296+V)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(F(this))return"-"+q(this).toString(M);for(var R=g(Math.pow(M,6)),I=this,V="";;){var P=fe(I,R).g;I=$(I,P.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=P,N(I))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function F(M){return M.h==-1}r.l=function(M){return M=$(this,M),F(M)?-1:N(M)?0:1};function q(M){for(var R=M.g.length,I=[],V=0;V<R;V++)I[V]=~M.g[V];return new h(I,~M.h).add(b)}r.abs=function(){return F(this)?q(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0,P=0;P<=R;P++){var j=V+(this.i(P)&65535)+(M.i(P)&65535),x=(j>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);V=x>>>16,j&=65535,x&=65535,I[P]=x<<16|j}return new h(I,I[I.length-1]&-2147483648?-1:0)};function $(M,R){return M.add(q(R))}r.j=function(M){if(N(this)||N(M))return w;if(F(this))return F(M)?q(this).j(q(M)):q(q(this).j(M));if(F(M))return q(this.j(q(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<M.g.length;P++){var j=this.i(V)>>>16,x=this.i(V)&65535,jt=M.i(P)>>>16,ut=M.i(P)&65535;I[2*V+2*P]+=x*ut,W(I,2*V+2*P),I[2*V+2*P+1]+=j*ut,W(I,2*V+2*P+1),I[2*V+2*P+1]+=x*jt,W(I,2*V+2*P+1),I[2*V+2*P+2]+=j*jt,W(I,2*V+2*P+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new h(I,0)};function W(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function re(M,R){this.g=M,this.h=R}function fe(M,R){if(N(R))throw Error("division by zero");if(N(M))return new re(w,w);if(F(M))return R=fe(q(M),R),new re(q(R.g),q(R.h));if(F(R))return R=fe(M,q(R)),new re(q(R.g),R.h);if(30<M.g.length){if(F(M)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,V=R;0>=V.l(M);)I=ie(I),V=ie(V);var P=ye(I,1),j=ye(V,1);for(V=ye(V,2),I=ye(I,2);!N(V);){var x=j.add(V);0>=x.l(M)&&(P=P.add(I),j=x),V=ye(V,1),I=ye(I,1)}return R=$(M,P.j(R)),new re(P,R)}for(P=w;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=g(I),x=j.j(R);F(x)||0<x.l(M);)I-=V,j=g(I),x=j.j(R);N(j)&&(j=b),P=P.add(j),M=$(M,x)}return new re(P,M)}r.A=function(M){return fe(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&M.i(V);return new h(I,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|M.i(V);return new h(I,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^M.i(V);return new h(I,this.h^M.h)};function ie(M){for(var R=M.g.length+1,I=[],V=0;V<R;V++)I[V]=M.i(V)<<1|M.i(V-1)>>>31;return new h(I,M.h)}function ye(M,R){var I=R>>5;R%=32;for(var V=M.g.length-I,P=[],j=0;j<V;j++)P[j]=0<R?M.i(j+I)>>>R|M.i(j+I+1)<<32-R:M.i(j+I);return new h(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$T=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Xi=h}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KT,Jl,XT,vh,rp,WT,ZT,JT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,z={next:function(){if(!S&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,b.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,z,Q){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[z].apply(S,ae)}}function F(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const z=c.length||0,Q=S.length||0;c.length=z+Q;for(let ae=0;ae<Q;ae++)c[z+ae]=S[ae]}else c.push(S)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var ie=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ye(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let Q=0;Q<I.length;Q++)v=I[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class jt{constructor(){this.h=this.g=null}add(y,v){const S=ut.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ut=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Be=new jt,O=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){j(v)}var y=ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{fe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}N(De,se);var we={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),et=0;function nr(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++et,this.da=this.fa=!1}function fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ir(c){this.src=c,this.g={},this.h=0}Ir.prototype.add=function(c,y,v,S,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=ds(c,y,S,z);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new nr(y,this.src,Q,!!S,z),y.fa=v,c.push(y)),y};function fs(c,y){var v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(S,z,1),Q&&(fi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ds(c,y,v,S){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return z}return-1}var ms="closure_lm_"+(1e6*Math.random()|0),Uo={};function Vu(c,y,v,S,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Vu(c,y[Q],v,S,z);return null}return v=ku(v),c&&c[Nt]?c.K(y,v,g(S)?!!S.capture:!1,z):An(c,y,v,!1,S,z)}function An(c,y,v,S,z,Q){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Pe=pa(c);if(Pe||(c[ms]=Pe=new Ir(c)),v=Pe.add(y,v,S,ae,Q),v.proxy)return v;if(S=Rf(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ge||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(ps(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rf(){function c(v){return y.call(c.src,c.listener,v)}const y=If;return c}function jo(c,y,v,S,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)jo(c,y[Q],v,S,z);else S=g(S)?!!S.capture:!!S,v=ku(v),c&&c[Nt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=ds(Q,v,S,z),-1<v&&(fi(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ds(y,v,S,z)),(v=-1<c?y[c]:null)&&ma(v))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])fs(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ps(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=pa(y))?(fs(v,c),v.h==0&&(v.src=null,y[ms]=null)):fi(c)}}}function ps(c){return c in Uo?Uo[c]:Uo[c]="on"+c}function If(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&ma(c),c=v.call(S,y)}return c}function pa(c){return c=c[ms],c instanceof Ir?c:null}var zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[zo]||(c[zo]=function(y){return c.handleEvent(y)}),c[zo])}function ct(){le.call(this),this.i=new Ir(this),this.M=this,this.F=null}N(ct,le),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(c,y,v,S){jo(this,c,y,v,S)};function Ge(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var z=y;y=new se(S,c),V(y,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ae=y.g=v[Q];z=mn(ae,S,!0,y)&&z}if(ae=y.g=c,z=mn(ae,S,!0,y)&&z,z=mn(ae,S,!1,y)&&z,v)for(Q=0;Q<v.length;Q++)ae=y.g=v[Q],z=mn(ae,S,!1,y)&&z}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)fi(v[S]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ct.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function mn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==v){var Pe=ae.listener,Rt=ae.ha||ae.src;ae.fa&&fs(c.i,ae),z=Pe.call(Rt,S)!==!1&&z}}return z&&!S.defaultPrevented}function $t(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Pu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Cf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){le.call(this),this.h=c,this.g={}}N(gs,le);var ys=[];function vs(c){ye(c.g,function(y,v){this.g.hasOwnProperty(v)&&ma(y)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),vs(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,ga=m.JSON.parse,_s=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Bo(){}Bo.prototype.h=null;function qo(c){return c.h||(c.h=c.i())}function Ho(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){se.call(this,"d")}N(xr,se);function Fo(){se.call(this,"c")}N(Fo,se);var rr={},Go=null;function di(){return Go=Go||new ct}rr.La="serverreachability";function ya(c){se.call(this,rr.La,c)}N(ya,se);function mi(c){const y=di();Ge(y,new ya(y))}rr.STAT_EVENT="statevent";function Lu(c,y){se.call(this,rr.STAT_EVENT,c),this.stat=y}N(Lu,se);function it(c){const y=di();Ge(y,new Lu(y,c))}rr.Ma="timingevent";function At(c,y){se.call(this,rr.Ma,c),this.size=y}N(At,se);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Yo(c,y,v,S,z,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Pe=Q.split("&"),Rt=0;Rt<Pe.length;Rt++){var Le=Pe[Rt].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var It=Mt.split("_");ae=2<=It.length&&It[1]=="type"?ae+(Mt+"="+Le+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function xf(c,y,v,S,z,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Q+" "+ae})}function pi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Es(c,v)+(S?" "+S:"")})}function Uu(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function Es(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Hn(v)}catch{return y}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function sr(){}N(sr,Bo),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ir=new sr;function nn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Qo={},va={};function Fn(c,y,v){c.L=1,c.v=As(pn(y)),c.m=v,c.P=!0,Nr(c,null)}function Nr(c,y){c.F=Date.now(),Ts(c),c.A=pn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Jo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new mt,c.g=ec(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Cf(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ys[0]=z.toString()),z=ys);for(var Q=0;Q<z.length;Q++){var ae=Vu(v,z[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mi(),Yo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const It=Dn(this.g);var y=this.g.Ba();const jr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||It!=4||y==7||(y==8||0>=jr?mi(3):mi(2)),yi(this);var v=this.g.Z();this.X=v;t:if(ju(this)){var S=Yu(this.g);c="";var z=S.length,Q=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ar(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,xf(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Pe)){var Le=Pe;break t}}Le=null}if(v=Le)pi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bs(this,v);else{this.o=!1,this.s=3,it(12),zt(this),ar(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ae.length;)if(Bt=zu(this,ae),Bt==va){It==4&&(this.s=4,it(14),v=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Qo){this.s=4,it(15),pi(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else pi(this.i,this.l,Bt,null),bs(this,Bt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ae.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)pi(this.i,this.l,ae,"[Invalid Chunked Response]"),zt(this),ar(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ms(Mt),Mt.M=!0,it(11))}}else pi(this.i,this.l,ae,null),bs(this,ae);It==4&&zt(this),this.o&&!this.J&&(It==4?Wu(this.j,this):(this.o=!1,Ts(this)))}else Vf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),zt(this),ar(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?va:(v=Number(y.substring(v,S)),isNaN(v)?Qo:(S+=1,S+v>y.length?va:(y=y.slice(S,S+v),c.C=S+v,y)))}nn.prototype.cancel=function(){this.J=!0,zt(this)};function Ts(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(b(c.ba,c),y)}function yi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Uu(this.i,this.A),this.L!=2&&(mi(),it(17)),zt(this),this.s=2,ar(this)):Bu(this,this.S-c)};function ar(c){c.j.G==0||c.J||Wu(c.j,c)}function zt(c){yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,vs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function bs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||$o(v.h,c))){if(!c.K&&$o(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Da(v),Ca(v);else break e;il(v),it(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(b(v.Za,v),6e3));if(1>=Ea(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ur(v,11)}else if((c.K||v.g==c)&&Da(v),!W(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Mt=Le[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const It=Le[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const jr=Le[5];jr!=null&&typeof jr=="number"&&0<jr&&(S=1.5*jr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const dr=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Q=S.h;Q.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ta(Q,Q.h),Q.h=null))}if(S.D){const al=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(S.ya=al,Ke(S.I,S.D,al))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),ae.K){rn(S.h,ae);var Pe=ae,Rt=S.L;Rt&&(Pe.I=Rt),Pe.B&&(yi(Pe),Ts(Pe)),S.g=ae}else Ku(S);0<v.i.length&&xa(v)}else Le[0]!="stop"&&Le[0]!="close"||Ur(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ur(v,7):nl(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}mi(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function Or(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _a(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ea(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ta(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Or.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return F(c.i)}function Df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function ba(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Xo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ba(c),S=Df(c),z=S.length,Q=0;Q<z;Q++)y.call(void 0,S[Q],v&&v[Q],c)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),z=null;if(0<=S){var Q=c[v].substring(0,S);z=c[v].substring(S+1)}else Q=c[v];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,Ss(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,v=new Vr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Mr(this,v),this.m=c.m}else c&&(y=String(c).match(ws))?(this.h=!1,Ss(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),vi(this,y[4]),this.l=In(y[5]||"",!0),Mr(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Rs(y,Wo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rs(y,Wo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?Of:Zo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,wa)),c.join("")};function pn(c){return new _t(c)}function Ss(c,y,v){c.j=v?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mr(c,y,v){y instanceof Vr?(c.i=y,Fu(c.i,c.h)):(v||(y=Rs(y,Mf)),c.i=new Vr(y,c.h))}function Ke(c,y,v){c.i.set(y,v)}function As(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Zo=/[#\?:]/g,Of=/[#\?]/g,Mf=/[#\?@]/g,wa=/#/g;function Vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Vr.prototype,r.add=function(c,y){Cn(this),this.i=null,c=or(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function kr(c,y){Cn(c),y=or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Pr(c,y){return Cn(c),y=or(c,y),c.g.has(y)}r.forEach=function(c,y){Cn(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)},r.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const z=c[S];for(let Q=0;Q<z.length;Q++)v.push(y[S])}return v},r.V=function(c){Cn(this);let y=[];if(typeof c=="string")Pr(this,c)&&(y=y.concat(this.g.get(or(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Cn(this),this.i=null,c=or(this,c),Pr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Jo(c,y,v){kr(c,y),0<v.length&&(c.i=null,c.g.set(or(c,y),F(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var z=Q;ae[S]!==""&&(z+="="+encodeURIComponent(String(ae[S]))),c.push(z)}}return this.i=c.join("&")};function or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(kr(this,S),Jo(this,z,v))},c)),c.j=y}function Is(c,y){const v=new Rn;if(m.Image){const S=new Image;S.onload=D(xn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=D(xn,v,"TestLoadImage: error",!1,y,S),S.onabort=D(xn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(xn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Gn(c,y){const v=new Rn,S=new AbortController,z=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Cs(){this.g=new _s}function lr(c,y,v){const S=v||"";try{Xo(c,function(z,Q){let ae=z;g(z)&&(ae=Hn(z)),y.push(S+Q+"="+encodeURIComponent(ae))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}N(_i,Bo),_i.prototype.g=function(){return new Lr(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function Lr(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Lr,ct),r=Lr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ur(this):cr(this),this.readyState==3&&el(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},r.Qa=function(c){this.g&&(this.response=c,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let y="";return ye(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=tl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,y,v))}function He(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,ct);var Sa=/^https?$/i,xs=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?qo(this.o):qo(ir),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Gu(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xs,y,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Gu(this,Q)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),hr(c)}function Aa(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),hr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},r.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)$t(c.Ea,0,c);else if(Ge(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ae===0){var z=String(c.D).match(ws)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!Sa.test(z?z.toLowerCase():"")}v=S}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Q=2<Dn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Aa(c)}}finally{hr(c)}}}}function hr(c,y){if(c.g){Ds(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ds(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ga(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vf(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(W(c[S]))continue;var v=P(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[z]||[];y[z]=Q,Q.push(v)}M(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,c),this.cb=Ns("retryDelaySeedMs",1e4,c),this.Wa=Ns("forwardChannelMaxRetries",2,c),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Or(c&&c.concurrentRequestLimit),this.Da=new Cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){it(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),xa(this)};function nl(c){if(Qu(c),c.G==3){var y=c.U++,v=pn(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Os(c,v),y=new nn(c,c.j,y),y.L=2,y.v=As(pn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ts(y)}Zu(c)}function Ca(c){c.g&&(Ms(c),c.g.cancel(),c.g=null)}function Qu(c){Ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xa(c){if(!_a(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),me||(oe(),me=!0),Be.add(y,c),c.B=0}}function kf(c,y){return Ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(b(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new nn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=$u(this,z,y),v=pn(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),Os(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(tl(Q)))+"&"+y:this.m&&Ot(v,this.m,Q)),Ta(this.h,z),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",y),Ke(v,"SID","null"),z.T=!0,Fn(z,v,null)):Fn(z,v,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||_a(this.h)||rl(this))};function rl(c,y){var v;y?v=y.l:v=c.U++;const S=pn(c.I);Ke(S,"SID",c.K),Ke(S,"RID",v),Ke(S,"AID",c.T),Os(c,S),c.m&&c.o&&Ot(S,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ta(c.h,v),Fn(v,S,y)}function Os(c,y){c.H&&ye(c.H,function(v,S){Ke(y,S,v)}),c.l&&Xo({},function(v,S){Ke(y,S,v)})}function $u(c,y,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const ae=["count="+v];Q==-1?0<v?(Q=z[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Pe=!0;for(let Rt=0;Rt<v;Rt++){let Le=z[Rt].g;const Mt=z[Rt].map;if(Le-=Q,0>Le)Q=Math.max(0,z[Rt].g-100),Pe=!1;else try{lr(Mt,ae,"req"+Le+"_")}catch{S&&S(Mt)}}if(Pe){S=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),me||(oe(),me=!0),Be.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(b(c.Fa,c),sl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ca(this),Xu(this))};function Ms(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),Os(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=As(pn(y)),v.m=null,v.P=!0,Nr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),il(this),it(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){Da(c),Ms(c),c.g=null;var S=2}else if($o(c.h,y))v=y.D,rn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=di(),Ge(S,new At(S,v)),xa(c)}else Ku(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&kf(c,y)||S==2&&il(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function sl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ur(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),S=c.Xa;const z=!S;S=new _t(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ss(S,"https"),As(S),z?Is(S.toString(),v):Gn(S.toString(),v)}else it(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,v){var S=v instanceof _t?pn(v):new _t(v);if(S.g!="")y&&(S.g=y+"."+S.g),vi(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new _t(null);S&&Ss(Q,S),y&&(Q.g=y),z&&vi(Q,z),v&&(Q.l=v),S=Q}return v=c.D,y=c.ya,v&&y&&Ke(S,v,y),Ke(S,"VER",c.la),Os(c,S),S}function ec(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new _i({eb:v})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Na(){}Na.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ct.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fr(this)}N(sn,ct),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){nl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hn(c),c=v);y.i.push(new qu(y.Ya++,c)),y.G==3&&xa(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,sn.aa.N.call(this)};function nc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(nc,xr);function rc(){Fo.call(this),this.status=1}N(rc,Fo);function fr(c){this.g=c}N(fr,tc),fr.prototype.ua=function(){Ge(this.g,"a")},fr.prototype.ta=function(c){Ge(this.g,new nc(c))},fr.prototype.sa=function(c){Ge(this.g,new rc)},fr.prototype.ra=function(){Ge(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,JT=function(){return new Na},ZT=function(){return di()},WT=rr,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,vh=gi,Dr.COMPLETE="complete",XT=Dr,Ho.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Jl=Ho,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,KT=He}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",O0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Mp("@firebase/firestore");function oo(){return sa.logLevel}function ce(r,...e){if(sa.logLevel<=Ve.DEBUG){const t=e.map(Qp);sa.debug(`Firestore (${Oo}): ${r}`,...t)}}function li(r,...e){if(sa.logLevel<=Ve.ERROR){const t=e.map(Qp);sa.error(`Firestore (${Oo}): ${r}`,...t)}}function Ji(r,...e){if(sa.logLevel<=Ve.WARN){const t=e.map(Qp);sa.warn(`Firestore (${Oo}): ${r}`,...t)}}function Qp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,eb(r,s,t)}function eb(r,e,t){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw li(s),new Error(s)}function Fe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||eb(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class k2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class P2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new tb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class L2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new M0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=z2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function ip(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=nb(),h=B2(u.encode(V0(r,t)),u.encode(V0(e,t)));return h!==0?h:xe(s,o)}}t+=s>65535?2:1}return xe(r.length,e.length)}function V0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function B2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return xe(r[t],e[t]);return xe(r.length,e.length)}function Eo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class _r{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=_r.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return xe(e.length,t.length)}static compareSegments(e,t){const s=_r.isNumericId(e),o=_r.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class nt extends _r{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends _r{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return q2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new Yt([k0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r,e,t){if(!t)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function H2(r,e,t,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function P0(r){if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L0(r){if(pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ib(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function jn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nf(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function Cu(r,e){if(!ib(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ue(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-62135596800,j0=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*j0);return new Ce(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U0)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:St("string",Ce._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ce(0,0))}static max(){return new Se(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function F2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Ce(t+1,0):new Ce(t,s));return new es(o,pe.empty(),e)}function G2(r){return new es(r.readTime,r.key,du)}class es{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new es(Se.min(),pe.empty(),du)}static max(){return new es(Se.max(),pe.empty(),du)}}function Y2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Q2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function K2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}rf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function sf(r){return r==null}function Ph(r){return r===0&&1/r==-1/0}function X2(r){return typeof r=="number"&&Number.isInteger(r)&&!Ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="";function W2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=z0(e)),e=Z2(r.get(t),e);return z0(e)}function Z2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case sb:t+="";break;default:t+=u}}return t}function z0(r){return r+sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function us(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ab(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new wn([])}unionWith(e){let t=new Dt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ob("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const J2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const t=J2.exec(r);if(Fe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="server_timestamp",ub="__type__",cb="__previous_value__",hb="__local_write_time__";function Xp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ub])===null||t===void 0?void 0:t.stringValue)===lb}function af(r){const e=r.mapValue.fields[cb];return Xp(e)?af(e):e}function mu(r){const e=ts(r.mapValue.fields[hb].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Lh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="__type__",tx="__max__",lh={mapValue:{}},db="__vector__",Uh="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xp(r)?4:rx(r)?9007199254740991:nx(r)?10:11:Ee(28295,{value:r})}function Rr(r,e){if(r===e)return!0;const t=rs(r);if(t!==rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ts(o.timestampValue),m=ts(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Ph(h)===Ph(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(B0(h)!==B0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Rr(h[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function gu(r,e){return(r.values||[]).find(t=>Rr(t,e))!==void 0}function To(r,e){if(r===e)return 0;const t=rs(r),s=rs(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return H0(r.timestampValue,e.timestampValue);case 4:return H0(mu(r),mu(e));case 5:return ip(r.stringValue,e.stringValue);case 6:return function(u,h){const m=ns(u),p=ns(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=xe(m[g],p[g]);if(_!==0)return _}return xe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=xe(yt(u.latitude),yt(h.latitude));return m!==0?m:xe(yt(u.longitude),yt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return F0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const w=u.fields||{},b=h.fields||{},D=(m=w[Uh])===null||m===void 0?void 0:m.arrayValue,N=(p=b[Uh])===null||p===void 0?void 0:p.arrayValue,F=xe(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return F!==0?F:F0(D,N)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const b=ip(p[w],_[w]);if(b!==0)return b;const D=To(m[p[w]],g[_[w]]);if(D!==0)return D}return xe(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function H0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=ts(r),s=ts(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function F0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=To(t[o],s[o]);if(u)return u}return xe(t.length,s.length)}function bo(r){return sp(r)}function sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ts(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ns(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=sp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${sp(t.fields[h])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,h)=>{o+=u.length+_h(h)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function G0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ap(r){return!!r&&"integerValue"in r}function Wp(r){return!!r&&"arrayValue"in r}function Y0(r){return!!r&&"nullValue"in r}function Q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function nx(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[fb])===null||t===void 0?void 0:t.stringValue)===db}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=su(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(r.arrayValue.values[t]);return e}return Object.assign({},r)}function rx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=su(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){us(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new fn(su(this.value))}}function mb(r){const e=[];return us(r.fields,(t,s)=>{const o=new Yt([t]);if(Eh(s)){const u=mb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),fn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,Se.min(),Se.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Se.min(),Se.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.position=e,this.inclusive=t}}function $0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=To(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function K0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Rr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ix(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{}class wt extends pb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ax(e,t,s):t==="array-contains"?new ux(e,s):t==="in"?new cx(e,s):t==="not-in"?new hx(e,s):t==="array-contains-any"?new fx(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new ox(e,s):new lx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(To(t,this.value)):t!==null&&rs(this.value)===rs(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends pb{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Jn(e,t)}matches(e){return gb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function gb(r){return r.op==="and"}function yb(r){return sx(r)&&gb(r)}function sx(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function op(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(yb(r))return r.filters.map(e=>op(e)).join(",");{const e=r.filters.map(t=>op(t)).join(",");return`${r.op}(${e})`}}function vb(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Rr(s.value,o.value)}(r,e):r instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&vb(h,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function _b(r){return r instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`}(r):r instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(_b).join(" ,")+"}"}(r):"Filter"}class ax extends wt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class ox extends wt{constructor(e,t){super(e,"in",t),this.keys=Eb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lx extends wt{constructor(e,t){super(e,"not-in",t),this.keys=Eb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Eb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class ux extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&gu(t.arrayValue,this.value)}}class cx extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class hx extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class fx extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function X0(r,e=null,t=[],s=[],o=null,u=null,h=null){return new dx(r,e,t,s,o,u,h)}function Zp(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>op(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>bo(s)).join(",")),e.Pe=t}return e.Pe}function Jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ix(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!vb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!K0(r.startAt,e.startAt)&&K0(r.endAt,e.endAt)}function lp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mx(r,e,t,s,o,u,h,m){return new ko(r,e,t,s,o,u,h,m)}function of(r){return new ko(r)}function W0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Tb(r){return r.collectionGroup!==null}function au(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new yu(u,s))}),t.has(Yt.keyField().canonicalString())||e.Te.push(new yu(Yt.keyField(),s))}return e.Te}function Tr(r){const e=Ae(r);return e.Ie||(e.Ie=px(e,au(r))),e.Ie}function px(r,e){if(r.limitType==="F")return X0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)});const t=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return X0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function up(r,e){const t=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function cp(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function lf(r,e){return Jp(Tr(r),Tr(e))&&r.limitType===e.limitType}function bb(r){return`${Zp(Tr(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>_b(o)).join(", ")}]`),sf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>bo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>bo(o)).join(",")),`Target(${s})`}(Tr(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=$0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,au(s),o)||s.endAt&&!function(h,m,p){const g=$0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,au(s),o))}(r,e)}function gx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wb(r){return(e,t)=>{let s=!1;for(const o of au(r)){const u=yx(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yx(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?To(p,g):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new lt(pe.comparator);function ui(){return vx}const Sb=new lt(pe.comparator);function eu(...r){let e=Sb;for(const t of r)e=e.insert(t.key,t);return e}function Ab(r){let e=Sb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Zs(){return ou()}function Rb(){return ou()}function ou(){return new la(r=>r.toString(),(r,e)=>r.isEqual(e))}const _x=new lt(pe.comparator),Ex=new Dt(pe.comparator);function ke(...r){let e=Ex;for(const t of r)e=e.add(t);return e}const Tx=new Dt(xe);function bx(){return Tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function Ib(r){return{integerValue:""+r}}function wx(r,e){return X2(e)?Ib(e):eg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function Sx(r,e,t){return r instanceof vu?function(o,u){const h={fields:{[ub]:{stringValue:lb},[hb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xp(u)&&(u=af(u)),u&&(h.fields[cb]=u),{mapValue:h}}(t,e):r instanceof wo?xb(r,e):r instanceof So?Db(r,e):function(o,u){const h=Cb(o,u),m=Z0(h)+Z0(o.Ee);return ap(h)&&ap(o.Ee)?Ib(m):eg(o.serializer,m)}(r,e)}function Ax(r,e,t){return r instanceof wo?xb(r,e):r instanceof So?Db(r,e):t}function Cb(r,e){return r instanceof zh?function(s){return ap(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class vu extends cf{}class wo extends cf{constructor(e){super(),this.elements=e}}function xb(r,e){const t=Nb(e);for(const s of r.elements)t.some(o=>Rr(o,s))||t.push(s);return{arrayValue:{values:t}}}class So extends cf{constructor(e){super(),this.elements=e}}function Db(r,e){let t=Nb(e);for(const s of r.elements)t=t.filter(o=>!Rr(o,s));return{arrayValue:{values:t}}}class zh extends cf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Z0(r){return yt(r.integerValue||r.doubleValue)}function Nb(r){return Wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.field=e,this.transform=t}}function Rx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof wo&&o instanceof wo||s instanceof So&&o instanceof So?Eo(s.elements,o.elements,Rr):s instanceof zh&&o instanceof zh?Rr(s.Ee,o.Ee):s instanceof vu&&o instanceof vu}(r.transform,e.transform)}class Ix{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hf{}function Ob(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ng(r.key,zn.none()):new xu(r.key,r.data,zn.none());{const t=r.data,s=fn.empty();let o=new Dt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new cs(r.key,s,new wn(o.toArray()),zn.none())}}function Cx(r,e,t){r instanceof xu?function(o,u,h){const m=o.value.clone(),p=eE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof cs?function(o,u,h){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=eE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Mb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function lu(r,e,t,s){return r instanceof xu?function(u,h,m,p){if(!Th(u.precondition,h))return m;const g=u.value.clone(),_=tE(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof cs?function(u,h,m,p){if(!Th(u.precondition,h))return m;const g=tE(u.fieldTransforms,p,h),_=h.data;return _.setAll(Mb(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(u,h,m){return Th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function xx(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Cb(s.transform,o||null);u!=null&&(t===null&&(t=fn.empty()),t.set(s.field,u))}return t||null}function J0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,(u,h)=>Rx(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends hf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends hf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Mb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function eE(r,e,t){const s=new Map;Fe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,Ax(h,m,t[o]))}return s}function tE(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,Sx(u,h,e))}return s}class ng extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dx extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Cx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Rb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=Ob(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(t,s)=>J0(t,s))&&Eo(this.baseMutations,e.baseMutations,(t,s)=>J0(t,s))}}class rg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return _x}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new rg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,je;function Vx(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Vb(r){if(r===void 0)return li("GRPC error has no .code"),J.UNKNOWN;switch(r){case bt.OK:return J.OK;case bt.CANCELLED:return J.CANCELLED;case bt.UNKNOWN:return J.UNKNOWN;case bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case bt.INTERNAL:return J.INTERNAL;case bt.UNAVAILABLE:return J.UNAVAILABLE;case bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case bt.NOT_FOUND:return J.NOT_FOUND;case bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case bt.ABORTED:return J.ABORTED;case bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case bt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Xi([4294967295,4294967295],0);function nE(r){const e=nb().encode(r),t=new $T;return t.update(e),new Uint8Array(t.digest())}function rE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xi([t,s],0),new Xi([o,u],0)]}class ig{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new tu(`Invalid padding: ${t}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new tu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Xi.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Xi.fromNumber(s)));return o.compare(kx)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=nE(e),[s,o]=rE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ig(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=nE(e),[s,o]=rE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ff(Se.min(),o,new lt(xe),ui(),ke())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class kb{constructor(e,t){this.targetId=e,this.De=t}}class Pb{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class iE{constructor(){this.ve=0,this.Ce=sE(),this.Fe=Qt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),s=ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Du(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=sE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Px{constructor(e){this.We=e,this.Ge=new Map,this.ze=ui(),this.je=uh(),this.Je=uh(),this.He=new lt(xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(lp(u))if(s===0){const h=new pe(u.path);this.Xe(t,h,Jt.newNoDocument(h,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=ns(s).toUint8Array()}catch(p){if(p instanceof ob)return Ji("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ig(h,o,u)}catch(p){return Ji(p instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&lp(m.target)){const p=new pe(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Jt.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=ke();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new ff(e,t,this.He,this.ze,s);return this.ze=ui(),this.je=uh(),this.Je=uh(),this.He=new lt(xe),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new iE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new iE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function uh(){return new lt(pe.comparator)}function sE(){return new lt(pe.comparator)}const Lx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class zx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(r,e){return r.useProto3Json||sf(e)?e:{value:e}}function Bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Bx(r,e){return Bh(r,e.toTimestamp())}function br(r){return Fe(!!r,49232),Se.fromTimestamp(function(t){const s=ts(t);return new Ce(s.seconds,s.nanos)}(r))}function sg(r,e){return fp(r,e).canonicalString()}function fp(r,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Ub(r){const e=nt.fromString(r);return Fe(Hb(e),10190,{key:e.toString()}),e}function dp(r,e){return sg(r.databaseId,e.path)}function Bm(r,e){const t=Ub(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(zb(t))}function jb(r,e){return sg(r.databaseId,e)}function qx(r){const e=Ub(r);return e.length===4?nt.emptyPath():zb(e)}function mp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function aE(r,e,t){return{name:dp(r,e),fields:t.value.mapValue.fields}}function Hx(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?J.UNKNOWN:Vb(g.code);return new ue(_,g.message||"")}(h);t=new Pb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bm(r,s.document.name),u=br(s.document.updateTime),h=s.document.createTime?br(s.document.createTime):Se.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new bh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bm(r,s.document),u=s.readTime?br(s.readTime):Se.min(),h=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bm(r,s.document),u=s.removedTargetIds||[];t=new bh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Mx(o,u),m=s.targetId;t=new kb(m,h)}}return t}function Fx(r,e){let t;if(e instanceof xu)t={update:aE(r,e.key,e.value)};else if(e instanceof ng)t={delete:dp(r,e.key)};else if(e instanceof cs)t={update:aE(r,e.key,e.data),updateMask:Jx(e.fieldMask)};else{if(!(e instanceof Dx))return Ee(16599,{Rt:e.type});t={verify:dp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof vu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof So)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Bx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),t}function Gx(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?br(o.updateTime):br(u);return h.isEqual(Se.min())&&(h=br(u)),new Ix(h,o.transformResults||[])}(t,e))):[]}function Yx(r,e){return{documents:[jb(r,e.path)]}}function Qx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jb(r,o);const u=function(g){if(g.length!==0)return qb(Jn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:uo(b.field),direction:Xx(b.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=hp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function $x(r){let e=qx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(w){const b=Bb(w);return b instanceof Jn&&yb(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(b=>function(N){return new yu(co(N.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,sf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(w){const b=!!w.before,D=w.values||[];return new jh(D,b)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const b=!w.before,D=w.values||[];return new jh(D,b)}(t.endAt)),mx(e,o,h,u,m,"F",p,g)}function Kx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Bb(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=co(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(t.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(t.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return wt.create(co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(s=>Bb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function Xx(r){return Lx[r]}function Wx(r){return Ux[r]}function Zx(r){return jx[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Yt.fromServerFormat(r.fieldPath)}function qb(r){return r instanceof wt?function(t){if(t.op==="=="){if(Q0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(Y0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(Y0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:Wx(t.op),value:t.value}}}(r):r instanceof Jn?function(t){const s=t.getFilters().map(o=>qb(o));return s.length===1?s[0]:{compositeFilter:{op:Zx(t.op),filters:s}}}(r):Ee(54877,{filter:r})}function Jx(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Hb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,s,o,u=Se.min(),h=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.gt=e}}function tD(r){const e=$x({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.Dn=new rD}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(es.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(es.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class rD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fb=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(Fb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ao(0)}static ur(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",iD=1048576;function uE([r,e],[t,s]){const o=xe(r,t);return o===0?xe(e,s):o}class sD{constructor(e){this.Tr=e,this.buffer=new Dt(uE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();uE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(lE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?ce(lE,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.Rr(3e5)})}}class oD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(rf.ue);const s=new sD(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(oE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),oo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function lD(r,e){return new oD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&lu(s.mutation,o,wn.empty(),Ce.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=Zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=eu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=ui();const h=ou(),m=function(){return ou()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof cs)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),lu(_.mutation,g,_.mutation.getFieldMask(),Ce.now())):h.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var w;return m.set(g,new cD(_,(w=h.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const s=ou();let o=new lt((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||wn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const w=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,w=Rb();_.forEach(b=>{if(!u.has(b)){const D=Ob(t.get(b),s.get(b));D!==null&&w.set(b,D),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Zs());let m=du,p=u;return h.next(g=>te.forEach(g,(_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(_=>({batchId:m,changes:Ab(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=eu();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,b){return new ko(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((w,b)=>{h=h.insert(w,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Jt.newInvalidDocument(_)))});let m=eu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&lu(_.mutation,g,wn.empty(),Ce.now()),uf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:tD(o.bundledQuery),readTime:br(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.overlays=new lt(pe.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Zs();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Zs(),u=t.length+1,h=new pe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Zs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return te.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Ox(t,s));let u=this.kr.get(t);u===void 0&&(u=ke(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.qr=new Dt(Lt.Qr),this.$r=new Dt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new pe(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new pe(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=ke();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return pe.comparator(e.key,t.key)||xe(e.Hr,t.Hr)}static Ur(e,t){return xe(e.Hr,t.Hr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(Lt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Nx(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Kp:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(xe);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new pe(u),0);let m=new Dt(xe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),te.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.ni=e,this.docs=function(){return new lt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=ui();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ui();const h=t.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Y2(G2(_),s)<=0||(o.has(_.key)||uf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new yD(this)}getSize(e){return te.resolve(this.size)}}class yD extends uD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.persistence=e,this.ii=new la(t=>Zp(t),Jp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new ag,this.targetCount=0,this._i=Ao.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t){this.ai={},this.overlays={},this.ui=new rf(0),this.ci=!1,this.ci=!0,this.li=new mD,this.referenceDelegate=e(this),this.hi=new vD(this),this.indexManager=new nD,this.remoteDocumentCache=function(o){return new gD(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new eD(t),this.Ti=new fD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new pD(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new _D(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class _D extends $2{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ai=new ag,this.Ri=null}static Vi(e){return new og(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=pe.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class qh{constructor(e,t){this.persistence=e,this.gi=new la(s=>W2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=lD(this,t)}static Vi(e,t){return new qh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}Sr(e,t,s){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return pR()?8:K2(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ED;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(oo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(oo()<=Ve.DEBUG&&ce("QueryEngine","Query:",lo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(oo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(t))):te.resolve())}ps(e,t){if(W0(t))return te.resolve(null);let s=Tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=cp(t,null,"F"),s=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,h,p.readTime)?this.ps(e,cp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return W0(t)||o.isEqual(Se.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?te.resolve(null):(oo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(t)),this.vs(e,h,t,F2(o,du)).next(m=>m))})}bs(e,t){let s=new Dt(wb(e));return t.forEach((o,u)=>{uf(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return oo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",lo(t)),this.gs.getDocumentsMatchingQuery(e,t,es.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",bD=3e8;class wD{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new lt(xe),this.Ms=new la(u=>Zp(u),Jp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function SD(r,e,t,s){return new wD(r,e,t,s)}async function Yb(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function AD(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const w=g.batch,b=w.keys();let D=te.resolve();return b.forEach(N=>{D=D.next(()=>_.getEntry(p,N)).next(F=>{const q=g.docVersions.get(N);Fe(q!==null,48541),F.version.compareTo(q)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Qb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function RD(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((_,w)=>{const b=o.get(w);if(!b)return;m.push(t.hi.removeMatchingKeys(u,_.removedDocuments,w).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,w)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(w,D),function(F,q,$){return F.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=bD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(b,D,_)&&m.push(t.hi.updateTargetData(u,D))});let p=ui(),g=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(ID(u,h,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!s.isEqual(Se.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(w=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function ID(r,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ui();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(ug,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function CD(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function xD(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new Qi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function pp(r,e,t){const s=Ae(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Vo(h))throw h;ce(ug,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function cE(r,e,t){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const w=Ae(p),b=w.Ms.get(_);return b!==void 0?te.resolve(w.Fs.get(b)):w.hi.getTargetData(g,_)}(s,h,Tr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:ke())).next(m=>(DD(s,gx(e),m),{documents:m,qs:u})))}function DD(r,e,t){let s=r.xs.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class hE{constructor(){this.activeTargetIds=bx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ND{constructor(){this.Fo=new hE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new hE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class dE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(fE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function gp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",MD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=gp(),m=this.Go(e,t.toUriEncodedString());ce(qm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),_=xo(g);return this.jo(e,m,p,s,_).then(w=>(ce(qm,`Received RPC '${e}' ${h}: `,w),w),w=>{throw Ji(qm,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=MD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class PD extends VD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=gp();return new Promise((m,p)=>{const g=new KT;g.setWithCredentials(!0),g.listenOnce(XT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const w=g.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case vh.TIMEOUT:ce(Wt,`RPC '${e}' ${h} timed out`),p(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const b=g.getStatus();if(ce(Wt,`RPC '${e}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D==null?void 0:D.error;if(N&&N.status&&N.message){const F=function($){const W=$.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN}(N.status);p(new ue(F,N.message))}else p(new ue(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);ce(Wt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}P_(e,t,s){const o=gp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=JT(),m=ZT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=h.createWebChannel(_,p);this.T_(w);let b=!1,D=!1;const N=new kD({Ho:q=>{D?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(b||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Yo:()=>w.close()}),F=(q,$,W)=>{q.listen($,re=>{try{W(re)}catch(fe){setTimeout(()=>{throw fe},0)}})};return F(w,Jl.EventType.OPEN,()=>{D||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),N.s_())}),F(w,Jl.EventType.CLOSE,()=>{D||(D=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),N.__(),this.I_(w))}),F(w,Jl.EventType.ERROR,q=>{D||(D=!0,Ji(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),N.__(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),F(w,Jl.EventType.MESSAGE,q=>{var $;if(!D){const W=q.data[0];Fe(!!W,16349);const re=W,fe=(re==null?void 0:re.error)||(($=re[0])===null||$===void 0?void 0:$.error);if(fe){ce(Wt,`RPC '${e}' stream ${o} received error:`,fe);const ie=fe.status;let ye=function(I){const V=bt[I];if(V!==void 0)return Vb(V)}(ie),M=fe.message;ye===void 0&&(ye=J.INTERNAL,M="Unknown error status: "+ie+" with message "+fe.message),D=!0,N.__(new ue(ye,M)),w.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,W),N.a_(W)}}),F(m,WT.STAT_EVENT,q=>{q.stat===rp.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===rp.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return new zx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class Kb{constructor(e,t,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $b(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ce(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LD extends Kb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Hx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?br(h.readTime):Se.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=mp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=lp(p)?{documents:Yx(u,p)}:{query:Qx(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Lb(u,h.resumeToken);const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Kx(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.k_(t)}}class UD extends Kb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Gx(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=mp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Fx(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{}class zD extends jD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,fp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,fp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(J.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class BD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(li(t),this._a=!1):ce("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class qD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{ua(this)&&(ce(aa,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Nu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await mf(g)}(this))})}),this.Aa=new BD(s,o)}}async function mf(r){if(ua(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function Xb(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),dg(t)?fg(t):Po(t).x_()&&hg(t,e))}function cg(r,e){const t=Ae(r),s=Po(t);t.Ta.delete(e),s.x_()&&Wb(t,e),t.Ta.size===0&&(s.x_()?s.B_():ua(t)&&t.Aa.set("Unknown"))}function hg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).H_(e)}function Wb(r,e){r.Ra.$e(e),Po(r).Y_(e)}function fg(r){r.Ra=new Px({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.Aa.aa()}function dg(r){return ua(r)&&!Po(r).M_()&&r.Ta.size>0}function ua(r){return Ae(r).Ia.size===0}function Zb(r){r.Ra=void 0}async function HD(r){r.Aa.set("Online")}async function FD(r){r.Ta.forEach((e,t)=>{hg(r,e)})}async function GD(r,e){Zb(r),dg(r)?(r.Aa.la(e),fg(r)):r.Aa.set("Unknown")}async function YD(r,e,t){if(r.Aa.set("Online"),e instanceof Pb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){ce(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof bh?r.Ra.Ye(e):e instanceof kb?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Se.min()))try{const s=await Qb(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(g);_&&u.Ta.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),Wb(u,p);const w=new Qi(_.target,p,g,_.sequenceNumber);hg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ce(aa,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,t){if(!Vo(e))throw e;r.Ia.add(1),await Nu(r),r.Aa.set("Offline"),t||(t=()=>Qb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(aa,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await mf(r)})}function Jb(r,e){return e().catch(t=>Hh(r,t,e))}async function pf(r){const e=Ae(r),t=is(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kp;for(;QD(e);)try{const o=await CD(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,$D(e,o)}catch(o){await Hh(e,o)}ew(e)&&tw(e)}function QD(r){return ua(r)&&r.Pa.length<10}function $D(r,e){r.Pa.push(e);const t=is(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function ew(r){return ua(r)&&!is(r).M_()&&r.Pa.length>0}function tw(r){is(r).start()}async function KD(r){is(r).na()}async function XD(r){const e=is(r);for(const t of r.Pa)e.X_(t.mutations)}async function WD(r,e,t){const s=r.Pa.shift(),o=rg.from(s,e,t);await Jb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await pf(r)}async function ZD(r,e){e&&is(r).Z_&&await async function(s,o){if(function(h){return Vx(h)&&h!==J.ABORTED}(o.code)){const u=s.Pa.shift();is(s).N_(),await Jb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await pf(s)}}(r,e),ew(r)&&tw(r)}async function pE(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),ce(aa,"RemoteStore received new credentials");const s=ua(t);t.Ia.add(3),await Nu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await mf(t)}async function JD(r,e){const t=Ae(r);e?(t.Ia.delete(2),await mf(t)):e||(t.Ia.add(2),await Nu(t),t.Aa.set("Unknown"))}function Po(r){return r.Va||(r.Va=function(t,s,o){const u=Ae(t);return u.ia(),new LD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:HD.bind(null,r),e_:FD.bind(null,r),n_:GD.bind(null,r),J_:YD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),dg(r)?fg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Zb(r))})),r.Va}function is(r){return r.ma||(r.ma=function(t,s,o){const u=Ae(t);return u.ia(),new UD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:KD.bind(null,r),n_:ZD.bind(null,r),ea:XD.bind(null,r),ta:WD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await pf(r)):(await r.ma.stop(),r.Pa.length>0&&(ce(aa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new mg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(r,e){if(li("AsyncQueue",`${e}: ${r}`),Vo(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=eu(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.fa=new lt(pe.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Ro(e,t,po.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class tN{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=yE(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function yE(){return new la(r=>bb(r),lf)}async function nw(r,e){const t=Ae(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new eN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=pg(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&gg(t)}async function rw(r,e){const t=Ae(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function nN(r,e){const t=Ae(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&gg(t)}function rN(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function gg(r){r.Da.forEach(e=>{e.next()})}var yp,vE;(vE=yp||(yp={})).Fa="default",vE.Cache="cache";class iw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.key=e}}class aw{constructor(e){this.key=e}}class iN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=wb(e),this.eu=new po(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new gE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const b=o.get(_),D=uf(this.query,w)?w:null,N=!!b&&this.mutatedKeys.has(b.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;b&&D?b.data.isEqual(D.data)?N!==F&&(s.track({type:3,doc:D}),q=!0):this.iu(b,D)||(s.track({type:2,doc:D}),q=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(m=!0)):!b&&D?(s.track({type:0,doc:D}),q=!0):b&&!D&&(s.track({type:1,doc:b}),q=!0,(p||g)&&(m=!0)),q&&(D?(h=h.add(D),u=F?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,w)=>function(D,N){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:q})}};return F(D)-F(N)}(_.type,w.type)||this.Xa(_.doc,w.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Ro(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new aw(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new sw(s))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ro.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yg="SyncEngine";class sN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class aN{constructor(e){this.key=e,this.lu=!1}}class oN{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new la(m=>bb(m),lf),this.Tu=new Map,this.Iu=new Set,this.du=new lt(pe.comparator),this.Eu=new Map,this.Au=new ag,this.Ru={},this.Vu=new Map,this.mu=Ao.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function lN(r,e,t=!0){const s=fw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await ow(s,e,t,!0),o}async function uN(r,e){const t=fw(r);await ow(t,e,!0,!1)}async function ow(r,e,t,s){const o=await xD(r.localStore,Tr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await cN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Xb(r.remoteStore,o),m}async function cN(r,e,t,s,o){r.gu=(w,b,D)=>async function(F,q,$,W){let re=q.view.nu($);re.Ds&&(re=await cE(F.localStore,q.query,!1).then(({documents:M})=>q.view.nu(M,re)));const fe=W&&W.targetChanges.get(q.targetId),ie=W&&W.targetMismatches.get(q.targetId)!=null,ye=q.view.applyChanges(re,F.isPrimaryClient,fe,ie);return EE(F,q.targetId,ye._u),ye.snapshot}(r,w,b,D);const u=await cE(r.localStore,e,!0),h=new iN(e,u.qs),m=h.nu(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);EE(r,t,g._u);const _=new sN(e,t,h);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function hN(r,e,t){const s=Ae(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!lf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&cg(s.remoteStore,o.targetId),vp(s,o.targetId)}).catch(Mo)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function fN(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),cg(t.remoteStore,s.targetId))}async function dN(r,e,t){const s=EN(r);try{const o=await function(h,m){const p=Ae(h),g=Ce.now(),_=m.reduce((D,N)=>D.add(N.key),ke());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=ui(),F=ke();return p.Os.getEntries(D,_).next(q=>{N=q,N.forEach(($,W)=>{W.isValidDocument()||(F=F.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,N)).next(q=>{w=q;const $=[];for(const W of m){const re=xx(W,w.get(W.key).overlayedDocument);re!=null&&$.push(new cs(W.key,re,mb(re.value.mapValue),zn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,$,m)}).next(q=>{b=q;const $=q.applyToLocalDocumentSet(w,F);return p.documentOverlayCache.saveOverlays(D,q.batchId,$)})}).then(()=>({batchId:b.batchId,changes:Ab(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new lt(xe)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Ou(s,o.changes),await pf(s.remoteStore)}catch(o){const u=pg(o,"Failed to persist write");t.reject(u)}}async function lw(r,e){const t=Ae(r);try{const s=await RD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Fe(h.lu,14607):o.removedDocuments.size>0&&(Fe(h.lu,42227),h.lu=!1))}),await Ou(t,s,e)}catch(s){await Mo(s)}}function _E(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach((_,w)=>{for(const b of w.wa)b.va(m)&&(g=!0)}),g&&gg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mN(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new lt(pe.comparator);h=h.insert(u,Jt.newNoDocument(u,Se.min()));const m=ke().add(u),p=new ff(Se.min(),new Map,new lt(xe),h,m);await lw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),vg(s)}else await pp(s.localStore,e,!1).then(()=>vp(s,e,t)).catch(Mo)}async function pN(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await AD(t.localStore,e);cw(t,s,null),uw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(t,o)}catch(o){await Mo(o)}}async function gN(r,e,t){const s=Ae(r);try{const o=await function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Fe(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);cw(s,e,t),uw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ou(s,o)}catch(o){await Mo(o)}}function uw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function cw(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function vp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||hw(r,s)})}function hw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(cg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),vg(r))}function EE(r,e,t){for(const s of t)s instanceof sw?(r.Au.addReference(s.key,e),yN(r,s)):s instanceof aw?(ce(yg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||hw(r,s.key)):Ee(19791,{yu:s})}function yN(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ce(yg,"New document in limbo: "+t),r.Iu.add(s),vg(r))}function vg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new pe(nt.fromString(e)),s=r.mu.next();r.Eu.set(s,new aN(t)),r.du=r.du.insert(t,s),Xb(r.remoteStore,new Qi(Tr(of(t.path)),s,"TargetPurposeLimboResolution",rf.ue))}}async function Ou(r,e,t){const s=Ae(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=lg.Es(p.targetId,g);u.push(w)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const _=Ae(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,b=>te.forEach(b.Is,D=>_.persistence.referenceDelegate.addReference(w,b.targetId,D)).next(()=>te.forEach(b.ds,D=>_.persistence.referenceDelegate.removeReference(w,b.targetId,D)))))}catch(w){if(!Vo(w))throw w;ce(ug,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const D=_.Fs.get(b),N=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(N);_.Fs=_.Fs.insert(b,F)}}}(s.localStore,u))}async function vN(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){ce(yg,"User change. New user:",e.toKey());const s=await Yb(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ue(J.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(t,s.Bs)}}function _N(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const m=t.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function fw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_N.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mN.bind(null,e),e.hu.J_=nN.bind(null,e.eventManager),e.hu.pu=rN.bind(null,e.eventManager),e}function EN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gN.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return SD(this.persistence,new TD,e.initialUser,this.serializer)}Du(e){return new Gb(og.Vi,this.serializer)}bu(e){return new ND}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class TN extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aD(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Gb(s=>qh.Vi(s,t),this.serializer)}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vN.bind(null,this.syncEngine),await JD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tN}()}createDatastore(e){const t=df(e.databaseInfo.databaseId),s=function(u){return new PD(u)}(e.databaseInfo);return function(u,h,m,p){return new zD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new qD(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>_E(this.syncEngine,t,0),function(){return dE.C()?new dE:new OD}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const w=new oN(o,u,h,m,p,g);return _&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);ce(aa,"RemoteStore shutting down."),u.Ia.add(5),await Nu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class bN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=$p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=pg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ss,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Yb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ji("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ji("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function TE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await wN(r);ce(ss,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>pE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>pE(e.remoteStore,o)),r._onlineComponents=e}async function wN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ss,"Using user provided OfflineComponentProvider");try{await Fm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ji("Error using user provided cache. Falling back to memory cache: "+t),await Fm(r,new Fh)}}else ce(ss,"Using default OfflineComponentProvider"),await Fm(r,new TN(void 0));return r._offlineComponents}async function mw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ss,"Using user provided OnlineComponentProvider"),await TE(r,r._uninitializedComponentsProvider._online)):(ce(ss,"Using default OnlineComponentProvider"),await TE(r,new _p))),r._onlineComponents}function SN(r){return mw(r).then(e=>e.syncEngine)}async function Ep(r){const e=await mw(r),t=e.eventManager;return t.onListen=lN.bind(null,e.syncEngine),t.onUnlisten=hN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fN.bind(null,e.syncEngine),t}function AN(r,e,t={}){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new dw({next:b=>{_.Ou(),h.enqueueAndForget(()=>rw(u,w));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new iw(of(m.path),_,{includeMetadataChanges:!0,ka:!0});return nw(u,w)}(await Ep(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firestore.googleapis.com",wE=!0;class SE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gw,this.ssl=wE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:wE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iD)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new V2;switch(s.type){case"firstParty":return new U2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=bE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),bE.delete(t),s.terminate())}(this),Promise.resolve()}}function RN(r,e,t,s={}){var o;r=jn(r,gf);const u=xo(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(cT(`https://${p}`),hT("Firestore",!0)),h.host!==gw&&h.host!==p&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!si(g,m)&&(r._setSettings(g),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Zt.MOCK_USER;else{_=aR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Zt(b)}r._authCredentials=new k2(new tb(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Cu(t,dt._jsonSchema))return new dt(e,s||null,new pe(nt.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:St("string",dt._jsonSchemaVersion),referencePath:St("string")};class Zi extends ca{constructor(e,t,s){super(e,t,of(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new pe(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function go(r,e,...t){if(r=Ut(r),rb("collection","path",e),r instanceof gf){const s=nt.fromString(e,...t);return L0(s),new Zi(r,null,s)}{if(!(r instanceof dt||r instanceof Zi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return L0(s),new Zi(r.firestore,null,s)}}function as(r,e,...t){if(r=Ut(r),arguments.length===1&&(e=$p.newId()),rb("doc","path",e),r instanceof gf){const s=nt.fromString(e,...t);return P0(s),new dt(r,null,new pe(s))}{if(!(r instanceof dt||r instanceof Zi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...t));return P0(s),new dt(r.firestore,r instanceof Zi?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $b(this,"async_queue_retry"),this.oc=()=>{const s=Hm();s&&ce(AE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Wi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Vo(e))throw e;ce(AE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,li("INTERNAL UNHANDLED ERROR: ",IE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=mg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:IE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function IE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class os extends gf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function IN(r,e){const t=typeof r=="object"?r:pT(),s=typeof r=="string"?r:Lh,o=kp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=iR("firestore");u&&RN(o,...u)}return o}function _g(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CN(r),r._firestoreClient}function CN(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,_){return new ex(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,pw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new bN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Qt.fromBase64String(e))}catch(t){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Un(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:St("string",Un._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:St("string",wr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Sr(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:St("string",Sr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=/^__.*__$/;class DN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class yw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class vf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Gh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vw(this.Ec)&&xN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class NN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||df(e)}Dc(e,t,s,o=!1){return new vf({Ec:e,methodName:t,bc:s,path:Yt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _f(r){const e=r._freezeSettings(),t=df(r._databaseId);return new NN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function _w(r,e,t,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);wg("Data must be an object, but it was:",h,s);const m=Tw(s,h);let p,g;if(u.merge)p=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const b=Tp(e,w,t);if(!h.contains(b))throw new ue(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ww(_,b)||_.push(b)}p=new wn(_),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new DN(new fn(m),p,g)}class Ef extends Lo{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function Ew(r,e,t){return new vf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Eg extends Lo{_toFieldTransform(e){return new tg(e.path,new vu)}isEqual(e){return e instanceof Eg}}class Tg extends Lo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ew(this,e,!0),s=this.vc.map(u=>ha(u,t)),o=new wo(s);return new tg(e.path,o)}isEqual(e){return e instanceof Tg&&si(this.vc,e.vc)}}class bg extends Lo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ew(this,e,!0),s=this.vc.map(u=>ha(u,t)),o=new So(s);return new tg(e.path,o)}isEqual(e){return e instanceof bg&&si(this.vc,e.vc)}}function ON(r,e,t,s){const o=r.Dc(1,e,t);wg("Data must be an object, but it was:",o,s);const u=[],h=fn.empty();us(s,(p,g)=>{const _=Sg(e,p,t);g=Ut(g);const w=o.gc(_);if(g instanceof Ef)u.push(_);else{const b=ha(g,w);b!=null&&(u.push(_),h.set(_,b))}});const m=new wn(u);return new yw(h,m,o.fieldTransforms)}function MN(r,e,t,s,o,u){const h=r.Dc(1,e,t),m=[Tp(e,s,t)],p=[o];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Tp(e,u[b])),p.push(u[b+1]);const g=[],_=fn.empty();for(let b=m.length-1;b>=0;--b)if(!ww(g,m[b])){const D=m[b];let N=p[b];N=Ut(N);const F=h.gc(D);if(N instanceof Ef)g.push(D);else{const q=ha(N,F);q!=null&&(g.push(D),_.set(D,q))}}const w=new wn(g);return new yw(_,w,h.fieldTransforms)}function VN(r,e,t,s=!1){return ha(t,r.Dc(s?4:3,e))}function ha(r,e){if(bw(r=Ut(r)))return wg("Unsupported field value:",e,r),Tw(r,e);if(r instanceof Lo)return function(s,o){if(!vw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=ha(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:Lb(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Sr)return function(h,m){return{mapValue:{fields:{[fb]:{stringValue:db},[Uh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return eg(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${nf(s)}`)}(r,e)}function Tw(r,e){const t={};return ab(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,(s,o)=>{const u=ha(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function bw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof wr||r instanceof Un||r instanceof dt||r instanceof Lo||r instanceof Sr)}function wg(r,e,t){if(!bw(t)||!ib(t)){const s=nf(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Tp(r,e,t){if((e=Ut(e))instanceof yf)return e._internalPath;if(typeof e=="string")return Sg(r,e);throw Gh("Field path arguments must be of type string or ",r,!1,void 0,t)}const kN=new RegExp("[~\\*/\\[\\]]");function Sg(r,e,t){if(e.search(kN)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new yf(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Gh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(J.INVALID_ARGUMENT,m+r+p)}function ww(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PN extends Sw{data(){return super.data()}}function Tf(r,e){return typeof e=="string"?Sg(r,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class Aw extends Ag{}function Rw(r,e,...t){let s=[];e instanceof Ag&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Rg).length,m=u.filter(p=>p instanceof bf).length;if(h>1||h>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class bf extends Aw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new bf(e,t,s)}_apply(e){const t=this._parse(e);return Iw(e._query,t),new ca(e.firestore,e.converter,up(e._query,t))}_parse(e){const t=_f(e.firestore);return function(u,h,m,p,g,_,w){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){DE(w,_);const N=[];for(const F of w)N.push(xE(p,u,F));b={arrayValue:{values:N}}}else b=xE(p,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||DE(w,_),b=VN(m,h,w,_==="in"||_==="not-in");return wt.create(g,_,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function UN(r,e,t){const s=e,o=Tf("where",r);return bf._create(o,s,t)}class Rg extends Ag{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Iw(h,p),h=up(h,p)}(e._query,t),new ca(e.firestore,e.converter,up(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends Aw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ig(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,h)}(e._query,this._field,this._direction);return new ca(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new ko(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function jN(r,e="asc"){const t=e,s=Tf("orderBy",r);return Ig._create(s,t)}function xE(r,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tb(e)&&t.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G0(r,new pe(s))}if(t instanceof dt)return G0(r,t._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(t)}.`)}function DE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iw(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zN{convertValue(e,t="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>yt(h.doubleValue));return new Sr(u)}convertGeoPoint(e){return new wr(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=af(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=ts(e);return new Ce(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Fe(Hb(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends Sw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Tf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=na._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:St("string",na._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class wh extends na{data(e={}){return super.data(e)}}class yo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wh(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:BN(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(r){r=jn(r,dt);const e=jn(r.firestore,os);return AN(_g(e),r._key).then(t=>Dw(e,r,t))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:St("string",yo._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class xw extends zN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function HN(r,e,t){r=jn(r,dt);const s=jn(r.firestore,os),o=Cw(r.converter,e);return wf(s,[_w(_f(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,zn.none())])}function Yh(r,e,t,...s){r=jn(r,dt);const o=jn(r.firestore,os),u=_f(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof yf?MN(u,"updateDoc",r._key,e,t,s):ON(u,"updateDoc",r._key,e),wf(o,[h.toMutation(r._key,zn.exists(!0))])}function FN(r){return wf(jn(r.firestore,os),[new ng(r._key,zn.none())])}function Sh(r,e){const t=jn(r.firestore,os),s=as(r),o=Cw(r.converter,e);return wf(t,[_w(_f(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then(()=>s)}function bp(r,...e){var t,s,o;r=Ut(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||CE(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(CE(e[h])){const w=e[h];e[h]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,_;if(r instanceof dt)g=jn(r.firestore,os),_=of(r._key.path),p={next:w=>{e[h]&&e[h](Dw(g,r,w))},error:e[h+1],complete:e[h+2]};else{const w=jn(r,ca);g=jn(w.firestore,os),_=w._query;const b=new xw(g);p={next:D=>{e[h]&&e[h](new yo(g,b,w,D))},error:e[h+1],complete:e[h+2]},LN(r._query)}return function(b,D,N,F){const q=new dw(F),$=new iw(D,q,N);return b.asyncQueue.enqueueAndForget(async()=>nw(await Ep(b),$)),()=>{q.Ou(),b.asyncQueue.enqueueAndForget(async()=>rw(await Ep(b),$))}}(_g(g),_,m,p)}function wf(r,e){return function(s,o){const u=new Wi;return s.asyncQueue.enqueueAndForget(async()=>dN(await SN(s),o,u)),u.promise}(_g(r),e)}function Dw(r,e,t){const s=t.docs.get(e._key),o=new xw(r);return new na(r,o,e._key,s,new nu(t.hasPendingWrites,t.fromCache),e.converter)}function Nw(){return new Eg("serverTimestamp")}function GN(...r){return new Tg("arrayUnion",r)}function YN(...r){return new bg("arrayRemove",r)}(function(e,t=!0){(function(o){Oo=o})(Do),vo(new ra("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new os(new P2(s.getProvider("auth-internal")),new j2(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ea(N0,O0,e),ea(N0,O0,"esm2017")})();const QN={apiKey:"AIzaSyDw27FOHVgIPBzP2gP8b68U-RYX2uGcYfc",authDomain:"event-tool-internal.firebaseapp.com",projectId:"event-tool-internal",storageBucket:"event-tool-internal.firebasestorage.app",messagingSenderId:"39341001525",appId:"1:39341001525:web:1b5b19c4f5da1784f81a7c",measurementId:"G-4M23FC4X1N"},Ow=mT(QN),Cg=O2(Ow),Sn=IN(Ow),$N=new ei,Mw=U.createContext(void 0),KN=({children:r})=>{const[e,t]=U.useState(null),[s,o]=U.useState(null),[u,h]=U.useState(!0);U.useEffect(()=>{const p=EC(Cg,async g=>{if(g){t(g);const _=as(Sn,"users",g.uid),w=await qN(_);if(w.exists())o(w.data());else{const b={uid:g.uid,email:g.email||"",displayName:g.displayName||"Googler",photoURL:g.photoURL||"",attendanceHistory:{}};await HN(_,b),o(b)}}else t(null),o(null);h(!1)});return()=>p()},[]);const m={user:e,userProfile:s,loading:u};return A.jsx(Mw.Provider,{value:m,children:r})},fa=()=>{const r=U.useContext(Mw);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},en=({children:r,variant:e="primary",isLoading:t=!1,className:s="",...o})=>{const u="px-4 py-2 rounded-md font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-dark-surface disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",h={primary:"bg-primary text-white hover:bg-blue-600 focus:ring-primary",secondary:"bg-secondary text-white hover:bg-green-600 focus:ring-secondary",danger:"bg-danger text-white hover:bg-red-600 focus:ring-danger",ghost:"bg-transparent text-dark-text-secondary hover:bg-dark-surface hover:text-dark-text border border-dark-border"};return A.jsxs("button",{className:`${u} ${h[e]} ${s}`,disabled:t||o.disabled,...o,children:[t&&A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})};let XN={data:""},WN=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||XN,ZN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JN=/\/\*[^]*?\*\/|  +/g,NE=/\n+/g,Yi=(r,e)=>{let t="",s="",o="";for(let u in r){let h=r[u];u[0]=="@"?u[1]=="i"?t=u+" "+h+";":s+=u[1]=="f"?Yi(h,u):u+"{"+Yi(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=Yi(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Yi.p?Yi.p(u,h):u+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Jr={},Vw=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Vw(r[t]);return e}return r},eO=(r,e,t,s,o)=>{let u=Vw(r),h=Jr[u]||(Jr[u]=(p=>{let g=0,_=11;for(;g<p.length;)_=101*_+p.charCodeAt(g++)>>>0;return"go"+_})(u));if(!Jr[h]){let p=u!==r?r:(g=>{let _,w,b=[{}];for(;_=ZN.exec(g.replace(JN,""));)_[4]?b.shift():_[3]?(w=_[3].replace(NE," ").trim(),b.unshift(b[0][w]=b[0][w]||{})):b[0][_[1]]=_[2].replace(NE," ").trim();return b[0]})(r);Jr[h]=Yi(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let m=t&&Jr.g?Jr.g:null;return t&&(Jr.g=Jr[h]),((p,g,_,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=_?p+g.data:g.data+p)})(Jr[h],e,s,m),h},tO=(r,e,t)=>r.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":Yi(m,""):m===!1?"":m}return s+o+(h??"")},"");function Sf(r){let e=this||{},t=r.call?r(e.p):r;return eO(t.unshift?t.raw?tO(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,WN(e.target),e.g,e.o,e.k)}let kw,wp,Sp;Sf.bind({g:1});let ci=Sf.bind({k:1});function nO(r,e,t,s){Yi.p=e,kw=r,wp=t,Sp=s}function hs(r,e){let t=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:wp&&wp()},m),t.o=/ *go\d+/.test(p),m.className=Sf.apply(t,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),Sp&&g[0]&&Sp(m),kw(g,m)}return o}}var rO=r=>typeof r=="function",Qh=(r,e)=>rO(r)?r(e):r,iO=(()=>{let r=0;return()=>(++r).toString()})(),Pw=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),sO=20,Lw=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,sO)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return Lw(r,{type:r.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},Ah=[],Js={toasts:[],pausedAt:void 0},da=r=>{Js=Lw(Js,r),Ah.forEach(e=>{e(Js)})},aO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oO=(r={})=>{let[e,t]=U.useState(Js),s=U.useRef(Js);U.useEffect(()=>(s.current!==Js&&t(Js),Ah.push(t),()=>{let u=Ah.indexOf(t);u>-1&&Ah.splice(u,1)}),[]);let o=e.toasts.map(u=>{var h,m,p;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((h=r[u.type])==null?void 0:h.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((m=r[u.type])==null?void 0:m.duration)||(r==null?void 0:r.duration)||aO[u.type],style:{...r.style,...(p=r[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},lO=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||iO()}),Mu=r=>(e,t)=>{let s=lO(e,r,t);return da({type:2,toast:s}),s.id},on=(r,e)=>Mu("blank")(r,e);on.error=Mu("error");on.success=Mu("success");on.loading=Mu("loading");on.custom=Mu("custom");on.dismiss=r=>{da({type:3,toastId:r})};on.remove=r=>da({type:4,toastId:r});on.promise=(r,e,t)=>{let s=on.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Qh(e.success,o):void 0;return u?on.success(u,{id:s,...t,...t==null?void 0:t.success}):on.dismiss(s),o}).catch(o=>{let u=e.error?Qh(e.error,o):void 0;u?on.error(u,{id:s,...t,...t==null?void 0:t.error}):on.dismiss(s)}),r};var uO=(r,e)=>{da({type:1,toast:{id:r,height:e}})},cO=()=>{da({type:5,time:Date.now()})},uu=new Map,hO=1e3,fO=(r,e=hO)=>{if(uu.has(r))return;let t=setTimeout(()=>{uu.delete(r),da({type:4,toastId:r})},e);uu.set(r,t)},dO=r=>{let{toasts:e,pausedAt:t}=oO(r);U.useEffect(()=>{if(t)return;let u=Date.now(),h=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&on.dismiss(m.id);return}return setTimeout(()=>on.dismiss(m.id),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[e,t]);let s=U.useCallback(()=>{t&&da({type:6,time:Date.now()})},[t]),o=U.useCallback((u,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=h||{},_=e.filter(D=>(D.position||g)===(u.position||g)&&D.height),w=_.findIndex(D=>D.id===u.id),b=_.filter((D,N)=>N<w&&D.visible).length;return _.filter(D=>D.visible).slice(...m?[b+1]:[0,b]).reduce((D,N)=>D+(N.height||0)+p,0)},[e]);return U.useEffect(()=>{e.forEach(u=>{if(u.dismissed)fO(u.id,u.removeDelay);else{let h=uu.get(u.id);h&&(clearTimeout(h),uu.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:uO,startPause:cO,endPause:s,calculateOffset:o}}},mO=ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pO=ci`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gO=ci`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yO=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vO=ci`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_O=hs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${vO} 1s linear infinite;
`,EO=ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,TO=ci`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bO=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${TO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wO=hs("div")`
  position: absolute;
`,SO=hs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,AO=ci`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RO=hs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${AO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,IO=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?U.createElement(RO,null,e):e:t==="blank"?null:U.createElement(SO,null,U.createElement(_O,{...s}),t!=="loading"&&U.createElement(wO,null,t==="error"?U.createElement(yO,{...s}):U.createElement(bO,{...s})))},CO=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xO=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,DO="0%{opacity:0;} 100%{opacity:1;}",NO="0%{opacity:1;} 100%{opacity:0;}",OO=hs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,MO=hs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VO=(r,e)=>{let t=r.includes("top")?1:-1,[s,o]=Pw()?[DO,NO]:[CO(t),xO(t)];return{animation:e?`${ci(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ci(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kO=U.memo(({toast:r,position:e,style:t,children:s})=>{let o=r.height?VO(r.position||e||"top-center",r.visible):{opacity:0},u=U.createElement(IO,{toast:r}),h=U.createElement(MO,{...r.ariaProps},Qh(r.message,r));return U.createElement(OO,{className:r.className,style:{...o,...t,...r.style}},typeof s=="function"?s({icon:u,message:h}):U.createElement(U.Fragment,null,u,h))});nO(U.createElement);var PO=({id:r,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=U.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return U.createElement("div",{ref:u,className:e,style:t},o)},LO=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},UO=Sf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hh=16,jO=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:u,containerClassName:h})=>{let{toasts:m,handlers:p}=dO(t);return U.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hh,left:hh,right:hh,bottom:hh,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let _=g.position||e,w=p.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),b=LO(_,w);return U.createElement(PO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?UO:"",style:b},g.type==="custom"?Qh(g.message,g):o?o(g):U.createElement(kO,{toast:g,position:_}))}))},rt=on;const zO=()=>{const r=Tu(),{user:e,loading:t}=fa();U.useEffect(()=>{e&&r("/")},[e,r]);const s=async()=>{try{await BC(Cg,$N),rt.success("Signed in successfully!"),r("/")}catch(o){console.error("Authentication error: ",o),rt.error(o.message||"Failed to sign in.")}};return t||e?A.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-dark-bg",children:A.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-bg text-dark-text p-4",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"🏆 FairPlay Scheduler"}),A.jsx("p",{className:"text-lg text-dark-text-secondary",children:"Fair event sign-ups for everyone."})]}),A.jsxs("div",{className:"bg-dark-surface p-8 rounded-lg shadow-2xl max-w-sm w-full text-center",children:[A.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Googler!"}),A.jsx("p",{className:"text-dark-text-secondary mb-6",children:"Sign in to continue."}),A.jsxs(en,{onClick:s,className:"w-full bg-primary hover:bg-blue-600",children:[A.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[A.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.06 6.21C12.43 13.72 17.74 9.5 24 9.5z"}),A.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),A.jsx("path",{fill:"#FBBC05",d:"M10.62 27.58c-.52-1.57-.82-3.24-.82-5.04s.3-3.47.82-5.04l-8.06-6.21C.96 15.7 0 20.05 0 24.55s.96 8.85 2.56 12.78l8.06-6.75z"}),A.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-8.06 6.21C6.51 42.62 14.62 48 24 48z"}),A.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Sign in with Google"]}),A.jsx("p",{className:"text-xs text-dark-text-secondary mt-4",children:"Restricted to @google.com accounts."})]})]})},Rh=({isOpen:r,onClose:e,title:t,children:s,closeOnOverlayClick:o=!1})=>{if(!r)return null;const u=()=>{o&&e()};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4",onClick:u,children:A.jsxs("div",{className:"bg-dark-surface w-full max-w-2xl rounded-lg shadow-xl p-6 relative",onClick:h=>h.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-2xl font-bold text-white",children:t}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-200","aria-label":"Close",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{children:s})]})})},xg=()=>A.jsx("div",{className:"flex justify-center items-center",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),BO=({onClose:r})=>{const[e,t]=U.useState(""),[s,o]=U.useState(""),[u,h]=U.useState(!1),{user:m}=fa(),p=async g=>{if(g.preventDefault(),!(!e.trim()||!m)){h(!0);try{await Sh(go(Sn,"groups"),{name:e,description:s,ownerUids:[m.uid],createdAt:Nw()}),rt.success("Group created successfully!"),r()}catch(_){console.error("Error creating group:",_),rt.error("Failed to create group.")}finally{h(!1)}}};return A.jsxs("form",{onSubmit:p,children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupName",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Group Name"}),A.jsx("input",{id:"groupName",type:"text",value:e,onChange:g=>t(g.target.value),placeholder:"e.g., Football-WAW",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupDesc",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Description"}),A.jsx("textarea",{id:"groupDesc",value:s,onChange:g=>o(g.target.value),placeholder:"A short description of the group and its activities.",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",rows:3,required:!0})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx(en,{type:"button",variant:"ghost",onClick:r,children:"Cancel"}),A.jsx(en,{type:"submit",isLoading:u,children:"Create Group"})]})]})},qO=()=>{const[r,e]=U.useState([]),[t,s]=U.useState(!0),[o,u]=U.useState(!1),h=Tu();return U.useEffect(()=>{s(!0);const m=Rw(go(Sn,"groups")),p=bp(m,g=>{const _=[];g.forEach(w=>{_.push({id:w.id,...w.data()})}),e(_),s(!1)});return()=>p()},[]),A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold",children:"Groups"}),A.jsx(en,{onClick:()=>u(!0),children:"Create New Group"})]}),t?A.jsx(xg,{}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(m=>A.jsxs("div",{className:"bg-dark-surface p-6 rounded-lg shadow-lg hover:shadow-primary/20 hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>h(`/group/${m.id}`),children:[A.jsx("h2",{className:"text-xl font-bold text-primary mb-2",children:m.name}),A.jsx("p",{className:"text-dark-text-secondary line-clamp-2",children:m.description})]},m.id)):A.jsx("p",{className:"text-dark-text-secondary col-span-full text-center",children:"No groups found. Create one to get started!"})}),A.jsx(Rh,{isOpen:o,onClose:()=>u(!1),title:"Create a New Group",children:A.jsx(BO,{onClose:()=>u(!1)})})]})},Uw=6048e5,HO=864e5,OE=Symbol.for("constructDateFrom");function qn(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&OE in r?r[OE](e):r instanceof Date?new r.constructor(e):new Date(e)}function dn(r,e){return qn(e||r,r)}function FO(r,e,t){const s=dn(r,t==null?void 0:t.in);return isNaN(e)?qn(r,NaN):(e&&s.setDate(s.getDate()+e),s)}function GO(r,e,t){const s=dn(r,t==null?void 0:t.in);if(isNaN(e))return qn(r,NaN);if(!e)return s;const o=s.getDate(),u=qn(r,s.getTime());u.setMonth(s.getMonth()+e+1,0);const h=u.getDate();return o>=h?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}function Gm(r,e,t){const{years:s=0,months:o=0,weeks:u=0,days:h=0,hours:m=0,minutes:p=0,seconds:g=0}=e,_=dn(r,t==null?void 0:t.in),w=o||s?GO(_,o+s*12):_,b=h||u?FO(w,h+u*7):w,D=p+m*60,F=(g+D*60)*1e3;return qn(r,+b+F)}let YO={};function Af(){return YO}function _u(r,e){var m,p,g,_;const t=Af(),s=(e==null?void 0:e.weekStartsOn)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((_=(g=t.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,o=dn(r,e==null?void 0:e.in),u=o.getDay(),h=(u<s?7:0)+u-s;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function $h(r,e){return _u(r,{...e,weekStartsOn:1})}function jw(r,e){const t=dn(r,e==null?void 0:e.in),s=t.getFullYear(),o=qn(t,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=$h(o),h=qn(t,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const m=$h(h);return t.getTime()>=u.getTime()?s+1:t.getTime()>=m.getTime()?s:s-1}function ME(r){const e=dn(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function QO(r,...e){const t=qn.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function VE(r,e){const t=dn(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function $O(r,e,t){const[s,o]=QO(t==null?void 0:t.in,r,e),u=VE(s),h=VE(o),m=+u-ME(u),p=+h-ME(h);return Math.round((m-p)/HO)}function KO(r,e){const t=jw(r,e),s=qn(r,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),$h(s)}function XO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function WO(r){return!(!XO(r)&&typeof r!="number"||isNaN(+dn(r)))}function ZO(r,e){const t=dn(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const JO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eM=(r,e,t)=>{let s;const o=JO[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Ym(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const tM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iM={date:Ym({formats:tM,defaultWidth:"full"}),time:Ym({formats:nM,defaultWidth:"full"}),dateTime:Ym({formats:rM,defaultWidth:"full"})},sM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aM=(r,e,t,s)=>sM[r];function Xl(r){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,m=t!=null&&t.width?String(t.width):h;o=r.formattingValues[m]||r.formattingValues[h]}else{const h=r.defaultWidth,m=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[m]||r.values[h]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const oM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dM=(r,e)=>{const t=Number(r),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},mM={ordinalNumber:dM,era:Xl({values:oM,defaultWidth:"wide"}),quarter:Xl({values:lM,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Xl({values:uM,defaultWidth:"wide"}),day:Xl({values:cM,defaultWidth:"wide"}),dayPeriod:Xl({values:hM,defaultWidth:"wide",formattingValues:fM,defaultFormattingWidth:"wide"})};function Wl(r){return(e,t={})=>{const s=t.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?gM(m,w=>w.test(h)):pM(m,w=>w.test(h));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const _=e.slice(h.length);return{value:g,rest:_}}}function pM(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function gM(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function yM(r){return(e,t={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let h=r.valueCallback?r.valueCallback(u[0]):u[0];h=t.valueCallback?t.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const vM=/^(\d+)(th|st|nd|rd)?/i,_M=/\d+/i,EM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TM={any:[/^b/i,/^(a|c)/i]},bM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wM={any:[/1/i,/2/i,/3/i,/4/i]},SM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DM={ordinalNumber:yM({matchPattern:vM,parsePattern:_M,valueCallback:r=>parseInt(r,10)}),era:Wl({matchPatterns:EM,defaultMatchWidth:"wide",parsePatterns:TM,defaultParseWidth:"any"}),quarter:Wl({matchPatterns:bM,defaultMatchWidth:"wide",parsePatterns:wM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Wl({matchPatterns:SM,defaultMatchWidth:"wide",parsePatterns:AM,defaultParseWidth:"any"}),day:Wl({matchPatterns:RM,defaultMatchWidth:"wide",parsePatterns:IM,defaultParseWidth:"any"}),dayPeriod:Wl({matchPatterns:CM,defaultMatchWidth:"any",parsePatterns:xM,defaultParseWidth:"any"})},NM={code:"en-US",formatDistance:eM,formatLong:iM,formatRelative:aM,localize:mM,match:DM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OM(r,e){const t=dn(r,e==null?void 0:e.in);return $O(t,ZO(t))+1}function MM(r,e){const t=dn(r,e==null?void 0:e.in),s=+$h(t)-+KO(t);return Math.round(s/Uw)+1}function zw(r,e){var _,w,b,D;const t=dn(r,e==null?void 0:e.in),s=t.getFullYear(),o=Af(),u=(e==null?void 0:e.firstWeekContainsDate)??((w=(_=e==null?void 0:e.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((D=(b=o.locale)==null?void 0:b.options)==null?void 0:D.firstWeekContainsDate)??1,h=qn((e==null?void 0:e.in)||r,0);h.setFullYear(s+1,0,u),h.setHours(0,0,0,0);const m=_u(h,e),p=qn((e==null?void 0:e.in)||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=_u(p,e);return+t>=+m?s+1:+t>=+g?s:s-1}function VM(r,e){var m,p,g,_;const t=Af(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((_=(g=t.locale)==null?void 0:g.options)==null?void 0:_.firstWeekContainsDate)??1,o=zw(r,e),u=qn((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),_u(u,e)}function kM(r,e){const t=dn(r,e==null?void 0:e.in),s=+_u(t,e)-+VM(t,e);return Math.round(s/Uw)+1}function $e(r,e){const t=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return t+s}const qi={y(r,e){const t=r.getFullYear(),s=t>0?t:1-t;return $e(e==="yy"?s%100:s,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):$e(t+1,2)},d(r,e){return $e(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return $e(r.getHours()%12||12,e.length)},H(r,e){return $e(r.getHours(),e.length)},m(r,e){return $e(r.getMinutes(),e.length)},s(r,e){return $e(r.getSeconds(),e.length)},S(r,e){const t=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,t-3));return $e(o,e.length)}},ao={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kE={G:function(r,e,t){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return t.ordinalNumber(o,{unit:"year"})}return qi.y(r,e)},Y:function(r,e,t,s){const o=zw(r,s),u=o>0?o:1-o;if(e==="YY"){const h=u%100;return $e(h,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):$e(u,e.length)},R:function(r,e){const t=jw(r);return $e(t,e.length)},u:function(r,e){const t=r.getFullYear();return $e(t,e.length)},Q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,t){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return $e(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,t){const s=r.getMonth();switch(e){case"M":case"MM":return qi.M(r,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,t){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,t,s){const o=kM(r,s);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):$e(o,e.length)},I:function(r,e,t){const s=MM(r);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):$e(s,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):qi.d(r,e)},D:function(r,e,t){const s=OM(r);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,e.length)},E:function(r,e,t){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return $e(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return $e(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return $e(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const s=r.getHours();let o;switch(s===12?o=ao.noon:s===0?o=ao.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const s=r.getHours();let o;switch(s>=17?o=ao.evening:s>=12?o=ao.afternoon:s>=4?o=ao.morning:o=ao.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return qi.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):qi.H(r,e)},K:function(r,e,t){const s=r.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):$e(s,e.length)},k:function(r,e,t){let s=r.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):$e(s,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):qi.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):qi.s(r,e)},S:function(r,e){return qi.S(r,e)},X:function(r,e,t){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return LE(s);case"XXXX":case"XX":return Xs(s);case"XXXXX":case"XXX":default:return Xs(s,":")}},x:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"x":return LE(s);case"xxxx":case"xx":return Xs(s);case"xxxxx":case"xxx":default:return Xs(s,":")}},O:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+PE(s,":");case"OOOO":default:return"GMT"+Xs(s,":")}},z:function(r,e,t){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+PE(s,":");case"zzzz":default:return"GMT"+Xs(s,":")}},t:function(r,e,t){const s=Math.trunc(+r/1e3);return $e(s,e.length)},T:function(r,e,t){return $e(+r,e.length)}};function PE(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?t+String(o):t+String(o)+e+$e(u,2)}function LE(r,e){return r%60===0?(r>0?"-":"+")+$e(Math.abs(r)/60,2):Xs(r,e)}function Xs(r,e=""){const t=r>0?"-":"+",s=Math.abs(r),o=$e(Math.trunc(s/60),2),u=$e(s%60,2);return t+o+e+u}const UE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Bw=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PM=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],s=t[1],o=t[2];if(!o)return UE(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",UE(s,e)).replace("{{time}}",Bw(o,e))},LM={p:Bw,P:PM},UM=/^D+$/,jM=/^Y+$/,zM=["D","DD","YY","YYYY"];function BM(r){return UM.test(r)}function qM(r){return jM.test(r)}function HM(r,e,t){const s=FM(r,e,t);if(console.warn(s),zM.includes(r))throw new RangeError(s)}function FM(r,e,t){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QM=/^'([^]*?)'?$/,$M=/''/g,KM=/[a-zA-Z]/;function Kn(r,e,t){var _,w,b,D;const s=Af(),o=s.locale??NM,u=s.firstWeekContainsDate??((w=(_=s.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,h=s.weekStartsOn??((D=(b=s.locale)==null?void 0:b.options)==null?void 0:D.weekStartsOn)??0,m=dn(r,t==null?void 0:t.in);if(!WO(m))throw new RangeError("Invalid time value");let p=e.match(YM).map(N=>{const F=N[0];if(F==="p"||F==="P"){const q=LM[F];return q(N,o.formatLong)}return N}).join("").match(GM).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const F=N[0];if(F==="'")return{isToken:!1,value:XM(N)};if(kE[F])return{isToken:!0,value:N};if(F.match(KM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map(N=>{if(!N.isToken)return N.value;const F=N.value;(qM(F)||BM(F))&&HM(F,e,String(r));const q=kE[F[0]];return q(m,F,o.localize,g)}).join("")}function XM(r){const e=r.match(QM);return e?e[1].replace($M,"'"):r}const WM=({groupId:r,onClose:e})=>{const[t,s]=U.useState(!1),[o,u]=U.useState(!0),h=async m=>{m.preventDefault(),s(!0);const p=new FormData(m.currentTarget),g=Object.fromEntries(p.entries());try{const _=new Date(`${g.eventStartDate}T${g.eventStartTime}`),w=new Date(`${g.regOpenDate}T${g.regOpenTime}`),b=new Date(`${g.revealDate}T${g.revealTime}`),D=new Date,N=new Date(D.getTime()+3*60*60*1e3);if(_<N){rt.error("Event must start at least 3 hours from now."),s(!1);return}if(w>=b){rt.error("Registration must open before the list reveal date."),s(!1);return}const F=new Date(_.getTime()-3*60*60*1e3);if(b>F){rt.error("List must be revealed at least 3 hours before the event starts."),s(!1);return}if(o){const q=new Date(g.recurrenceEndDate),$={groupId:r,title:g.title,description:g.description,location:g.location,spots:Number(g.spots),eventStartDateTime:Ce.fromDate(_),registrationOpenDateTime:Ce.fromDate(w),listRevealDateTime:Ce.fromDate(b),recurrence:{type:g.recurrenceType,value:Number(g.recurrenceValue)},recurrenceEndDate:Ce.fromDate(q)},W=await Sh(go(Sn,"events"),{...$,createdAt:Nw()});let re=_,fe=w,ie=b;for(;re<=q;){const ye={eventId:W.id,groupId:r,title:$.title,description:$.description,location:$.location,spots:$.spots,eventStartDateTime:Ce.fromDate(re),registrationOpenDateTime:Ce.fromDate(fe),listRevealDateTime:Ce.fromDate(ie),participants:[],participantsListProcessed:!1,attendanceProcessed:!1};await Sh(go(Sn,"eventInstances"),ye);const M={[$.recurrence.type]:$.recurrence.value};re=Gm(re,M),fe=Gm(fe,M),ie=Gm(ie,M)}rt.success("Recurring event created successfully!")}else{const q={eventId:"one-time-event",groupId:r,title:g.title,description:g.description,location:g.location,spots:Number(g.spots),eventStartDateTime:Ce.fromDate(_),registrationOpenDateTime:Ce.fromDate(w),listRevealDateTime:Ce.fromDate(b),participants:[],participantsListProcessed:!1,attendanceProcessed:!1};await Sh(go(Sn,"eventInstances"),q),rt.success("Event created successfully!")}e()}catch(_){console.error("Error creating event:",_),rt.error("Failed to create event.")}finally{s(!1)}};return A.jsxs("form",{onSubmit:h,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[A.jsx("input",{name:"title",placeholder:"Event Title",required:!0,className:"input-style"}),A.jsx("textarea",{name:"description",placeholder:"Event Description",required:!0,className:"input-style",rows:3}),A.jsx("input",{name:"location",placeholder:"Location (e.g., Google Maps Link)",required:!0,className:"input-style"}),A.jsx("input",{name:"spots",type:"number",placeholder:"Available Spots",required:!0,min:"1",className:"input-style"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Date"}),A.jsx("input",{name:"eventStartDate",type:"date",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Time"}),A.jsx("input",{name:"eventStartTime",type:"time",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Date"}),A.jsx("input",{name:"regOpenDate",type:"date",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Time"}),A.jsx("input",{name:"regOpenTime",type:"time",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Date"}),A.jsx("input",{name:"revealDate",type:"date",required:!0,className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Time"}),A.jsx("input",{name:"revealTime",type:"time",required:!0,className:"input-style"})]})]}),A.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[A.jsx("input",{type:"checkbox",checked:o,onChange:m=>u(m.target.checked),className:"form-checkbox bg-dark-bg border-dark-border text-primary focus:ring-primary"}),A.jsx("span",{children:"Make this a recurring event"})]}),o&&A.jsxs("div",{className:"space-y-4 border-t border-dark-border pt-4",children:[A.jsx("label",{className:"label-style",children:"Recurrence"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{children:"Every"}),A.jsx("input",{name:"recurrenceValue",type:"number",min:"1",defaultValue:"1",required:o,className:"input-style w-20"}),A.jsxs("select",{name:"recurrenceType",required:o,className:"input-style",children:[A.jsx("option",{value:"days",children:"Day(s)"}),A.jsx("option",{value:"weeks",children:"Week(s)"}),A.jsx("option",{value:"months",children:"Month(s)"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Recurrence End Date"}),A.jsx("input",{name:"recurrenceEndDate",type:"date",required:o,className:"input-style"})]})]}),A.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[A.jsx(en,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),A.jsxs(en,{type:"submit",isLoading:t,children:["Create Event",o&&"s"]})]}),A.jsx("style",{children:`
                .input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }
            `})]})},ZM=({group:r,onClose:e})=>{const[t,s]=U.useState(r.name),[o,u]=U.useState(r.description),[h,m]=U.useState(!1),p=async g=>{if(g.preventDefault(),!t.trim())return;m(!0);const _=as(Sn,"groups",r.id);try{await Yh(_,{name:t,description:o}),rt.success("Group updated successfully!"),e()}catch(w){console.error("Error updating group:",w),rt.error("Failed to update group.")}finally{m(!1)}};return A.jsxs("form",{onSubmit:p,children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupName",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Group Name"}),A.jsx("input",{id:"groupName",type:"text",value:t,onChange:g=>s(g.target.value),className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"groupDesc",className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Description"}),A.jsx("textarea",{id:"groupDesc",value:o,onChange:g=>u(g.target.value),className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 focus:ring-primary focus:border-primary",rows:3,required:!0})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[A.jsx(en,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),A.jsx(en,{type:"submit",isLoading:h,children:"Save Changes"})]})]})},jE=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block text-dark-text-secondary",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10"}),A.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),A.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),JM=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block",children:[A.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e4=({instance:r,userProfile:e,isOwner:t,isPastEvent:s,onEdit:o,onDelete:u})=>{const{user:h}=fa(),[m,p]=U.useState(!1),[g,_]=U.useState([]),[w,b]=U.useState(!1),D=U.useMemo(()=>r.participants.find(ie=>ie.uid===(h==null?void 0:h.uid)),[r.participants,h]),N=U.useMemo(()=>{const ie=new Date;return r.registrationOpenDateTime.toDate()<=ie&&r.eventStartDateTime.toDate()>ie},[r.registrationOpenDateTime,r.eventStartDateTime]),F=U.useMemo(()=>r.participantsListProcessed===!0,[r.participantsListProcessed]),q=U.useMemo(()=>g.slice(0,r.spots),[g,r.spots]),$=U.useMemo(()=>g.slice(r.spots),[g,r.spots]);U.useEffect(()=>{(async()=>{if(r.participants.length===0){_([]);return}_(r.participants)})()},[r,e]);const W=async()=>{if(!h||!e)return;p(!0);const ie=document.getElementById("organizer-checkbox")?document.getElementById("organizer-checkbox").checked:!1,ye={uid:h.uid,displayName:h.displayName||"Googler",photoURL:h.photoURL||"",isOrganizer:ie,registeredAt:Ce.now()};try{const M=as(Sn,"eventInstances",r.id);await Yh(M,{participants:GN(ye)}),rt.success("You're on the list!")}catch(M){console.error(M),rt.error("Failed to register.")}finally{p(!1),b(!1)}},re=async()=>{if(!(!h||!D)){p(!0);try{const ie=as(Sn,"eventInstances",r.id);await Yh(ie,{participants:YN(D)}),rt.success("You have resigned from the event.")}catch(ie){console.error(ie),rt.error("Failed to resign.")}finally{p(!1)}}},fe=(ie,ye)=>A.jsxs("li",{className:"flex items-center gap-3 py-2",children:[A.jsxs("span",{className:"font-mono text-dark-text-secondary w-6 text-right",children:[ye+1,"."]}),A.jsx("img",{src:ie.photoURL,alt:ie.displayName,className:"w-8 h-8 rounded-full"}),A.jsx("span",{className:"flex-grow",children:ie.displayName}),ie.isOrganizer&&A.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},ie.uid);return A.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-lg p-6 flex flex-col md:flex-row gap-6 relative",children:[A.jsxs("div",{className:"md:w-1/3 border-b md:border-b-0 md:border-r border-dark-border pb-6 md:pb-0 md:pr-6",children:[A.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.title}),A.jsx("p",{className:"text-lg font-semibold text-primary",children:Kn(r.eventStartDateTime.toDate(),"eeee, MMMM d, yyyy")}),A.jsx("p",{className:"text-md text-dark-text-secondary mb-4",children:Kn(r.eventStartDateTime.toDate(),"p")}),A.jsx("p",{className:"text-sm text-dark-text-secondary mb-4",children:r.description}),r.location&&A.jsx("a",{href:r.location,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:"View Location"}),A.jsxs("div",{className:"mt-4 text-sm text-dark-text-secondary space-y-2",children:[A.jsxs("p",{children:[A.jsx(jE,{})," Registration opened:"," ",Kn(r.registrationOpenDateTime.toDate(),"PP p")]}),A.jsxs("p",{children:[A.jsx(jE,{})," List reveals:"," ",Kn(r.listRevealDateTime.toDate(),"PP p")]})]})]}),A.jsxs("div",{className:"md:w-2/3",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold",children:[A.jsx(JM,{})," Participants",A.jsxs("span",{className:"text-dark-text-secondary text-lg",children:["(",r.participants.length," / ",r.spots,")"]})]}),N&&(D?A.jsx(en,{variant:"danger",onClick:re,isLoading:m,children:"Resign"}):A.jsxs("div",{className:"flex gap-2 items-center",children:[w&&A.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[A.jsx("input",{id:"organizer-checkbox",type:"checkbox",className:"form-checkbox bg-dark-bg border-dark-border text-primary focus:ring-primary"}),A.jsx("span",{children:"Organizer?"})]}),A.jsx(en,{variant:"secondary",onClick:()=>w?W():b(!0),isLoading:m,children:w?"Confirm Registration":"Register"})]}))]}),F?A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"font-bold text-secondary mb-2",children:["✅ Confirmed List (",q.length,"/",r.spots,")"]}),A.jsx("ul",{className:"divide-y divide-dark-border",children:q.map(fe)})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"font-bold text-warning mb-2",children:["⏳ Waiting List (",$.length,")"]}),$.length>0?A.jsx("ul",{className:"divide-y divide-dark-border",children:$.map((ie,ye)=>fe(ie,ye+r.spots))}):A.jsx("p",{className:"text-sm text-dark-text-secondary italic",children:"Waiting list is empty."})]})]}):A.jsxs("div",{children:[A.jsxs("p",{className:"text-center text-dark-text-secondary bg-dark-bg p-4 rounded-md",children:["The participant list will be sorted and revealed on ",A.jsx("br",{}),A.jsx("span",{className:"font-semibold text-dark-text",children:Kn(r.listRevealDateTime.toDate(),"MMMM d, yyyy 'at' p")})]}),A.jsxs("h4",{className:"font-bold text-white mt-4 mb-2",children:["Registered (",r.participants.length,")"]}),A.jsx("ul",{className:"divide-y divide-dark-border max-h-48 overflow-y-auto",children:r.participants.map((ie,ye)=>A.jsxs("li",{className:"flex items-center gap-3 py-2",children:[A.jsx("img",{src:ie.photoURL,alt:ie.displayName,className:"w-8 h-8 rounded-full"}),A.jsx("span",{children:ie.displayName}),ie.isOrganizer&&A.jsx("span",{className:"text-xs font-bold text-danger bg-danger/20 px-2 py-1 rounded-full",children:"ORGANIZER"})]},ie.uid))})]})]}),t&&A.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[!s&&A.jsx(en,{variant:"ghost",onClick:o,children:"Edit"}),A.jsx(en,{variant:"danger",onClick:u,children:"Delete"})]})]})},t4=({upcomingEvents:r,pastEvents:e,userProfile:t,isOwner:s,onEdit:o,onDelete:u})=>{const[h,m]=U.useState("upcoming"),p=(_,w)=>_.map(b=>A.jsx(e4,{instance:b,userProfile:t,isOwner:s,onEdit:()=>o(b),onDelete:()=>u(b.id),isPastEvent:w},b.id)),g=_=>A.jsxs("div",{className:"text-center py-10 bg-dark-surface rounded-lg",children:[A.jsx("p",{className:"text-dark-text-secondary",children:_==="upcoming"?"No upcoming events scheduled for this group.":"No past events found for this group."}),_==="upcoming"&&s&&A.jsx("p",{className:"mt-2 text-sm text-dark-text-secondary",children:'Click "Create New Events" to get started.'})]});return A.jsxs("div",{className:"mt-8",children:[A.jsxs("div",{className:"flex border-b border-dark-border mb-6",children:[A.jsxs("button",{onClick:()=>m("upcoming"),className:`px-6 py-2 text-lg font-medium transition-colors duration-200 ${h==="upcoming"?"border-b-2 border-primary text-white":"text-dark-text-secondary hover:text-white"}`,children:["Upcoming (",r.length,")"]}),A.jsxs("button",{onClick:()=>m("past"),className:`px-6 py-2 text-lg font-medium transition-colors duration-200 ${h==="past"?"border-b-2 border-primary text-white":"text-dark-text-secondary hover:text-white"}`,children:["Past (",e.length,")"]})]}),A.jsx("div",{className:"space-y-6",children:h==="upcoming"?r.length>0?p(r,!1):g("upcoming"):e.length>0?p(e,!0):g("past")})]})},n4=({group:r,isOwner:e,onOpenCreateEventModal:t,onOpenEditGroupModal:s})=>A.jsxs("div",{className:"mb-8",children:[A.jsx(Wh,{to:"/",className:"text-primary hover:underline",children:"← Back to Groups"}),A.jsxs("div",{className:"flex justify-between items-center mt-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-4xl font-bold",children:r==null?void 0:r.name}),A.jsx("p",{className:"text-dark-text-secondary mt-1",children:r==null?void 0:r.description})]}),e&&A.jsxs("div",{className:"flex gap-2",children:[A.jsx(en,{variant:"secondary",onClick:s,children:"Edit Group"}),A.jsx(en,{onClick:t,children:"Create New Event"})]})]})]}),r4=({instance:r,onClose:e})=>{const[t,s]=U.useState(!1),o=async u=>{u.preventDefault(),s(!0);const h=new FormData(u.currentTarget),m=Object.fromEntries(h.entries());try{const p=new Date(`${m.eventStartDate}T${m.eventStartTime}`),g=new Date(`${m.regOpenDate}T${m.regOpenTime}`),_=new Date(`${m.revealDate}T${m.revealTime}`),w={title:m.title,description:m.description,location:m.location,spots:Number(m.spots),eventStartDateTime:Ce.fromDate(p),registrationOpenDateTime:Ce.fromDate(g),listRevealDateTime:Ce.fromDate(_)},b=as(Sn,"eventInstances",r.id);await Yh(b,w),rt.success("Event instance updated successfully!"),e()}catch(p){console.error("Error updating event:",p),rt.error("Failed to update event.")}finally{s(!1)}};return A.jsxs("form",{onSubmit:o,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[A.jsx("input",{name:"title",placeholder:"Event Title",required:!0,defaultValue:r.title,className:"input-style"}),A.jsx("textarea",{name:"description",placeholder:"Event Description",required:!0,defaultValue:r.description,className:"input-style",rows:3}),A.jsx("input",{name:"location",placeholder:"Location (e.g., Google Maps Link)",required:!0,defaultValue:r.location,className:"input-style"}),A.jsx("input",{name:"spots",type:"number",placeholder:"Available Spots",required:!0,min:"1",defaultValue:r.spots,className:"input-style"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Date"}),A.jsx("input",{name:"eventStartDate",type:"date",required:!0,defaultValue:Kn(r.eventStartDateTime.toDate(),"yyyy-MM-dd"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Event Time"}),A.jsx("input",{name:"eventStartTime",type:"time",required:!0,defaultValue:Kn(r.eventStartDateTime.toDate(),"HH:mm"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Date"}),A.jsx("input",{name:"regOpenDate",type:"date",required:!0,defaultValue:Kn(r.registrationOpenDateTime.toDate(),"yyyy-MM-dd"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"Registration Open Time"}),A.jsx("input",{name:"regOpenTime",type:"time",required:!0,defaultValue:Kn(r.registrationOpenDateTime.toDate(),"HH:mm"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Date"}),A.jsx("input",{name:"revealDate",type:"date",required:!0,defaultValue:Kn(r.listRevealDateTime.toDate(),"yyyy-MM-dd"),className:"input-style"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label-style",children:"List Reveal Time"}),A.jsx("input",{name:"revealTime",type:"time",required:!0,defaultValue:Kn(r.listRevealDateTime.toDate(),"HH:mm"),className:"input-style"})]})]}),A.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[A.jsx(en,{type:"button",variant:"ghost",onClick:e,children:"Cancel"}),A.jsx(en,{type:"submit",isLoading:t,children:"Update Event"})]}),A.jsx("style",{children:`
                .input-style { display: block; width: 100%; background-color: #2a2a2a; border: 1px solid #444; color: #e0e0e0; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                .label-style { display: block; font-size: 0.875rem; font-weight: 500; color: #a0a0a0; margin-bottom: 0.25rem; }
            `})]})},i4=r=>{const[e,t]=U.useState(null),[s,o]=U.useState([]),[u,h]=U.useState([]),[m,p]=U.useState(!0);return U.useEffect(()=>{if(!r){p(!1);return}p(!0);const g=as(Sn,"groups",r),_=bp(g,D=>{D.exists()?t({id:D.id,...D.data()}):(rt.error("Group not found."),t(null))},D=>{console.error("Error fetching group details:",D),rt.error("Failed to load group details.")}),w=Rw(go(Sn,"eventInstances"),UN("groupId","==",r),jN("eventStartDateTime","asc")),b=bp(w,D=>{const N=new Date(new Date().getTime()-72e5),F=[],q=[];D.forEach($=>{const W={id:$.id,...$.data()};W.eventStartDateTime.toDate()<N?q.push(W):F.push(W)}),o(F),h(q.sort(($,W)=>W.eventStartDateTime.toDate().getTime()-$.eventStartDateTime.toDate().getTime())),p(!1)},D=>{console.error("Error fetching events: ",D),rt.error("Failed to load events."),p(!1)});return()=>{_(),b()}},[r]),{group:e,upcomingEvents:s,pastEvents:u,loading:m}},s4=()=>{const{groupId:r}=tA(),{user:e,userProfile:t}=fa(),{group:s,upcomingEvents:o,pastEvents:u,loading:h}=i4(r),[m,p]=U.useState(!1),[g,_]=U.useState(!1),[w,b]=U.useState(!1),[D,N]=U.useState(null),F=(s==null?void 0:s.ownerUids.includes((e==null?void 0:e.uid)||""))||!1,q=W=>{N(W),_(!0)},$=async W=>{if(window.confirm("Are you sure you want to delete this event instance? This action cannot be undone."))try{await FN(as(Sn,"eventInstances",W)),rt.success("Event instance deleted successfully.")}catch(re){console.error("Error deleting event instance: ",re),rt.error("Failed to delete event instance.")}};return h?A.jsx("div",{className:"flex justify-center items-center h-64",children:A.jsx(xg,{})}):A.jsxs("div",{children:[A.jsx(n4,{group:s,isOwner:F,onOpenCreateEventModal:()=>p(!0),onOpenEditGroupModal:()=>b(!0)}),A.jsx(t4,{upcomingEvents:o,pastEvents:u,userProfile:t,isOwner:F,onEdit:q,onDelete:$}),F&&A.jsxs(A.Fragment,{children:[A.jsx(Rh,{isOpen:m,onClose:()=>p(!1),closeOnOverlayClick:!1,title:"Create New Event",children:A.jsx(WM,{groupId:r,onClose:()=>p(!1)})}),D&&A.jsx(Rh,{isOpen:g,onClose:()=>_(!1),closeOnOverlayClick:!1,title:"Edit Event Instance",children:A.jsx(r4,{instance:D,onClose:()=>_(!1)})}),s&&A.jsx(Rh,{isOpen:w,onClose:()=>b(!1),closeOnOverlayClick:!1,title:"Edit Group Details",children:A.jsx(ZM,{group:s,onClose:()=>b(!1)})})]})]})},a4=()=>{const{user:r,userProfile:e}=fa(),t=Tu(),s=async()=>{try{await TC(Cg),rt.success("Signed out successfully"),t("/login")}catch(o){console.error("Error signing out: ",o),rt.error("Failed to sign out")}};return A.jsx("nav",{className:"bg-dark-surface shadow-md",children:A.jsx("div",{className:"container mx-auto px-4",children:A.jsxs("div",{className:"flex justify-between items-center py-3",children:[A.jsx(Wh,{to:"/",className:"text-xl font-bold text-primary flex items-center gap-2",children:"🏆 FairPlay Scheduler"}),r&&e&&A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-8 h-8 rounded-full"}),A.jsx("span",{className:"text-sm font-medium text-dark-text-secondary hidden sm:block",children:e.displayName})]}),A.jsx("button",{onClick:s,className:"bg-danger text-white px-3 py-1.5 rounded-md text-sm font-semibold hover:bg-red-600 transition-colors",children:"Logout"})]})]})})})},zE=({children:r})=>A.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[A.jsx(a4,{}),A.jsx("main",{className:"container mx-auto px-4 py-8",children:r})]}),BE=({children:r})=>{var s;const{user:e,loading:t}=fa();return t?A.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-dark-bg",children:A.jsx(xg,{})}):e?(s=e.email)!=null&&s.endsWith("@google.com")?A.jsx(A.Fragment,{children:r}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-dark-bg text-red-500",children:[A.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),A.jsx("p",{children:"This application is restricted to @google.com users only."}),A.jsx("p",{children:"Please sign in with a valid Google corporate account."})]}):A.jsx(ZE,{to:"/login",replace:!0})},o4=()=>{U.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const{user:r,loading:e}=fa();return A.jsx(zA,{children:A.jsxs(gA,{children:[A.jsx(Zl,{path:"/login",element:A.jsx(zO,{})}),A.jsx(Zl,{path:"/",element:A.jsx(BE,{children:A.jsx(zE,{children:A.jsx(qO,{})})})}),A.jsx(Zl,{path:"/group/:groupId",element:A.jsx(BE,{children:A.jsx(zE,{children:A.jsx(s4,{})})})}),A.jsx(Zl,{path:"*",element:A.jsx(ZE,{to:r&&!e?"/":"/login"})})]})})},qw=document.getElementById("root");if(!qw)throw new Error("Could not find root element to mount to");const l4=S1.createRoot(qw);l4.render(A.jsx(g1.StrictMode,{children:A.jsxs(KN,{children:[A.jsx(o4,{}),A.jsx(jO,{position:"bottom-right",toastOptions:{className:"dark:bg-dark-surface dark:text-dark-text",style:{background:"#333",color:"#fff"}}})]})}));
